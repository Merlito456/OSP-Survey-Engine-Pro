(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function o(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(l){if(l.ep)return;l.ep=!0;const f=o(l);fetch(l.href,f)}})();var vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hu(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Kf={exports:{}},Br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function iy(){if(Rm)return Br;Rm=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(r,l,f){var h=null;if(f!==void 0&&(h=""+f),l.key!==void 0&&(h=""+l.key),"key"in l){f={};for(var m in l)m!=="key"&&(f[m]=l[m])}else f=l;return l=f.ref,{$$typeof:i,type:r,key:h,ref:l!==void 0?l:null,props:f}}return Br.Fragment=e,Br.jsx=o,Br.jsxs=o,Br}var Im;function oy(){return Im||(Im=1,Kf.exports=iy()),Kf.exports}var P=oy(),Xf={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function sy(){if(km)return Qt;km=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function C(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function D(z,G,ct){this.props=z,this.context=G,this.refs=I,this.updater=ct||k}D.prototype.isReactComponent={},D.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function B(){}B.prototype=D.prototype;function H(z,G,ct){this.props=z,this.context=G,this.refs=I,this.updater=ct||k}var Y=H.prototype=new B;Y.constructor=H,M(Y,D.prototype),Y.isPureReactComponent=!0;var V=Array.isArray;function j(){}var K={H:null,A:null,T:null,S:null},pt=Object.prototype.hasOwnProperty;function W(z,G,ct){var ot=ct.ref;return{$$typeof:i,type:z,key:G,ref:ot!==void 0?ot:null,props:ct}}function yt(z,G){return W(z.type,G,z.props)}function Mt(z){return typeof z=="object"&&z!==null&&z.$$typeof===i}function F(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ct){return G[ct]})}var st=/\/+/g;function R(z,G){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):G.toString(36)}function St(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(j,j):(z.status="pending",z.then(function(G){z.status==="pending"&&(z.status="fulfilled",z.value=G)},function(G){z.status==="pending"&&(z.status="rejected",z.reason=G)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,G,ct,ot,at){var Rt=typeof z;(Rt==="undefined"||Rt==="boolean")&&(z=null);var Gt=!1;if(z===null)Gt=!0;else switch(Rt){case"bigint":case"string":case"number":Gt=!0;break;case"object":switch(z.$$typeof){case i:case e:Gt=!0;break;case T:return Gt=z._init,Q(Gt(z._payload),G,ct,ot,at)}}if(Gt)return at=at(z),Gt=ot===""?"."+R(z,0):ot,V(at)?(ct="",Gt!=null&&(ct=Gt.replace(st,"$&/")+"/"),Q(at,G,ct,"",function(Pt){return Pt})):at!=null&&(Mt(at)&&(at=yt(at,ct+(at.key==null||z&&z.key===at.key?"":(""+at.key).replace(st,"$&/")+"/")+Gt)),G.push(at)),1;Gt=0;var Ot=ot===""?".":ot+":";if(V(z))for(var Zt=0;Zt<z.length;Zt++)ot=z[Zt],Rt=Ot+R(ot,Zt),Gt+=Q(ot,G,ct,Rt,at);else if(Zt=C(z),typeof Zt=="function")for(z=Zt.call(z),Zt=0;!(ot=z.next()).done;)ot=ot.value,Rt=Ot+R(ot,Zt++),Gt+=Q(ot,G,ct,Rt,at);else if(Rt==="object"){if(typeof z.then=="function")return Q(St(z),G,ct,ot,at);throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Gt}function tt(z,G,ct){if(z==null)return z;var ot=[],at=0;return Q(z,ot,"","",function(Rt){return G.call(ct,Rt,at++)}),ot}function gt(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(ct){(z._status===0||z._status===-1)&&(z._status=1,z._result=ct)},function(ct){(z._status===0||z._status===-1)&&(z._status=2,z._result=ct)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var lt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},mt={map:tt,forEach:function(z,G,ct){tt(z,function(){G.apply(this,arguments)},ct)},count:function(z){var G=0;return tt(z,function(){G++}),G},toArray:function(z){return tt(z,function(G){return G})||[]},only:function(z){if(!Mt(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Qt.Activity=E,Qt.Children=mt,Qt.Component=D,Qt.Fragment=o,Qt.Profiler=l,Qt.PureComponent=H,Qt.StrictMode=r,Qt.Suspense=y,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return K.H.useMemoCache(z)}},Qt.cache=function(z){return function(){return z.apply(null,arguments)}},Qt.cacheSignal=function(){return null},Qt.cloneElement=function(z,G,ct){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ot=M({},z.props),at=z.key;if(G!=null)for(Rt in G.key!==void 0&&(at=""+G.key),G)!pt.call(G,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&G.ref===void 0||(ot[Rt]=G[Rt]);var Rt=arguments.length-2;if(Rt===1)ot.children=ct;else if(1<Rt){for(var Gt=Array(Rt),Ot=0;Ot<Rt;Ot++)Gt[Ot]=arguments[Ot+2];ot.children=Gt}return W(z.type,at,ot)},Qt.createContext=function(z){return z={$$typeof:h,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:f,_context:z},z},Qt.createElement=function(z,G,ct){var ot,at={},Rt=null;if(G!=null)for(ot in G.key!==void 0&&(Rt=""+G.key),G)pt.call(G,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(at[ot]=G[ot]);var Gt=arguments.length-2;if(Gt===1)at.children=ct;else if(1<Gt){for(var Ot=Array(Gt),Zt=0;Zt<Gt;Zt++)Ot[Zt]=arguments[Zt+2];at.children=Ot}if(z&&z.defaultProps)for(ot in Gt=z.defaultProps,Gt)at[ot]===void 0&&(at[ot]=Gt[ot]);return W(z,Rt,at)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(z){return{$$typeof:m,render:z}},Qt.isValidElement=Mt,Qt.lazy=function(z){return{$$typeof:T,_payload:{_status:-1,_result:z},_init:gt}},Qt.memo=function(z,G){return{$$typeof:_,type:z,compare:G===void 0?null:G}},Qt.startTransition=function(z){var G=K.T,ct={};K.T=ct;try{var ot=z(),at=K.S;at!==null&&at(ct,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(j,lt)}catch(Rt){lt(Rt)}finally{G!==null&&ct.types!==null&&(G.types=ct.types),K.T=G}},Qt.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Qt.use=function(z){return K.H.use(z)},Qt.useActionState=function(z,G,ct){return K.H.useActionState(z,G,ct)},Qt.useCallback=function(z,G){return K.H.useCallback(z,G)},Qt.useContext=function(z){return K.H.useContext(z)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(z,G){return K.H.useDeferredValue(z,G)},Qt.useEffect=function(z,G){return K.H.useEffect(z,G)},Qt.useEffectEvent=function(z){return K.H.useEffectEvent(z)},Qt.useId=function(){return K.H.useId()},Qt.useImperativeHandle=function(z,G,ct){return K.H.useImperativeHandle(z,G,ct)},Qt.useInsertionEffect=function(z,G){return K.H.useInsertionEffect(z,G)},Qt.useLayoutEffect=function(z,G){return K.H.useLayoutEffect(z,G)},Qt.useMemo=function(z,G){return K.H.useMemo(z,G)},Qt.useOptimistic=function(z,G){return K.H.useOptimistic(z,G)},Qt.useReducer=function(z,G,ct){return K.H.useReducer(z,G,ct)},Qt.useRef=function(z){return K.H.useRef(z)},Qt.useState=function(z){return K.H.useState(z)},Qt.useSyncExternalStore=function(z,G,ct){return K.H.useSyncExternalStore(z,G,ct)},Qt.useTransition=function(){return K.H.useTransition()},Qt.version="19.2.3",Qt}var Lm;function Td(){return Lm||(Lm=1,Xf.exports=sy()),Xf.exports}var bt=Td();const Ru=Hu(bt);var Wf={exports:{}},Hr={},Qf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function ay(){return Dm||(Dm=1,(function(i){function e(Q,tt){var gt=Q.length;Q.push(tt);t:for(;0<gt;){var lt=gt-1>>>1,mt=Q[lt];if(0<l(mt,tt))Q[lt]=tt,Q[gt]=mt,gt=lt;else break t}}function o(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var tt=Q[0],gt=Q.pop();if(gt!==tt){Q[0]=gt;t:for(var lt=0,mt=Q.length,z=mt>>>1;lt<z;){var G=2*(lt+1)-1,ct=Q[G],ot=G+1,at=Q[ot];if(0>l(ct,gt))ot<mt&&0>l(at,ct)?(Q[lt]=at,Q[ot]=gt,lt=ot):(Q[lt]=ct,Q[G]=gt,lt=G);else if(ot<mt&&0>l(at,gt))Q[lt]=at,Q[ot]=gt,lt=ot;else break t}}return tt}function l(Q,tt){var gt=Q.sortIndex-tt.sortIndex;return gt!==0?gt:Q.id-tt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var y=[],_=[],T=1,E=null,w=3,C=!1,k=!1,M=!1,I=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Y(Q){for(var tt=o(_);tt!==null;){if(tt.callback===null)r(_);else if(tt.startTime<=Q)r(_),tt.sortIndex=tt.expirationTime,e(y,tt);else break;tt=o(_)}}function V(Q){if(M=!1,Y(Q),!k)if(o(y)!==null)k=!0,j||(j=!0,F());else{var tt=o(_);tt!==null&&St(V,tt.startTime-Q)}}var j=!1,K=-1,pt=5,W=-1;function yt(){return I?!0:!(i.unstable_now()-W<pt)}function Mt(){if(I=!1,j){var Q=i.unstable_now();W=Q;var tt=!0;try{t:{k=!1,M&&(M=!1,B(K),K=-1),C=!0;var gt=w;try{e:{for(Y(Q),E=o(y);E!==null&&!(E.expirationTime>Q&&yt());){var lt=E.callback;if(typeof lt=="function"){E.callback=null,w=E.priorityLevel;var mt=lt(E.expirationTime<=Q);if(Q=i.unstable_now(),typeof mt=="function"){E.callback=mt,Y(Q),tt=!0;break e}E===o(y)&&r(y),Y(Q)}else r(y);E=o(y)}if(E!==null)tt=!0;else{var z=o(_);z!==null&&St(V,z.startTime-Q),tt=!1}}break t}finally{E=null,w=gt,C=!1}tt=void 0}}finally{tt?F():j=!1}}}var F;if(typeof H=="function")F=function(){H(Mt)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,R=st.port2;st.port1.onmessage=Mt,F=function(){R.postMessage(null)}}else F=function(){D(Mt,0)};function St(Q,tt){K=D(function(){Q(i.unstable_now())},tt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var tt=3;break;default:tt=w}var gt=w;w=tt;try{return Q()}finally{w=gt}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(Q,tt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var gt=w;w=Q;try{return tt()}finally{w=gt}},i.unstable_scheduleCallback=function(Q,tt,gt){var lt=i.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?lt+gt:lt):gt=lt,Q){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=gt+mt,Q={id:T++,callback:tt,priorityLevel:Q,startTime:gt,expirationTime:mt,sortIndex:-1},gt>lt?(Q.sortIndex=gt,e(_,Q),o(y)===null&&Q===o(_)&&(M?(B(K),K=-1):M=!0,St(V,gt-lt))):(Q.sortIndex=mt,e(y,Q),k||C||(k=!0,j||(j=!0,F()))),Q},i.unstable_shouldYield=yt,i.unstable_wrapCallback=function(Q){var tt=w;return function(){var gt=w;w=tt;try{return Q.apply(this,arguments)}finally{w=gt}}}})($f)),$f}var Pm;function ry(){return Pm||(Pm=1,Qf.exports=ay()),Qf.exports}var jf={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function ly(){if(zm)return cn;zm=1;var i=Td();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");function f(y,_,T){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:_,implementation:T}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(y,_,null,T)},cn.flushSync=function(y){var _=h.T,T=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=_,r.p=T,r.d.f()}},cn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},cn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},cn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,E=m(T,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,C=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:C}):T==="script"&&r.d.X(y,{crossOrigin:E,integrity:w,fetchPriority:C,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},cn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},cn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,E=m(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},cn.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=m(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},cn.requestFormReset=function(y){r.d.r(y)},cn.unstable_batchedUpdates=function(y,_){return y(_)},cn.useFormState=function(y,_,T){return h.H.useFormState(y,_,T)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.2.3",cn}var Um;function A_(){if(Um)return jf.exports;Um=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jf.exports=ly(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om;function uy(){if(Om)return Hr;Om=1;var i=ry(),e=Td(),o=A_();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(f(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,c=n;;){var v=a.return;if(v===null)break;var S=v.alternate;if(S===null){if(c=v.return,c!==null){a=c;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===a)return y(v),t;if(S===c)return y(v),n;S=S.sibling}throw Error(r(188))}if(a.return!==c.return)a=v,c=S;else{for(var A=!1,O=v.child;O;){if(O===a){A=!0,a=v,c=S;break}if(O===c){A=!0,c=v,a=S;break}O=O.sibling}if(!A){for(O=S.child;O;){if(O===a){A=!0,a=S,c=v;break}if(O===c){A=!0,c=S,a=v;break}O=O.sibling}if(!A)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),yt=Symbol.for("react.memo_cache_sentinel"),Mt=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=Mt&&t[Mt]||t["@@iterator"],typeof t=="function"?t:null)}var st=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===st?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case D:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case j:return"SuspenseList";case W:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case H:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case Y:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case pt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var St=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},lt=[],mt=-1;function z(t){return{current:t}}function G(t){0>mt||(t.current=lt[mt],lt[mt]=null,mt--)}function ct(t,n){mt++,lt[mt]=t.current,t.current=n}var ot=z(null),at=z(null),Rt=z(null),Gt=z(null);function Ot(t,n){switch(ct(Rt,n),ct(at,t),ct(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?jp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=jp(n),t=tm(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(ot),ct(ot,t)}function Zt(){G(ot),G(at),G(Rt)}function Pt(t){t.memoizedState!==null&&ct(Gt,t);var n=ot.current,a=tm(n,t.type);n!==a&&(ct(at,t),ct(ot,a))}function Bt(t){at.current===t&&(G(ot),G(at)),Gt.current===t&&(G(Gt),Pr._currentValue=gt)}var ce,be;function N(t){if(ce===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ce=n&&n[1]||"",be=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+t+be}var xt=!1;function _t(t,n){if(!t||xt)return"";xt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(vt){var ht=vt}Reflect.construct(t,[],Ct)}else{try{Ct.call()}catch(vt){ht=vt}t.call(Ct.prototype)}}else{try{throw Error()}catch(vt){ht=vt}(Ct=t())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(vt){if(vt&&ht&&typeof vt.stack=="string")return[vt.stack,ht.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=c.DetermineComponentFrameRoot(),A=S[0],O=S[1];if(A&&O){var X=A.split(`
`),ut=O.split(`
`);for(v=c=0;c<X.length&&!X[c].includes("DetermineComponentFrameRoot");)c++;for(;v<ut.length&&!ut[v].includes("DetermineComponentFrameRoot");)v++;if(c===X.length||v===ut.length)for(c=X.length-1,v=ut.length-1;1<=c&&0<=v&&X[c]!==ut[v];)v--;for(;1<=c&&0<=v;c--,v--)if(X[c]!==ut[v]){if(c!==1||v!==1)do if(c--,v--,0>v||X[c]!==ut[v]){var Tt=`
`+X[c].replace(" at new "," at ");return t.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",t.displayName)),Tt}while(1<=c&&0<=v);break}}}finally{xt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function Z(t,n){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return t.child!==n&&n!==null?N("Suspense Fallback"):N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return _t(t.type,!1);case 11:return _t(t.type.render,!1);case 1:return _t(t.type,!0);case 31:return N("Activity");default:return""}}function q(t){try{var n="",a=null;do n+=Z(t,a),a=t,t=t.return;while(t);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var et=Object.prototype.hasOwnProperty,At=i.unstable_scheduleCallback,Nt=i.unstable_cancelCallback,ft=i.unstable_shouldYield,It=i.unstable_requestPaint,Lt=i.unstable_now,kt=i.unstable_getCurrentPriorityLevel,Vt=i.unstable_ImmediatePriority,fe=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,rn=i.unstable_LowPriority,ei=i.unstable_IdlePriority,dn=i.log,Li=i.unstable_setDisableYieldValue,ve=null,Pe=null;function hn(t){if(typeof dn=="function"&&Li(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(ve,t)}catch{}}var Ne=Math.clz32?Math.clz32:za,mi=Math.log,Pa=Math.LN2;function za(t){return t>>>=0,t===0?32:31-(mi(t)/Pa|0)|0}var Di=256,gi=262144,kn=4194304;function yn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ks(t,n,a){var c=t.pendingLanes;if(c===0)return 0;var v=0,S=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var O=c&134217727;return O!==0?(c=O&~S,c!==0?v=yn(c):(A&=O,A!==0?v=yn(A):a||(a=O&~t,a!==0&&(v=yn(a))))):(O=c&~S,O!==0?v=yn(O):A!==0?v=yn(A):a||(a=c&~t,a!==0&&(v=yn(a)))),v===0?0:n!==0&&n!==v&&(n&S)===0&&(S=v&-v,a=n&-n,S>=a||S===32&&(a&4194048)!==0)?n:v}function Jo(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function tc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var t=kn;return kn<<=1,(kn&62914560)===0&&(kn=4194304),t}function Ua(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Pi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ec(t,n,a,c,v,S){var A=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var O=t.entanglements,X=t.expirationTimes,ut=t.hiddenUpdates;for(a=A&~a;0<a;){var Tt=31-Ne(a),Ct=1<<Tt;O[Tt]=0,X[Tt]=-1;var ht=ut[Tt];if(ht!==null)for(ut[Tt]=null,Tt=0;Tt<ht.length;Tt++){var vt=ht[Tt];vt!==null&&(vt.lane&=-536870913)}a&=~Ct}c!==0&&Kr(t,c,0),S!==0&&v===0&&t.tag!==0&&(t.suspendedLanes|=S&~(A&~n))}function Kr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var c=31-Ne(n);t.entangledLanes|=n,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function Xr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var c=31-Ne(a),v=1<<c;v&n|t[c]&n&&(t[c]|=n),a&=~v}}function Wr(t,n){var a=n&-n;return a=(a&42)!==0?1:Sn(a),(a&(t.suspendedLanes|n))!==0?0:a}function Sn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qt(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Oa(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Em(t.type))}function Ba(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var ni=Math.random().toString(36).slice(2),qe="__reactFiber$"+ni,Qe="__reactProps$"+ni,zi="__reactContainer$"+ni,_i="__reactEvents$"+ni,Qr="__reactListeners$"+ni,nc="__reactHandles$"+ni,$r="__reactResources$"+ni,Ko="__reactMarker$"+ni;function Ha(t){delete t[qe],delete t[Qe],delete t[_i],delete t[Qr],delete t[nc]}function Ui(t){var n=t[qe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[zi]||a[qe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=rm(t);t!==null;){if(a=t[qe])return a;t=rm(t)}return n}t=a,a=t.parentNode}return null}function ro(t){if(t=t[qe]||t[zi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function vi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function lo(t){var n=t[$r];return n||(n=t[$r]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ve(t){t[Ko]=!0}var jr=new Set,tl={};function Oi(t,n){yi(t,n),yi(t+"Capture",n)}function yi(t,n){for(tl[t]=n,t=0;t<n.length;t++)jr.add(n[t])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ga={},qa={};function Wo(t){return et.call(qa,t)?!0:et.call(Ga,t)?!1:Xo.test(t)?qa[t]=!0:(Ga[t]=!0,!1)}function ie(t,n,a){if(Wo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function xe(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Tn(t,n,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+c)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Va(t,n,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,S=c.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return v.call(this)},set:function(A){a=""+A,S.call(this,A)}}),Object.defineProperty(t,n,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(A){a=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Wt(t){if(!t._valueTracker){var n=Bi(t)?"checked":"value";t._valueTracker=Va(t,n,""+t[n])}}function ke(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),c="";return t&&(c=Bi(t)?t.checked?"true":"false":t.value),t=c,t!==a?(n.setValue(t),!0):!1}function uo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ls=/[\n"\\]/g;function Re(t){return t.replace(Ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fa(t,n,a,c,v,S,A,O){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),n!=null?A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),n!=null?ii(t,A,Ke(n)):a!=null?ii(t,A,Ke(a)):c!=null&&t.removeAttribute("value"),v==null&&S!=null&&(t.defaultChecked=!!S),v!=null&&(t.checked=v&&typeof v!="function"&&typeof v!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?t.name=""+Ke(O):t.removeAttribute("name")}function Qo(t,n,a,c,v,S,A,O){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.type=S),n!=null||a!=null){if(!(S!=="submit"&&S!=="reset"||n!=null)){Wt(t);return}a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,O||n===t.value||(t.value=n),t.defaultValue=n}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=O?t.checked:!!c,t.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A),Wt(t)}function ii(t,n,a){n==="number"&&uo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ae(t,n,a,c){if(t=t.options,n){n={};for(var v=0;v<a.length;v++)n["$"+a[v]]=!0;for(a=0;a<t.length;a++)v=n.hasOwnProperty("$"+t[a].value),t[a].selected!==v&&(t[a].selected=v),v&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,v=0;v<t.length;v++){if(t[v].value===a){t[v].selected=!0,c&&(t[v].defaultSelected=!0);return}n!==null||t[v].disabled||(n=t[v])}n!==null&&(n.selected=!0)}}function Si(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function co(t,n,a,c){if(n==null){if(c!=null){if(a!=null)throw Error(r(92));if(St(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),Wt(t)}function qn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Za=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fo(t,n,a){var c=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":c?t.setProperty(n,a):typeof a!="number"||a===0||Za.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ds(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var v in n)c=n[v],n.hasOwnProperty(v)&&a[v]!==c&&fo(t,v,c)}else for(var S in n)n.hasOwnProperty(S)&&fo(t,S,n[S])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ya=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(t){return Ya.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xn(){}var zs=null;function jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var po=null,Kt=null;function Ln(t){var n=ro(t);if(n&&(t=n.stateNode)){var a=t[Qe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var c=a[n];if(c!==t&&c.form===t.form){var v=c[Qe]||null;if(!v)throw Error(r(90));Fa(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(n=0;n<a.length;n++)c=a[n],c.form===t.form&&ke(c)}break t;case"textarea":Si(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ae(t,!!a.multiple,n,!1)}}}var ye=!1;function Ja(t,n,a){if(ye)return t(n,a);ye=!0;try{var c=t(n);return c}finally{if(ye=!1,(po!==null||Kt!==null)&&(Wl(),po&&(n=po,t=Kt,Kt=po=null,Ln(n),t)))for(n=0;n<t.length;n++)Ln(t[n])}}function Hi(t,n){var a=t.stateNode;if(a===null)return null;var c=a[Qe]||null;if(c===null)return null;a=c[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=!1;if(Dn)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){ts=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{ts=!1}var Vn=null,Gi=null,ze=null;function Ti(){if(ze)return ze;var t,n=Gi,a=n.length,c,v="value"in Vn?Vn.value:Vn.textContent,S=v.length;for(t=0;t<a&&n[t]===v[t];t++);var A=a-t;for(c=1;c<=A&&n[a-c]===v[S-c];c++);return ze=v.slice(t,1<c?1-c:void 0)}function es(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ns(){return!0}function el(){return!1}function nn(t){function n(a,c,v,S,A){this._reactName=a,this._targetInst=v,this.type=c,this.nativeEvent=S,this.target=A,this.currentTarget=null;for(var O in t)t.hasOwnProperty(O)&&(a=t[O],this[O]=a?a(S):S[O]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ns:el,this.isPropagationStopped=el,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),n}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=nn(oi),mo=E({},oi,{view:0,detail:0}),re=nn(mo),Ka,pn,si,is=E({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(Ka=t.screenX-si.screenX,pn=t.screenY-si.screenY):pn=Ka=0,si=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:pn}}),nl=nn(is),Xa=E({},is,{dataTransfer:0}),ic=nn(Xa),il=E({},mo,{relatedTarget:0}),Wa=nn(il),oc=E({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=nn(oc),sc=E({},oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fn=nn(sc),ac=E({},oi,{data:0}),$a=nn(ac),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ja(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=sl[t])?!!n[t]:!1}function tr(){return ja}var al=E({},mo,{key:function(t){if(t.key){var n=xi[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ol[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rl=nn(al),rc=E({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=nn(rc),er=E({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),lc=nn(er),ul=E({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cl=nn(ul),Os=E({},is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qi=nn(Os),uc=E({},oi,{newState:0,oldState:0}),os=nn(uc),En=[9,13,27,32],Bs=Dn&&"CompositionEvent"in window,go=null;Dn&&"documentMode"in document&&(go=document.documentMode);var cc=Dn&&"TextEvent"in window&&!go,Hs=Dn&&(!Bs||go&&8<go&&11>=go),Gs=" ",fl=!1;function dl(t,n){switch(t){case"keyup":return En.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function zn(t,n){switch(t){case"compositionend":return nr(n);case"keypress":return n.which!==32?null:(fl=!0,Gs);case"textInput":return t=n.data,t===Gs&&fl?null:t;default:return null}}function vo(t,n){if(_o)return t==="compositionend"||!Bs&&dl(t,n)?(t=Ti(),ze=Gi=Vn=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hs&&n.locale!=="ko"?null:n.data;default:return null}}var fc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fc[t.type]:n==="textarea"}function hl(t,n,a,c){po?Kt?Kt.push(c):Kt=[c]:po=c,n=iu(n,"onChange"),0<n.length&&(a=new Us("onChange","change",null,a,c),t.push({event:a,listeners:n}))}var Yn=null,ss=null;function as(t){Jp(t,0)}function rs(t){var n=vi(t);if(ke(n))return t}function ls(t,n){if(t==="change")return n}var pl=!1;if(Dn){var Jn;if(Dn){var yo="oninput"in document;if(!yo){var ml=document.createElement("div");ml.setAttribute("oninput","return;"),yo=typeof ml.oninput=="function"}Jn=yo}else Jn=!1;pl=Jn&&(!document.documentMode||9<document.documentMode)}function qs(){Yn&&(Yn.detachEvent("onpropertychange",gl),ss=Yn=null)}function gl(t){if(t.propertyName==="value"&&rs(ss)){var n=[];hl(n,ss,t,jo(t)),Ja(as,n)}}function ai(t,n,a){t==="focusin"?(qs(),Yn=n,ss=a,Yn.attachEvent("onpropertychange",gl)):t==="focusout"&&qs()}function dc(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rs(ss)}function So(t,n){if(t==="click")return rs(n)}function hc(t,n){if(t==="input"||t==="change")return rs(n)}function ri(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var $e=typeof Object.is=="function"?Object.is:ri;function To(t,n){if($e(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),c=Object.keys(n);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var v=a[c];if(!et.call(n,v)||!$e(t[v],n[v]))return!1}return!0}function Vs(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function us(t,n){var a=Vs(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=n&&c>=n)return{node:a,offset:n-t};t=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vs(a)}}function Fs(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fs(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function cs(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=uo(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=uo(t.document)}return n}function Ei(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Zs=Dn&&"documentMode"in document&&11>=document.documentMode,wi=null,Ys=null,fs=null,xo=!1;function _l(t,n,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xo||wi==null||wi!==uo(c)||(c=wi,"selectionStart"in c&&Ei(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fs&&To(fs,c)||(fs=c,c=iu(Ys,"onSelect"),0<c.length&&(n=new Us("onSelect","select",null,n,a),t.push({event:n,listeners:c}),n.target=wi)))}function Ci(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Eo={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},Js={},vl={};Dn&&(vl=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function je(t){if(Js[t])return Js[t];if(!Eo[t])return t;var n=Eo[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in vl)return Js[t]=n[a];return t}var ds=je("animationend"),yl=je("animationiteration"),hs=je("animationstart"),pc=je("transitionrun"),Sl=je("transitionstart"),mc=je("transitioncancel"),wo=je("transitionend"),Tl=new Map,bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bi.push("scrollEnd");function wn(t,n){Tl.set(t,n),Oi(n,[t])}var ps=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],ln=0,Ks=0;function ms(){for(var t=ln,n=Ks=ln=0;n<t;){var a=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var v=Cn[n];Cn[n++]=null;var S=Cn[n];if(Cn[n++]=null,c!==null&&v!==null){var A=c.pending;A===null?v.next=v:(v.next=A.next,A.next=v),c.pending=v}S!==0&&Co(a,v,S)}}function Ai(t,n,a,c){Cn[ln++]=t,Cn[ln++]=n,Cn[ln++]=a,Cn[ln++]=c,Ks|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function ir(t,n,a,c){return Ai(t,n,a,c),gs(t)}function Kn(t,n){return Ai(t,null,null,n),gs(t)}function Co(t,n,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var v=!1,S=t.return;S!==null;)S.childLanes|=a,c=S.alternate,c!==null&&(c.childLanes|=a),S.tag===22&&(t=S.stateNode,t===null||t._visibility&1||(v=!0)),t=S,S=S.return;return t.tag===3?(S=t.stateNode,v&&n!==null&&(v=31-Ne(a),t=S.hiddenUpdates,c=t[v],c===null?t[v]=[n]:c.push(n),n.lane=a|536870912),S):null}function gs(t){if(50<Mr)throw Mr=0,vf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Vi={};function gc(t,n,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,a,c){return new gc(t,n,a,c)}function Xs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xn(t,n){var a=t.alternate;return a===null?(a=un(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function or(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function _s(t,n,a,c,v,S){var A=0;if(c=t,typeof t=="function")Xs(t)&&(A=1);else if(typeof t=="string")A=Z0(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case W:return t=un(31,a,n,v),t.elementType=W,t.lanes=S,t;case M:return Fi(a.children,v,S,n);case I:A=8,v|=24;break;case D:return t=un(12,a,n,v|2),t.elementType=D,t.lanes=S,t;case V:return t=un(13,a,n,v),t.elementType=V,t.lanes=S,t;case j:return t=un(19,a,n,v),t.elementType=j,t.lanes=S,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:A=10;break t;case B:A=9;break t;case Y:A=11;break t;case K:A=14;break t;case pt:A=16,c=null;break t}A=29,a=Error(r(130,t===null?"null":typeof t,"")),c=null}return n=un(A,a,n,v),n.elementType=t,n.type=c,n.lanes=S,n}function Fi(t,n,a,c){return t=un(7,t,c,n),t.lanes=a,t}function Ws(t,n,a){return t=un(6,t,null,n),t.lanes=a,t}function sr(t){var n=un(18,null,null,0);return n.stateNode=t,n}function ar(t,n,a){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var s=new WeakMap;function u(t,n){if(typeof t=="object"&&t!==null){var a=s.get(t);return a!==void 0?a:(n={value:t,source:n,stack:q(n)},s.set(t,n),n)}return{value:t,source:n,stack:q(n)}}var g=[],x=0,b=null,U=0,J=[],it=0,dt=null,wt=1,Dt="";function Ft(t,n){g[x++]=U,g[x++]=b,b=t,U=n}function ee(t,n,a){J[it++]=wt,J[it++]=Dt,J[it++]=dt,dt=t;var c=wt;t=Dt;var v=32-Ne(c)-1;c&=~(1<<v),a+=1;var S=32-Ne(n)+v;if(30<S){var A=v-v%5;S=(c&(1<<A)-1).toString(32),c>>=A,v-=A,wt=1<<32-Ne(n)+v|a<<v|c,Dt=S+t}else wt=1<<S|a<<v|c,Dt=t}function Xe(t){t.return!==null&&(Ft(t,1),ee(t,1,0))}function Ue(t){for(;t===b;)b=g[--x],g[x]=null,U=g[--x],g[x]=null;for(;t===dt;)dt=J[--it],J[it]=null,Dt=J[--it],J[it]=null,wt=J[--it],J[it]=null}function mn(t,n){J[it++]=wt,J[it++]=Dt,J[it++]=dt,wt=n.id,Dt=n.overflow,dt=t}var de=null,he=null,oe=!1,Mi=null,bn=!1,Qs=Error(r(519));function Ni(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(u(n,t)),Qs}function rr(t){var n=t.stateNode,a=t.type,c=t.memoizedProps;switch(n[qe]=t,n[Qe]=c,a){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(a=0;a<Rr.length;a++)ae(Rr[a],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":ae("invalid",n),Qo(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ae("invalid",n);break;case"textarea":ae("invalid",n),co(n,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||c.suppressHydrationWarning===!0||Qp(n.textContent,a)?(c.popover!=null&&(ae("beforetoggle",n),ae("toggle",n)),c.onScroll!=null&&ae("scroll",n),c.onScrollEnd!=null&&ae("scrollend",n),c.onClick!=null&&(n.onclick=xn),n=!0):n=!1,n||Ni(t,!0)}function De(t){for(de=t.return;de;)switch(de.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:de=de.return}}function li(t){if(t!==de)return!1;if(!oe)return De(t),oe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Lf(t.type,t.memoizedProps)),a=!a),a&&he&&Ni(t),De(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=am(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));he=am(t)}else n===27?(n=he,Bo(t.type)?(t=Of,Of=null,he=t):he=n):he=de?Qn(t.stateNode.nextSibling):null;return!0}function Zi(){he=de=null,oe=!1}function lr(){var t=Mi;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),Mi=null),t}function vs(t){Mi===null?Mi=[t]:Mi.push(t)}var ys=z(null),Ri=null,ui=null;function bo(t,n,a){ct(ys,n._currentValue),n._currentValue=a}function Yi(t){t._currentValue=ys.current,G(ys)}function _c(t,n,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===a)break;t=t.return}}function vc(t,n,a,c){var v=t.child;for(v!==null&&(v.return=t);v!==null;){var S=v.dependencies;if(S!==null){var A=v.child;S=S.firstContext;t:for(;S!==null;){var O=S;S=v;for(var X=0;X<n.length;X++)if(O.context===n[X]){S.lanes|=a,O=S.alternate,O!==null&&(O.lanes|=a),_c(S.return,a,t),c||(A=null);break t}S=O.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=a,S=A.alternate,S!==null&&(S.lanes|=a),_c(A,a,t),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===t){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function $s(t,n,a,c){t=null;for(var v=n,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var O=v.type;$e(v.pendingProps.value,A.value)||(t!==null?t.push(O):t=[O])}}else if(v===Gt.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(t!==null?t.push(Pr):t=[Pr])}v=v.return}t!==null&&vc(n,t,a,c),n.flags|=262144}function xl(t){for(t=t.firstContext;t!==null;){if(!$e(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ss(t){Ri=t,ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return zd(Ri,t)}function El(t,n){return Ri===null&&Ss(t),zd(t,n)}function zd(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ui===null){if(t===null)throw Error(r(308));ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ui=ui.next=n;return a}var Gv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},qv=i.unstable_scheduleCallback,Vv=i.unstable_NormalPriority,Fe={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yc(){return{controller:new Gv,data:new Map,refCount:0}}function ur(t){t.refCount--,t.refCount===0&&qv(Vv,function(){t.controller.abort()})}var cr=null,Sc=0,js=0,ta=null;function Fv(t,n){if(cr===null){var a=cr=[];Sc=0,js=wf(),ta={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Sc++,n.then(Ud,Ud),n}function Ud(){if(--Sc===0&&cr!==null){ta!==null&&(ta.status="fulfilled");var t=cr;cr=null,js=0,ta=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Zv(t,n){var a=[],c={status:"pending",value:null,reason:null,then:function(v){a.push(v)}};return t.then(function(){c.status="fulfilled",c.value=n;for(var v=0;v<a.length;v++)(0,a[v])(n)},function(v){for(c.status="rejected",c.reason=v,v=0;v<a.length;v++)(0,a[v])(void 0)}),c}var Od=Q.S;Q.S=function(t,n){Tp=Lt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Fv(t,n),Od!==null&&Od(t,n)};var Ts=z(null);function Tc(){var t=Ts.current;return t!==null?t:Me.pooledCache}function wl(t,n){n===null?ct(Ts,Ts.current):ct(Ts,n.pool)}function Bd(){var t=Tc();return t===null?null:{parent:Fe._currentValue,pool:t}}var ea=Error(r(460)),xc=Error(r(474)),Cl=Error(r(542)),bl={then:function(){}};function Hd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gd(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(xn,xn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vd(t),t;default:if(typeof n.status=="string")n.then(xn,xn);else{if(t=Me,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(c){if(n.status==="pending"){var v=n;v.status="fulfilled",v.value=c}},function(c){if(n.status==="pending"){var v=n;v.status="rejected",v.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Vd(t),t}throw Es=n,ea}}function xs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Es=a,ea):a}}var Es=null;function qd(){if(Es===null)throw Error(r(459));var t=Es;return Es=null,t}function Vd(t){if(t===ea||t===Cl)throw Error(r(483))}var na=null,fr=0;function Al(t){var n=fr;return fr+=1,na===null&&(na=[]),Gd(na,t,n)}function dr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ml(t,n){throw n.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Fd(t){function n(nt,$){if(t){var rt=nt.deletions;rt===null?(nt.deletions=[$],nt.flags|=16):rt.push($)}}function a(nt,$){if(!t)return null;for(;$!==null;)n(nt,$),$=$.sibling;return null}function c(nt){for(var $=new Map;nt!==null;)nt.key!==null?$.set(nt.key,nt):$.set(nt.index,nt),nt=nt.sibling;return $}function v(nt,$){return nt=Xn(nt,$),nt.index=0,nt.sibling=null,nt}function S(nt,$,rt){return nt.index=rt,t?(rt=nt.alternate,rt!==null?(rt=rt.index,rt<$?(nt.flags|=67108866,$):rt):(nt.flags|=67108866,$)):(nt.flags|=1048576,$)}function A(nt){return t&&nt.alternate===null&&(nt.flags|=67108866),nt}function O(nt,$,rt,Et){return $===null||$.tag!==6?($=Ws(rt,nt.mode,Et),$.return=nt,$):($=v($,rt),$.return=nt,$)}function X(nt,$,rt,Et){var Yt=rt.type;return Yt===M?Tt(nt,$,rt.props.children,Et,rt.key):$!==null&&($.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===pt&&xs(Yt)===$.type)?($=v($,rt.props),dr($,rt),$.return=nt,$):($=_s(rt.type,rt.key,rt.props,null,nt.mode,Et),dr($,rt),$.return=nt,$)}function ut(nt,$,rt,Et){return $===null||$.tag!==4||$.stateNode.containerInfo!==rt.containerInfo||$.stateNode.implementation!==rt.implementation?($=ar(rt,nt.mode,Et),$.return=nt,$):($=v($,rt.children||[]),$.return=nt,$)}function Tt(nt,$,rt,Et,Yt){return $===null||$.tag!==7?($=Fi(rt,nt.mode,Et,Yt),$.return=nt,$):($=v($,rt),$.return=nt,$)}function Ct(nt,$,rt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Ws(""+$,nt.mode,rt),$.return=nt,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case C:return rt=_s($.type,$.key,$.props,null,nt.mode,rt),dr(rt,$),rt.return=nt,rt;case k:return $=ar($,nt.mode,rt),$.return=nt,$;case pt:return $=xs($),Ct(nt,$,rt)}if(St($)||F($))return $=Fi($,nt.mode,rt,null),$.return=nt,$;if(typeof $.then=="function")return Ct(nt,Al($),rt);if($.$$typeof===H)return Ct(nt,El(nt,$),rt);Ml(nt,$)}return null}function ht(nt,$,rt,Et){var Yt=$!==null?$.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Yt!==null?null:O(nt,$,""+rt,Et);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case C:return rt.key===Yt?X(nt,$,rt,Et):null;case k:return rt.key===Yt?ut(nt,$,rt,Et):null;case pt:return rt=xs(rt),ht(nt,$,rt,Et)}if(St(rt)||F(rt))return Yt!==null?null:Tt(nt,$,rt,Et,null);if(typeof rt.then=="function")return ht(nt,$,Al(rt),Et);if(rt.$$typeof===H)return ht(nt,$,El(nt,rt),Et);Ml(nt,rt)}return null}function vt(nt,$,rt,Et,Yt){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return nt=nt.get(rt)||null,O($,nt,""+Et,Yt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case C:return nt=nt.get(Et.key===null?rt:Et.key)||null,X($,nt,Et,Yt);case k:return nt=nt.get(Et.key===null?rt:Et.key)||null,ut($,nt,Et,Yt);case pt:return Et=xs(Et),vt(nt,$,rt,Et,Yt)}if(St(Et)||F(Et))return nt=nt.get(rt)||null,Tt($,nt,Et,Yt,null);if(typeof Et.then=="function")return vt(nt,$,rt,Al(Et),Yt);if(Et.$$typeof===H)return vt(nt,$,rt,El($,Et),Yt);Ml($,Et)}return null}function Ut(nt,$,rt,Et){for(var Yt=null,pe=null,Ht=$,ne=$=0,ue=null;Ht!==null&&ne<rt.length;ne++){Ht.index>ne?(ue=Ht,Ht=null):ue=Ht.sibling;var me=ht(nt,Ht,rt[ne],Et);if(me===null){Ht===null&&(Ht=ue);break}t&&Ht&&me.alternate===null&&n(nt,Ht),$=S(me,$,ne),pe===null?Yt=me:pe.sibling=me,pe=me,Ht=ue}if(ne===rt.length)return a(nt,Ht),oe&&Ft(nt,ne),Yt;if(Ht===null){for(;ne<rt.length;ne++)Ht=Ct(nt,rt[ne],Et),Ht!==null&&($=S(Ht,$,ne),pe===null?Yt=Ht:pe.sibling=Ht,pe=Ht);return oe&&Ft(nt,ne),Yt}for(Ht=c(Ht);ne<rt.length;ne++)ue=vt(Ht,nt,ne,rt[ne],Et),ue!==null&&(t&&ue.alternate!==null&&Ht.delete(ue.key===null?ne:ue.key),$=S(ue,$,ne),pe===null?Yt=ue:pe.sibling=ue,pe=ue);return t&&Ht.forEach(function(Fo){return n(nt,Fo)}),oe&&Ft(nt,ne),Yt}function Jt(nt,$,rt,Et){if(rt==null)throw Error(r(151));for(var Yt=null,pe=null,Ht=$,ne=$=0,ue=null,me=rt.next();Ht!==null&&!me.done;ne++,me=rt.next()){Ht.index>ne?(ue=Ht,Ht=null):ue=Ht.sibling;var Fo=ht(nt,Ht,me.value,Et);if(Fo===null){Ht===null&&(Ht=ue);break}t&&Ht&&Fo.alternate===null&&n(nt,Ht),$=S(Fo,$,ne),pe===null?Yt=Fo:pe.sibling=Fo,pe=Fo,Ht=ue}if(me.done)return a(nt,Ht),oe&&Ft(nt,ne),Yt;if(Ht===null){for(;!me.done;ne++,me=rt.next())me=Ct(nt,me.value,Et),me!==null&&($=S(me,$,ne),pe===null?Yt=me:pe.sibling=me,pe=me);return oe&&Ft(nt,ne),Yt}for(Ht=c(Ht);!me.done;ne++,me=rt.next())me=vt(Ht,nt,ne,me.value,Et),me!==null&&(t&&me.alternate!==null&&Ht.delete(me.key===null?ne:me.key),$=S(me,$,ne),pe===null?Yt=me:pe.sibling=me,pe=me);return t&&Ht.forEach(function(ny){return n(nt,ny)}),oe&&Ft(nt,ne),Yt}function Ce(nt,$,rt,Et){if(typeof rt=="object"&&rt!==null&&rt.type===M&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case C:t:{for(var Yt=rt.key;$!==null;){if($.key===Yt){if(Yt=rt.type,Yt===M){if($.tag===7){a(nt,$.sibling),Et=v($,rt.props.children),Et.return=nt,nt=Et;break t}}else if($.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===pt&&xs(Yt)===$.type){a(nt,$.sibling),Et=v($,rt.props),dr(Et,rt),Et.return=nt,nt=Et;break t}a(nt,$);break}else n(nt,$);$=$.sibling}rt.type===M?(Et=Fi(rt.props.children,nt.mode,Et,rt.key),Et.return=nt,nt=Et):(Et=_s(rt.type,rt.key,rt.props,null,nt.mode,Et),dr(Et,rt),Et.return=nt,nt=Et)}return A(nt);case k:t:{for(Yt=rt.key;$!==null;){if($.key===Yt)if($.tag===4&&$.stateNode.containerInfo===rt.containerInfo&&$.stateNode.implementation===rt.implementation){a(nt,$.sibling),Et=v($,rt.children||[]),Et.return=nt,nt=Et;break t}else{a(nt,$);break}else n(nt,$);$=$.sibling}Et=ar(rt,nt.mode,Et),Et.return=nt,nt=Et}return A(nt);case pt:return rt=xs(rt),Ce(nt,$,rt,Et)}if(St(rt))return Ut(nt,$,rt,Et);if(F(rt)){if(Yt=F(rt),typeof Yt!="function")throw Error(r(150));return rt=Yt.call(rt),Jt(nt,$,rt,Et)}if(typeof rt.then=="function")return Ce(nt,$,Al(rt),Et);if(rt.$$typeof===H)return Ce(nt,$,El(nt,rt),Et);Ml(nt,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,$!==null&&$.tag===6?(a(nt,$.sibling),Et=v($,rt),Et.return=nt,nt=Et):(a(nt,$),Et=Ws(rt,nt.mode,Et),Et.return=nt,nt=Et),A(nt)):a(nt,$)}return function(nt,$,rt,Et){try{fr=0;var Yt=Ce(nt,$,rt,Et);return na=null,Yt}catch(Ht){if(Ht===ea||Ht===Cl)throw Ht;var pe=un(29,Ht,null,nt.mode);return pe.lanes=Et,pe.return=nt,pe}finally{}}}var ws=Fd(!0),Zd=Fd(!1),Ao=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mo(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function No(t,n,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var v=c.pending;return v===null?n.next=n:(n.next=v.next,v.next=n),c.pending=n,n=gs(t),Co(t,null,a),n}return Ai(t,c,n,a),gs(t)}function hr(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,Xr(t,a)}}function Cc(t,n){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var v=null,S=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};S===null?v=S=A:S=S.next=A,a=a.next}while(a!==null);S===null?v=S=n:S=S.next=n}else v=S=n;a={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var bc=!1;function pr(){if(bc){var t=ta;if(t!==null)throw t}}function mr(t,n,a,c){bc=!1;var v=t.updateQueue;Ao=!1;var S=v.firstBaseUpdate,A=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var X=O,ut=X.next;X.next=null,A===null?S=ut:A.next=ut,A=X;var Tt=t.alternate;Tt!==null&&(Tt=Tt.updateQueue,O=Tt.lastBaseUpdate,O!==A&&(O===null?Tt.firstBaseUpdate=ut:O.next=ut,Tt.lastBaseUpdate=X))}if(S!==null){var Ct=v.baseState;A=0,Tt=ut=X=null,O=S;do{var ht=O.lane&-536870913,vt=ht!==O.lane;if(vt?(le&ht)===ht:(c&ht)===ht){ht!==0&&ht===js&&(bc=!0),Tt!==null&&(Tt=Tt.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var Ut=t,Jt=O;ht=n;var Ce=a;switch(Jt.tag){case 1:if(Ut=Jt.payload,typeof Ut=="function"){Ct=Ut.call(Ce,Ct,ht);break t}Ct=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Jt.payload,ht=typeof Ut=="function"?Ut.call(Ce,Ct,ht):Ut,ht==null)break t;Ct=E({},Ct,ht);break t;case 2:Ao=!0}}ht=O.callback,ht!==null&&(t.flags|=64,vt&&(t.flags|=8192),vt=v.callbacks,vt===null?v.callbacks=[ht]:vt.push(ht))}else vt={lane:ht,tag:O.tag,payload:O.payload,callback:O.callback,next:null},Tt===null?(ut=Tt=vt,X=Ct):Tt=Tt.next=vt,A|=ht;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;vt=O,O=vt.next,vt.next=null,v.lastBaseUpdate=vt,v.shared.pending=null}}while(!0);Tt===null&&(X=Ct),v.baseState=X,v.firstBaseUpdate=ut,v.lastBaseUpdate=Tt,S===null&&(v.shared.lanes=0),Do|=A,t.lanes=A,t.memoizedState=Ct}}function Yd(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Jd(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yd(a[t],n)}var ia=z(null),Nl=z(0);function Kd(t,n){t=eo,ct(Nl,t),ct(ia,n),eo=t|n.baseLanes}function Ac(){ct(Nl,eo),ct(ia,ia.current)}function Mc(){eo=Nl.current,G(ia),G(Nl)}var Un=z(null),Wn=null;function Ro(t){var n=t.alternate;ct(He,He.current&1),ct(Un,t),Wn===null&&(n===null||ia.current!==null||n.memoizedState!==null)&&(Wn=t)}function Nc(t){ct(He,He.current),ct(Un,t),Wn===null&&(Wn=t)}function Xd(t){t.tag===22?(ct(He,He.current),ct(Un,t),Wn===null&&(Wn=t)):Io()}function Io(){ct(He,He.current),ct(Un,Un.current)}function On(t){G(Un),Wn===t&&(Wn=null),G(He)}var He=z(0);function Rl(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||zf(a)||Uf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,te=null,Ee=null,Ze=null,Il=!1,oa=!1,Cs=!1,kl=0,gr=0,sa=null,Yv=0;function Oe(){throw Error(r(321))}function Rc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!$e(t[a],n[a]))return!1;return!0}function Ic(t,n,a,c,v,S){return Ji=S,te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?kh:Yc,Cs=!1,S=a(c,v),Cs=!1,oa&&(S=Qd(n,a,c,v)),Wd(t),S}function Wd(t){Q.H=yr;var n=Ee!==null&&Ee.next!==null;if(Ji=0,Ze=Ee=te=null,Il=!1,gr=0,sa=null,n)throw Error(r(300));t===null||Ye||(t=t.dependencies,t!==null&&xl(t)&&(Ye=!0))}function Qd(t,n,a,c){te=t;var v=0;do{if(oa&&(sa=null),gr=0,oa=!1,25<=v)throw Error(r(301));if(v+=1,Ze=Ee=null,t.updateQueue!=null){var S=t.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}Q.H=Lh,S=n(a,c)}while(oa);return S}function Jv(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?_r(n):n,t=t.useState()[0],(Ee!==null?Ee.memoizedState:null)!==t&&(te.flags|=1024),n}function kc(){var t=kl!==0;return kl=0,t}function Lc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Dc(t){if(Il){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Il=!1}Ji=0,Ze=Ee=te=null,oa=!1,gr=kl=0,sa=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?te.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Ge(){if(Ee===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var n=Ze===null?te.memoizedState:Ze.next;if(n!==null)Ze=n,Ee=t;else{if(t===null)throw te.alternate===null?Error(r(467)):Error(r(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ze===null?te.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Ll(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _r(t){var n=gr;return gr+=1,sa===null&&(sa=[]),t=Gd(sa,t,n),n=te,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?kh:Yc),t}function Dl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _r(t);if(t.$$typeof===H)return on(t)}throw Error(r(438,String(t)))}function Pc(t){var n=null,a=te.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var c=te.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(v){return v.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ll(),te.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),c=0;c<t;c++)a[c]=yt;return n.index++,a}function Ki(t,n){return typeof n=="function"?n(t):n}function Pl(t){var n=Ge();return zc(n,Ee,t)}function zc(t,n,a){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var v=t.baseQueue,S=c.pending;if(S!==null){if(v!==null){var A=v.next;v.next=S.next,S.next=A}n.baseQueue=v=S,c.pending=null}if(S=t.baseState,v===null)t.memoizedState=S;else{n=v.next;var O=A=null,X=null,ut=n,Tt=!1;do{var Ct=ut.lane&-536870913;if(Ct!==ut.lane?(le&Ct)===Ct:(Ji&Ct)===Ct){var ht=ut.revertLane;if(ht===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),Ct===js&&(Tt=!0);else if((Ji&ht)===ht){ut=ut.next,ht===js&&(Tt=!0);continue}else Ct={lane:0,revertLane:ut.revertLane,gesture:null,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},X===null?(O=X=Ct,A=S):X=X.next=Ct,te.lanes|=ht,Do|=ht;Ct=ut.action,Cs&&a(S,Ct),S=ut.hasEagerState?ut.eagerState:a(S,Ct)}else ht={lane:Ct,revertLane:ut.revertLane,gesture:ut.gesture,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null},X===null?(O=X=ht,A=S):X=X.next=ht,te.lanes|=Ct,Do|=Ct;ut=ut.next}while(ut!==null&&ut!==n);if(X===null?A=S:X.next=O,!$e(S,t.memoizedState)&&(Ye=!0,Tt&&(a=ta,a!==null)))throw a;t.memoizedState=S,t.baseState=A,t.baseQueue=X,c.lastRenderedState=S}return v===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Uc(t){var n=Ge(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var c=a.dispatch,v=a.pending,S=n.memoizedState;if(v!==null){a.pending=null;var A=v=v.next;do S=t(S,A.action),A=A.next;while(A!==v);$e(S,n.memoizedState)||(Ye=!0),n.memoizedState=S,n.baseQueue===null&&(n.baseState=S),a.lastRenderedState=S}return[S,c]}function $d(t,n,a){var c=te,v=Ge(),S=oe;if(S){if(a===void 0)throw Error(r(407));a=a()}else a=n();var A=!$e((Ee||v).memoizedState,a);if(A&&(v.memoizedState=a,Ye=!0),v=v.queue,Hc(eh.bind(null,c,v,t),[t]),v.getSnapshot!==n||A||Ze!==null&&Ze.memoizedState.tag&1){if(c.flags|=2048,aa(9,{destroy:void 0},th.bind(null,c,v,a,n),null),Me===null)throw Error(r(349));S||(Ji&127)!==0||jd(c,n,a)}return a}function jd(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=te.updateQueue,n===null?(n=Ll(),te.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function th(t,n,a,c){n.value=a,n.getSnapshot=c,nh(n)&&ih(t)}function eh(t,n,a){return a(function(){nh(n)&&ih(t)})}function nh(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!$e(t,a)}catch{return!0}}function ih(t){var n=Kn(t,2);n!==null&&In(n,t,2)}function Oc(t){var n=gn();if(typeof t=="function"){var a=t;if(t=a(),Cs){hn(!0);try{a()}finally{hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},n}function oh(t,n,a,c){return t.baseState=a,zc(t,Ee,typeof c=="function"?c:Ki)}function Kv(t,n,a,c,v){if(Ol(t))throw Error(r(485));if(t=n.action,t!==null){var S={payload:v,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){S.listeners.push(A)}};Q.T!==null?a(!0):S.isTransition=!1,c(S),a=n.pending,a===null?(S.next=n.pending=S,sh(n,S)):(S.next=a.next,n.pending=a.next=S)}}function sh(t,n){var a=n.action,c=n.payload,v=t.state;if(n.isTransition){var S=Q.T,A={};Q.T=A;try{var O=a(v,c),X=Q.S;X!==null&&X(A,O),ah(t,n,O)}catch(ut){Bc(t,n,ut)}finally{S!==null&&A.types!==null&&(S.types=A.types),Q.T=S}}else try{S=a(v,c),ah(t,n,S)}catch(ut){Bc(t,n,ut)}}function ah(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){rh(t,n,c)},function(c){return Bc(t,n,c)}):rh(t,n,a)}function rh(t,n,a){n.status="fulfilled",n.value=a,lh(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,sh(t,a)))}function Bc(t,n,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=a,lh(n),n=n.next;while(n!==c)}t.action=null}function lh(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function uh(t,n){return n}function ch(t,n){if(oe){var a=Me.formState;if(a!==null){t:{var c=te;if(oe){if(he){e:{for(var v=he,S=bn;v.nodeType!==8;){if(!S){v=null;break e}if(v=Qn(v.nextSibling),v===null){v=null;break e}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){he=Qn(v.nextSibling),c=v.data==="F!";break t}}Ni(c)}c=!1}c&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:n},a.queue=c,a=Nh.bind(null,te,c),c.dispatch=a,c=Oc(!1),S=Zc.bind(null,te,!1,c.queue),c=gn(),v={state:n,dispatch:null,action:t,pending:null},c.queue=v,a=Kv.bind(null,te,v,S,a),v.dispatch=a,c.memoizedState=t,[n,a,!1]}function fh(t){var n=Ge();return dh(n,Ee,t)}function dh(t,n,a){if(n=zc(t,n,uh)[0],t=Pl(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=_r(n)}catch(A){throw A===ea?Cl:A}else c=n;n=Ge();var v=n.queue,S=v.dispatch;return a!==n.memoizedState&&(te.flags|=2048,aa(9,{destroy:void 0},Xv.bind(null,v,a),null)),[c,S,t]}function Xv(t,n){t.action=n}function hh(t){var n=Ge(),a=Ee;if(a!==null)return dh(n,a,t);Ge(),n=n.memoizedState,a=Ge();var c=a.queue.dispatch;return a.memoizedState=t,[n,c,!1]}function aa(t,n,a,c){return t={tag:t,create:a,deps:c,inst:n,next:null},n=te.updateQueue,n===null&&(n=Ll(),te.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,n.lastEffect=t),t}function ph(){return Ge().memoizedState}function zl(t,n,a,c){var v=gn();te.flags|=t,v.memoizedState=aa(1|n,{destroy:void 0},a,c===void 0?null:c)}function Ul(t,n,a,c){var v=Ge();c=c===void 0?null:c;var S=v.memoizedState.inst;Ee!==null&&c!==null&&Rc(c,Ee.memoizedState.deps)?v.memoizedState=aa(n,S,a,c):(te.flags|=t,v.memoizedState=aa(1|n,S,a,c))}function mh(t,n){zl(8390656,8,t,n)}function Hc(t,n){Ul(2048,8,t,n)}function Wv(t){te.flags|=4;var n=te.updateQueue;if(n===null)n=Ll(),te.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function gh(t){var n=Ge().memoizedState;return Wv({ref:n,nextImpl:t}),function(){if((_e&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function _h(t,n){return Ul(4,2,t,n)}function vh(t,n){return Ul(4,4,t,n)}function yh(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sh(t,n,a){a=a!=null?a.concat([t]):null,Ul(4,4,yh.bind(null,n,t),a)}function Gc(){}function Th(t,n){var a=Ge();n=n===void 0?null:n;var c=a.memoizedState;return n!==null&&Rc(n,c[1])?c[0]:(a.memoizedState=[t,n],t)}function xh(t,n){var a=Ge();n=n===void 0?null:n;var c=a.memoizedState;if(n!==null&&Rc(n,c[1]))return c[0];if(c=t(),Cs){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[c,n],c}function qc(t,n,a){return a===void 0||(Ji&1073741824)!==0&&(le&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Ep(),te.lanes|=t,Do|=t,a)}function Eh(t,n,a,c){return $e(a,n)?a:ia.current!==null?(t=qc(t,a,c),$e(t,n)||(Ye=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(le&261930)===0?(Ye=!0,t.memoizedState=a):(t=Ep(),te.lanes|=t,Do|=t,n)}function wh(t,n,a,c,v){var S=tt.p;tt.p=S!==0&&8>S?S:8;var A=Q.T,O={};Q.T=O,Zc(t,!1,n,a);try{var X=v(),ut=Q.S;if(ut!==null&&ut(O,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var Tt=Zv(X,c);vr(t,n,Tt,Gn(t))}else vr(t,n,c,Gn(t))}catch(Ct){vr(t,n,{then:function(){},status:"rejected",reason:Ct},Gn())}finally{tt.p=S,A!==null&&O.types!==null&&(A.types=O.types),Q.T=A}}function Qv(){}function Vc(t,n,a,c){if(t.tag!==5)throw Error(r(476));var v=Ch(t).queue;wh(t,v,n,gt,a===null?Qv:function(){return bh(t),a(c)})}function Ch(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:gt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bh(t){var n=Ch(t);n.next===null&&(n=t.alternate.memoizedState),vr(t,n.next.queue,{},Gn())}function Fc(){return on(Pr)}function Ah(){return Ge().memoizedState}function Mh(){return Ge().memoizedState}function $v(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Gn();t=Mo(a);var c=No(n,t,a);c!==null&&(In(c,n,a),hr(c,n,a)),n={cache:yc()},t.payload=n;return}n=n.return}}function jv(t,n,a){var c=Gn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ol(t)?Rh(n,a):(a=ir(t,n,a,c),a!==null&&(In(a,t,c),Ih(a,n,c)))}function Nh(t,n,a){var c=Gn();vr(t,n,a,c)}function vr(t,n,a,c){var v={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ol(t))Rh(n,v);else{var S=t.alternate;if(t.lanes===0&&(S===null||S.lanes===0)&&(S=n.lastRenderedReducer,S!==null))try{var A=n.lastRenderedState,O=S(A,a);if(v.hasEagerState=!0,v.eagerState=O,$e(O,A))return Ai(t,n,v,0),Me===null&&ms(),!1}catch{}finally{}if(a=ir(t,n,v,c),a!==null)return In(a,t,c),Ih(a,n,c),!0}return!1}function Zc(t,n,a,c){if(c={lane:2,revertLane:wf(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ol(t)){if(n)throw Error(r(479))}else n=ir(t,a,c,2),n!==null&&In(n,t,2)}function Ol(t){var n=t.alternate;return t===te||n!==null&&n===te}function Rh(t,n){oa=Il=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ih(t,n,a){if((a&4194048)!==0){var c=n.lanes;c&=t.pendingLanes,a|=c,n.lanes=a,Xr(t,a)}}var yr={readContext:on,use:Dl,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};yr.useEffectEvent=Oe;var kh={readContext:on,use:Dl,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:on,useEffect:mh,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,zl(4194308,4,yh.bind(null,n,t),a)},useLayoutEffect:function(t,n){return zl(4194308,4,t,n)},useInsertionEffect:function(t,n){zl(4,2,t,n)},useMemo:function(t,n){var a=gn();n=n===void 0?null:n;var c=t();if(Cs){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[c,n],c},useReducer:function(t,n,a){var c=gn();if(a!==void 0){var v=a(n);if(Cs){hn(!0);try{a(n)}finally{hn(!1)}}}else v=n;return c.memoizedState=c.baseState=v,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:v},c.queue=t,t=t.dispatch=jv.bind(null,te,t),[c.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Oc(t);var n=t.queue,a=Nh.bind(null,te,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Gc,useDeferredValue:function(t,n){var a=gn();return qc(a,t,n)},useTransition:function(){var t=Oc(!1);return t=wh.bind(null,te,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var c=te,v=gn();if(oe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Me===null)throw Error(r(349));(le&127)!==0||jd(c,n,a)}v.memoizedState=a;var S={value:a,getSnapshot:n};return v.queue=S,mh(eh.bind(null,c,S,t),[t]),c.flags|=2048,aa(9,{destroy:void 0},th.bind(null,c,S,a,n),null),a},useId:function(){var t=gn(),n=Me.identifierPrefix;if(oe){var a=Dt,c=wt;a=(c&~(1<<32-Ne(c)-1)).toString(32)+a,n="_"+n+"R_"+a,a=kl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Yv++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Fc,useFormState:ch,useActionState:ch,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Zc.bind(null,te,!0,a),a.dispatch=n,[t,n]},useMemoCache:Pc,useCacheRefresh:function(){return gn().memoizedState=$v.bind(null,te)},useEffectEvent:function(t){var n=gn(),a={impl:t};return n.memoizedState=a,function(){if((_e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Yc={readContext:on,use:Dl,useCallback:Th,useContext:on,useEffect:Hc,useImperativeHandle:Sh,useInsertionEffect:_h,useLayoutEffect:vh,useMemo:xh,useReducer:Pl,useRef:ph,useState:function(){return Pl(Ki)},useDebugValue:Gc,useDeferredValue:function(t,n){var a=Ge();return Eh(a,Ee.memoizedState,t,n)},useTransition:function(){var t=Pl(Ki)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:_r(t),n]},useSyncExternalStore:$d,useId:Ah,useHostTransitionStatus:Fc,useFormState:fh,useActionState:fh,useOptimistic:function(t,n){var a=Ge();return oh(a,Ee,t,n)},useMemoCache:Pc,useCacheRefresh:Mh};Yc.useEffectEvent=gh;var Lh={readContext:on,use:Dl,useCallback:Th,useContext:on,useEffect:Hc,useImperativeHandle:Sh,useInsertionEffect:_h,useLayoutEffect:vh,useMemo:xh,useReducer:Uc,useRef:ph,useState:function(){return Uc(Ki)},useDebugValue:Gc,useDeferredValue:function(t,n){var a=Ge();return Ee===null?qc(a,t,n):Eh(a,Ee.memoizedState,t,n)},useTransition:function(){var t=Uc(Ki)[0],n=Ge().memoizedState;return[typeof t=="boolean"?t:_r(t),n]},useSyncExternalStore:$d,useId:Ah,useHostTransitionStatus:Fc,useFormState:hh,useActionState:hh,useOptimistic:function(t,n){var a=Ge();return Ee!==null?oh(a,Ee,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:Mh};Lh.useEffectEvent=gh;function Jc(t,n,a,c){n=t.memoizedState,a=a(c,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kc={enqueueSetState:function(t,n,a){t=t._reactInternals;var c=Gn(),v=Mo(c);v.payload=n,a!=null&&(v.callback=a),n=No(t,v,c),n!==null&&(In(n,t,c),hr(n,t,c))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var c=Gn(),v=Mo(c);v.tag=1,v.payload=n,a!=null&&(v.callback=a),n=No(t,v,c),n!==null&&(In(n,t,c),hr(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Gn(),c=Mo(a);c.tag=2,n!=null&&(c.callback=n),n=No(t,c,a),n!==null&&(In(n,t,a),hr(n,t,a))}};function Dh(t,n,a,c,v,S,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,S,A):n.prototype&&n.prototype.isPureReactComponent?!To(a,c)||!To(v,S):!0}function Ph(t,n,a,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,c),n.state!==t&&Kc.enqueueReplaceState(n,n.state,null)}function bs(t,n){var a=n;if("ref"in n){a={};for(var c in n)c!=="ref"&&(a[c]=n[c])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var v in t)a[v]===void 0&&(a[v]=t[v])}return a}function zh(t){ps(t)}function Uh(t){console.error(t)}function Oh(t){ps(t)}function Bl(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Bh(t,n,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Xc(t,n,a){return a=Mo(a),a.tag=3,a.payload={element:null},a.callback=function(){Bl(t,n)},a}function Hh(t){return t=Mo(t),t.tag=3,t}function Gh(t,n,a,c){var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var S=c.value;t.payload=function(){return v(S)},t.callback=function(){Bh(n,a,c)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){Bh(n,a,c),typeof v!="function"&&(Po===null?Po=new Set([this]):Po.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function t0(t,n,a,c,v){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=a.alternate,n!==null&&$s(n,a,v,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return Wn===null?Ql():a.alternate===null&&Be===0&&(Be=3),a.flags&=-257,a.flags|=65536,a.lanes=v,c===bl?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([c]):n.add(c),Tf(t,c,v)),!1;case 22:return a.flags|=65536,c===bl?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([c]):a.add(c)),Tf(t,c,v)),!1}throw Error(r(435,a.tag))}return Tf(t,c,v),Ql(),!1}if(oe)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=v,c!==Qs&&(t=Error(r(422),{cause:c}),vs(u(t,a)))):(c!==Qs&&(n=Error(r(423),{cause:c}),vs(u(n,a))),t=t.current.alternate,t.flags|=65536,v&=-v,t.lanes|=v,c=u(c,a),v=Xc(t.stateNode,c,v),Cc(t,v),Be!==4&&(Be=2)),!1;var S=Error(r(520),{cause:c});if(S=u(S,a),Ar===null?Ar=[S]:Ar.push(S),Be!==4&&(Be=2),n===null)return!0;c=u(c,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=v&-v,a.lanes|=t,t=Xc(a.stateNode,c,t),Cc(a,t),!1;case 1:if(n=a.type,S=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Po===null||!Po.has(S))))return a.flags|=65536,v&=-v,a.lanes|=v,v=Hh(v),Gh(v,t,a,c),Cc(a,v),!1}a=a.return}while(a!==null);return!1}var Wc=Error(r(461)),Ye=!1;function sn(t,n,a,c){n.child=t===null?Zd(n,null,a,c):ws(n,t.child,a,c)}function qh(t,n,a,c,v){a=a.render;var S=n.ref;if("ref"in c){var A={};for(var O in c)O!=="ref"&&(A[O]=c[O])}else A=c;return Ss(n),c=Ic(t,n,a,A,S,v),O=kc(),t!==null&&!Ye?(Lc(t,n,v),Xi(t,n,v)):(oe&&O&&Xe(n),n.flags|=1,sn(t,n,c,v),n.child)}function Vh(t,n,a,c,v){if(t===null){var S=a.type;return typeof S=="function"&&!Xs(S)&&S.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=S,Fh(t,n,S,c,v)):(t=_s(a.type,null,c,n,n.mode,v),t.ref=n.ref,t.return=n,n.child=t)}if(S=t.child,!sf(t,v)){var A=S.memoizedProps;if(a=a.compare,a=a!==null?a:To,a(A,c)&&t.ref===n.ref)return Xi(t,n,v)}return n.flags|=1,t=Xn(S,c),t.ref=n.ref,t.return=n,n.child=t}function Fh(t,n,a,c,v){if(t!==null){var S=t.memoizedProps;if(To(S,c)&&t.ref===n.ref)if(Ye=!1,n.pendingProps=c=S,sf(t,v))(t.flags&131072)!==0&&(Ye=!0);else return n.lanes=t.lanes,Xi(t,n,v)}return Qc(t,n,a,c,v)}function Zh(t,n,a,c){var v=c.children,S=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(S=S!==null?S.baseLanes|a:a,t!==null){for(c=n.child=t.child,v=0;c!==null;)v=v|c.lanes|c.childLanes,c=c.sibling;c=v&~S}else c=0,n.child=null;return Yh(t,n,S,a,c)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wl(n,S!==null?S.cachePool:null),S!==null?Kd(n,S):Ac(),Xd(n);else return c=n.lanes=536870912,Yh(t,n,S!==null?S.baseLanes|a:a,a,c)}else S!==null?(wl(n,S.cachePool),Kd(n,S),Io(),n.memoizedState=null):(t!==null&&wl(n,null),Ac(),Io());return sn(t,n,v,a),n.child}function Sr(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yh(t,n,a,c,v){var S=Tc();return S=S===null?null:{parent:Fe._currentValue,pool:S},n.memoizedState={baseLanes:a,cachePool:S},t!==null&&wl(n,null),Ac(),Xd(n),t!==null&&$s(t,n,c,!0),n.childLanes=v,null}function Hl(t,n){return n=ql({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Jh(t,n,a){return ws(n,t.child,null,a),t=Hl(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function e0(t,n,a){var c=n.pendingProps,v=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(oe){if(c.mode==="hidden")return t=Hl(n,c),n.lanes=536870912,Sr(null,t);if(Nc(n),(t=he)?(t=sm(t,bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:dt!==null?{id:wt,overflow:Dt}:null,retryLane:536870912,hydrationErrors:null},a=sr(t),a.return=n,n.child=a,de=n,he=null)):t=null,t===null)throw Ni(n);return n.lanes=536870912,null}return Hl(n,c)}var S=t.memoizedState;if(S!==null){var A=S.dehydrated;if(Nc(n),v)if(n.flags&256)n.flags&=-257,n=Jh(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ye||$s(t,n,a,!1),v=(a&t.childLanes)!==0,Ye||v){if(c=Me,c!==null&&(A=Wr(c,a),A!==0&&A!==S.retryLane))throw S.retryLane=A,Kn(t,A),In(c,t,A),Wc;Ql(),n=Jh(t,n,a)}else t=S.treeContext,he=Qn(A.nextSibling),de=n,oe=!0,Mi=null,bn=!1,t!==null&&mn(n,t),n=Hl(n,c),n.flags|=4096;return n}return t=Xn(t.child,{mode:c.mode,children:c.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Gl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Qc(t,n,a,c,v){return Ss(n),a=Ic(t,n,a,c,void 0,v),c=kc(),t!==null&&!Ye?(Lc(t,n,v),Xi(t,n,v)):(oe&&c&&Xe(n),n.flags|=1,sn(t,n,a,v),n.child)}function Kh(t,n,a,c,v,S){return Ss(n),n.updateQueue=null,a=Qd(n,c,a,v),Wd(t),c=kc(),t!==null&&!Ye?(Lc(t,n,S),Xi(t,n,S)):(oe&&c&&Xe(n),n.flags|=1,sn(t,n,a,S),n.child)}function Xh(t,n,a,c,v){if(Ss(n),n.stateNode===null){var S=Vi,A=a.contextType;typeof A=="object"&&A!==null&&(S=on(A)),S=new a(c,S),n.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Kc,n.stateNode=S,S._reactInternals=n,S=n.stateNode,S.props=c,S.state=n.memoizedState,S.refs={},Ec(n),A=a.contextType,S.context=typeof A=="object"&&A!==null?on(A):Vi,S.state=n.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Jc(n,a,A,c),S.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(A=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),A!==S.state&&Kc.enqueueReplaceState(S,S.state,null),mr(n,c,S,v),pr(),S.state=n.memoizedState),typeof S.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(t===null){S=n.stateNode;var O=n.memoizedProps,X=bs(a,O);S.props=X;var ut=S.context,Tt=a.contextType;A=Vi,typeof Tt=="object"&&Tt!==null&&(A=on(Tt));var Ct=a.getDerivedStateFromProps;Tt=typeof Ct=="function"||typeof S.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,Tt||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(O||ut!==A)&&Ph(n,S,c,A),Ao=!1;var ht=n.memoizedState;S.state=ht,mr(n,c,S,v),pr(),ut=n.memoizedState,O||ht!==ut||Ao?(typeof Ct=="function"&&(Jc(n,a,Ct,c),ut=n.memoizedState),(X=Ao||Dh(n,a,X,c,ht,ut,A))?(Tt||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(n.flags|=4194308)):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ut),S.props=c,S.state=ut,S.context=A,c=X):(typeof S.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{S=n.stateNode,wc(t,n),A=n.memoizedProps,Tt=bs(a,A),S.props=Tt,Ct=n.pendingProps,ht=S.context,ut=a.contextType,X=Vi,typeof ut=="object"&&ut!==null&&(X=on(ut)),O=a.getDerivedStateFromProps,(ut=typeof O=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==Ct||ht!==X)&&Ph(n,S,c,X),Ao=!1,ht=n.memoizedState,S.state=ht,mr(n,c,S,v),pr();var vt=n.memoizedState;A!==Ct||ht!==vt||Ao||t!==null&&t.dependencies!==null&&xl(t.dependencies)?(typeof O=="function"&&(Jc(n,a,O,c),vt=n.memoizedState),(Tt=Ao||Dh(n,a,Tt,c,ht,vt,X)||t!==null&&t.dependencies!==null&&xl(t.dependencies))?(ut||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(c,vt,X),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(c,vt,X)),typeof S.componentDidUpdate=="function"&&(n.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===t.memoizedProps&&ht===t.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ht===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=vt),S.props=c,S.state=vt,S.context=X,c=Tt):(typeof S.componentDidUpdate!="function"||A===t.memoizedProps&&ht===t.memoizedState||(n.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&ht===t.memoizedState||(n.flags|=1024),c=!1)}return S=c,Gl(t,n),c=(n.flags&128)!==0,S||c?(S=n.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:S.render(),n.flags|=1,t!==null&&c?(n.child=ws(n,t.child,null,v),n.child=ws(n,null,a,v)):sn(t,n,a,v),n.memoizedState=S.state,t=n.child):t=Xi(t,n,v),t}function Wh(t,n,a,c){return Zi(),n.flags|=256,sn(t,n,a,c),n.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jc(t){return{baseLanes:t,cachePool:Bd()}}function tf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Hn),t}function Qh(t,n,a){var c=n.pendingProps,v=!1,S=(n.flags&128)!==0,A;if((A=S)||(A=t!==null&&t.memoizedState===null?!1:(He.current&2)!==0),A&&(v=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,t===null){if(oe){if(v?Ro(n):Io(),(t=he)?(t=sm(t,bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:dt!==null?{id:wt,overflow:Dt}:null,retryLane:536870912,hydrationErrors:null},a=sr(t),a.return=n,n.child=a,de=n,he=null)):t=null,t===null)throw Ni(n);return Uf(t)?n.lanes=32:n.lanes=536870912,null}var O=c.children;return c=c.fallback,v?(Io(),v=n.mode,O=ql({mode:"hidden",children:O},v),c=Fi(c,v,a,null),O.return=n,c.return=n,O.sibling=c,n.child=O,c=n.child,c.memoizedState=jc(a),c.childLanes=tf(t,A,a),n.memoizedState=$c,Sr(null,c)):(Ro(n),ef(n,O))}var X=t.memoizedState;if(X!==null&&(O=X.dehydrated,O!==null)){if(S)n.flags&256?(Ro(n),n.flags&=-257,n=nf(t,n,a)):n.memoizedState!==null?(Io(),n.child=t.child,n.flags|=128,n=null):(Io(),O=c.fallback,v=n.mode,c=ql({mode:"visible",children:c.children},v),O=Fi(O,v,a,null),O.flags|=2,c.return=n,O.return=n,c.sibling=O,n.child=c,ws(n,t.child,null,a),c=n.child,c.memoizedState=jc(a),c.childLanes=tf(t,A,a),n.memoizedState=$c,n=Sr(null,c));else if(Ro(n),Uf(O)){if(A=O.nextSibling&&O.nextSibling.dataset,A)var ut=A.dgst;A=ut,c=Error(r(419)),c.stack="",c.digest=A,vs({value:c,source:null,stack:null}),n=nf(t,n,a)}else if(Ye||$s(t,n,a,!1),A=(a&t.childLanes)!==0,Ye||A){if(A=Me,A!==null&&(c=Wr(A,a),c!==0&&c!==X.retryLane))throw X.retryLane=c,Kn(t,c),In(A,t,c),Wc;zf(O)||Ql(),n=nf(t,n,a)}else zf(O)?(n.flags|=192,n.child=t.child,n=null):(t=X.treeContext,he=Qn(O.nextSibling),de=n,oe=!0,Mi=null,bn=!1,t!==null&&mn(n,t),n=ef(n,c.children),n.flags|=4096);return n}return v?(Io(),O=c.fallback,v=n.mode,X=t.child,ut=X.sibling,c=Xn(X,{mode:"hidden",children:c.children}),c.subtreeFlags=X.subtreeFlags&65011712,ut!==null?O=Xn(ut,O):(O=Fi(O,v,a,null),O.flags|=2),O.return=n,c.return=n,c.sibling=O,n.child=c,Sr(null,c),c=n.child,O=t.child.memoizedState,O===null?O=jc(a):(v=O.cachePool,v!==null?(X=Fe._currentValue,v=v.parent!==X?{parent:X,pool:X}:v):v=Bd(),O={baseLanes:O.baseLanes|a,cachePool:v}),c.memoizedState=O,c.childLanes=tf(t,A,a),n.memoizedState=$c,Sr(t.child,c)):(Ro(n),a=t.child,t=a.sibling,a=Xn(a,{mode:"visible",children:c.children}),a.return=n,a.sibling=null,t!==null&&(A=n.deletions,A===null?(n.deletions=[t],n.flags|=16):A.push(t)),n.child=a,n.memoizedState=null,a)}function ef(t,n){return n=ql({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ql(t,n){return t=un(22,t,null,n),t.lanes=0,t}function nf(t,n,a){return ws(n,t.child,null,a),t=ef(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $h(t,n,a){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),_c(t.return,n,a)}function of(t,n,a,c,v,S){var A=t.memoizedState;A===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:v,treeForkCount:S}:(A.isBackwards=n,A.rendering=null,A.renderingStartTime=0,A.last=c,A.tail=a,A.tailMode=v,A.treeForkCount=S)}function jh(t,n,a){var c=n.pendingProps,v=c.revealOrder,S=c.tail;c=c.children;var A=He.current,O=(A&2)!==0;if(O?(A=A&1|2,n.flags|=128):A&=1,ct(He,A),sn(t,n,c,a),c=oe?U:0,!O&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$h(t,a,n);else if(t.tag===19)$h(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(v){case"forwards":for(a=n.child,v=null;a!==null;)t=a.alternate,t!==null&&Rl(t)===null&&(v=a),a=a.sibling;a=v,a===null?(v=n.child,n.child=null):(v=a.sibling,a.sibling=null),of(n,!1,v,a,S,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,v=n.child,n.child=null;v!==null;){if(t=v.alternate,t!==null&&Rl(t)===null){n.child=v;break}t=v.sibling,v.sibling=a,a=v,v=t}of(n,!0,a,null,S,c);break;case"together":of(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function Xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Do|=n.lanes,(a&n.childLanes)===0)if(t!==null){if($s(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Xn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Xn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&xl(t)))}function n0(t,n,a){switch(n.tag){case 3:Ot(n,n.stateNode.containerInfo),bo(n,Fe,t.memoizedState.cache),Zi();break;case 27:case 5:Pt(n);break;case 4:Ot(n,n.stateNode.containerInfo);break;case 10:bo(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Nc(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Ro(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Qh(t,n,a):(Ro(n),t=Xi(t,n,a),t!==null?t.sibling:null);Ro(n);break;case 19:var v=(t.flags&128)!==0;if(c=(a&n.childLanes)!==0,c||($s(t,n,a,!1),c=(a&n.childLanes)!==0),v){if(c)return jh(t,n,a);n.flags|=128}if(v=n.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ct(He,He.current),c)break;return null;case 22:return n.lanes=0,Zh(t,n,a,n.pendingProps);case 24:bo(n,Fe,t.memoizedState.cache)}return Xi(t,n,a)}function tp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ye=!0;else{if(!sf(t,a)&&(n.flags&128)===0)return Ye=!1,n0(t,n,a);Ye=(t.flags&131072)!==0}else Ye=!1,oe&&(n.flags&1048576)!==0&&ee(n,U,n.index);switch(n.lanes=0,n.tag){case 16:t:{var c=n.pendingProps;if(t=xs(n.elementType),n.type=t,typeof t=="function")Xs(t)?(c=bs(t,c),n.tag=1,n=Xh(null,n,t,c,a)):(n.tag=0,n=Qc(null,n,t,c,a));else{if(t!=null){var v=t.$$typeof;if(v===Y){n.tag=11,n=qh(null,n,t,c,a);break t}else if(v===K){n.tag=14,n=Vh(null,n,t,c,a);break t}}throw n=R(t)||t,Error(r(306,n,""))}}return n;case 0:return Qc(t,n,n.type,n.pendingProps,a);case 1:return c=n.type,v=bs(c,n.pendingProps),Xh(t,n,c,v,a);case 3:t:{if(Ot(n,n.stateNode.containerInfo),t===null)throw Error(r(387));c=n.pendingProps;var S=n.memoizedState;v=S.element,wc(t,n),mr(n,c,null,a);var A=n.memoizedState;if(c=A.cache,bo(n,Fe,c),c!==S.cache&&vc(n,[Fe],a,!0),pr(),c=A.element,S.isDehydrated)if(S={element:c,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=S,n.memoizedState=S,n.flags&256){n=Wh(t,n,c,a);break t}else if(c!==v){v=u(Error(r(424)),n),vs(v),n=Wh(t,n,c,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(he=Qn(t.firstChild),de=n,oe=!0,Mi=null,bn=!0,a=Zd(n,null,c,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zi(),c===v){n=Xi(t,n,a);break t}sn(t,n,c,a)}n=n.child}return n;case 26:return Gl(t,n),t===null?(a=fm(n.type,null,n.pendingProps,null))?n.memoizedState=a:oe||(a=n.type,t=n.pendingProps,c=ou(Rt.current).createElement(a),c[qe]=n,c[Qe]=t,an(c,a,t),Ve(c),n.stateNode=c):n.memoizedState=fm(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pt(n),t===null&&oe&&(c=n.stateNode=lm(n.type,n.pendingProps,Rt.current),de=n,bn=!0,v=he,Bo(n.type)?(Of=v,he=Qn(c.firstChild)):he=v),sn(t,n,n.pendingProps.children,a),Gl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&oe&&((v=c=he)&&(c=k0(c,n.type,n.pendingProps,bn),c!==null?(n.stateNode=c,de=n,he=Qn(c.firstChild),bn=!1,v=!0):v=!1),v||Ni(n)),Pt(n),v=n.type,S=n.pendingProps,A=t!==null?t.memoizedProps:null,c=S.children,Lf(v,S)?c=null:A!==null&&Lf(v,A)&&(n.flags|=32),n.memoizedState!==null&&(v=Ic(t,n,Jv,null,null,a),Pr._currentValue=v),Gl(t,n),sn(t,n,c,a),n.child;case 6:return t===null&&oe&&((t=a=he)&&(a=L0(a,n.pendingProps,bn),a!==null?(n.stateNode=a,de=n,he=null,t=!0):t=!1),t||Ni(n)),null;case 13:return Qh(t,n,a);case 4:return Ot(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=ws(n,null,c,a):sn(t,n,c,a),n.child;case 11:return qh(t,n,n.type,n.pendingProps,a);case 7:return sn(t,n,n.pendingProps,a),n.child;case 8:return sn(t,n,n.pendingProps.children,a),n.child;case 12:return sn(t,n,n.pendingProps.children,a),n.child;case 10:return c=n.pendingProps,bo(n,n.type,c.value),sn(t,n,c.children,a),n.child;case 9:return v=n.type._context,c=n.pendingProps.children,Ss(n),v=on(v),c=c(v),n.flags|=1,sn(t,n,c,a),n.child;case 14:return Vh(t,n,n.type,n.pendingProps,a);case 15:return Fh(t,n,n.type,n.pendingProps,a);case 19:return jh(t,n,a);case 31:return e0(t,n,a);case 22:return Zh(t,n,a,n.pendingProps);case 24:return Ss(n),c=on(Fe),t===null?(v=Tc(),v===null&&(v=Me,S=yc(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=a),v=S),n.memoizedState={parent:c,cache:v},Ec(n),bo(n,Fe,v)):((t.lanes&a)!==0&&(wc(t,n),mr(n,null,null,a),pr()),v=t.memoizedState,S=n.memoizedState,v.parent!==c?(v={parent:c,cache:c},n.memoizedState=v,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=v),bo(n,Fe,c)):(c=S.cache,bo(n,Fe,c),c!==v.cache&&vc(n,[Fe],a,!0))),sn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Wi(t){t.flags|=4}function af(t,n,a,c,v){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(v&335544128)===v)if(t.stateNode.complete)t.flags|=8192;else if(Ap())t.flags|=8192;else throw Es=bl,xc}else t.flags&=-16777217}function ep(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gm(n))if(Ap())t.flags|=8192;else throw Es=bl,xc}function Vl(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Jr():536870912,t.lanes|=n,ca|=n)}function Tr(t,n){if(!oe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(n)for(var v=t.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=t,v=v.sibling;else for(v=t.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=t,v=v.sibling;return t.subtreeFlags|=c,t.childLanes=a,n}function i0(t,n,a){var c=n.pendingProps;switch(Ue(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(n),null;case 1:return Ie(n),null;case 3:return a=n.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),Yi(Fe),Zt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(li(n)?Wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lr())),Ie(n),null;case 26:var v=n.type,S=n.memoizedState;return t===null?(Wi(n),S!==null?(Ie(n),ep(n,S)):(Ie(n),af(n,v,null,c,a))):S?S!==t.memoizedState?(Wi(n),Ie(n),ep(n,S)):(Ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==c&&Wi(n),Ie(n),af(n,v,t,c,a)),null;case 27:if(Bt(n),a=Rt.current,v=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Wi(n);else{if(!c){if(n.stateNode===null)throw Error(r(166));return Ie(n),null}t=ot.current,li(n)?rr(n):(t=lm(v,c,a),n.stateNode=t,Wi(n))}return Ie(n),null;case 5:if(Bt(n),v=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&Wi(n);else{if(!c){if(n.stateNode===null)throw Error(r(166));return Ie(n),null}if(S=ot.current,li(n))rr(n);else{var A=ou(Rt.current);switch(S){case 1:S=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:S=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":S=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":S=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":S=A.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof c.is=="string"?A.createElement("select",{is:c.is}):A.createElement("select"),c.multiple?S.multiple=!0:c.size&&(S.size=c.size);break;default:S=typeof c.is=="string"?A.createElement(v,{is:c.is}):A.createElement(v)}}S[qe]=n,S[Qe]=c;t:for(A=n.child;A!==null;){if(A.tag===5||A.tag===6)S.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===n)break t;for(;A.sibling===null;){if(A.return===null||A.return===n)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}n.stateNode=S;t:switch(an(S,v,c),v){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Wi(n)}}return Ie(n),af(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==c&&Wi(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(r(166));if(t=Rt.current,li(n)){if(t=n.stateNode,a=n.memoizedProps,c=null,v=de,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}t[qe]=n,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Qp(t.nodeValue,a)),t||Ni(n,!0)}else t=ou(t).createTextNode(c),t[qe]=n,n.stateNode=t}return Ie(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(c=li(n),a!==null){if(t===null){if(!c)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[qe]=n}else Zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ie(n),t=!1}else a=lr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Ie(n),null;case 13:if(c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(v=li(n),c!==null&&c.dehydrated!==null){if(t===null){if(!v)throw Error(r(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[qe]=n}else Zi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ie(n),v=!1}else v=lr(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=v),v=!0;if(!v)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=a,n):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=n.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==v&&(c.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Vl(n,n.updateQueue),Ie(n),null);case 4:return Zt(),t===null&&Mf(n.stateNode.containerInfo),Ie(n),null;case 10:return Yi(n.type),Ie(n),null;case 19:if(G(He),c=n.memoizedState,c===null)return Ie(n),null;if(v=(n.flags&128)!==0,S=c.rendering,S===null)if(v)Tr(c,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(S=Rl(t),S!==null){for(n.flags|=128,Tr(c,!1),t=S.updateQueue,n.updateQueue=t,Vl(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)or(a,t),a=a.sibling;return ct(He,He.current&1|2),oe&&Ft(n,c.treeForkCount),n.child}t=t.sibling}c.tail!==null&&Lt()>Kl&&(n.flags|=128,v=!0,Tr(c,!1),n.lanes=4194304)}else{if(!v)if(t=Rl(S),t!==null){if(n.flags|=128,v=!0,t=t.updateQueue,n.updateQueue=t,Vl(n,t),Tr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!S.alternate&&!oe)return Ie(n),null}else 2*Lt()-c.renderingStartTime>Kl&&a!==536870912&&(n.flags|=128,v=!0,Tr(c,!1),n.lanes=4194304);c.isBackwards?(S.sibling=n.child,n.child=S):(t=c.last,t!==null?t.sibling=S:n.child=S,c.last=S)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Lt(),t.sibling=null,a=He.current,ct(He,v?a&1|2:a&1),oe&&Ft(n,c.treeForkCount),t):(Ie(n),null);case 22:case 23:return On(n),Mc(),c=n.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(a&536870912)!==0&&(n.flags&128)===0&&(Ie(n),n.subtreeFlags&6&&(n.flags|=8192)):Ie(n),a=n.updateQueue,a!==null&&Vl(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==a&&(n.flags|=2048),t!==null&&G(Ts),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Yi(Fe),Ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function o0(t,n){switch(Ue(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Yi(Fe),Zt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Bt(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(r(340));Zi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Zi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(He),null;case 4:return Zt(),null;case 10:return Yi(n.type),null;case 22:case 23:return On(n),Mc(),t!==null&&G(Ts),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Yi(Fe),null;case 25:return null;default:return null}}function np(t,n){switch(Ue(n),n.tag){case 3:Yi(Fe),Zt();break;case 26:case 27:case 5:Bt(n);break;case 4:Zt();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:G(He);break;case 10:Yi(n.type);break;case 22:case 23:On(n),Mc(),t!==null&&G(Ts);break;case 24:Yi(Fe)}}function xr(t,n){try{var a=n.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var v=c.next;a=v;do{if((a.tag&t)===t){c=void 0;var S=a.create,A=a.inst;c=S(),A.destroy=c}a=a.next}while(a!==v)}}catch(O){Te(n,n.return,O)}}function ko(t,n,a){try{var c=n.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var S=v.next;c=S;do{if((c.tag&t)===t){var A=c.inst,O=A.destroy;if(O!==void 0){A.destroy=void 0,v=n;var X=a,ut=O;try{ut()}catch(Tt){Te(v,X,Tt)}}}c=c.next}while(c!==S)}}catch(Tt){Te(n,n.return,Tt)}}function ip(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Jd(n,a)}catch(c){Te(t,t.return,c)}}}function op(t,n,a){a.props=bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Te(t,n,c)}}function Er(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(v){Te(t,n,v)}}function Ii(t,n){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(v){Te(t,n,v)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(v){Te(t,n,v)}else a.current=null}function sp(t){var n=t.type,a=t.memoizedProps,c=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(v){Te(t,t.return,v)}}function rf(t,n,a){try{var c=t.stateNode;b0(c,t.type,a,n),c[Qe]=n}catch(v){Te(t,t.return,v)}}function ap(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bo(t.type)||t.tag===4}function lf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ap(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bo(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=xn));else if(c!==4&&(c===27&&Bo(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(uf(t,n,a),t=t.sibling;t!==null;)uf(t,n,a),t=t.sibling}function Fl(t,n,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(c!==4&&(c===27&&Bo(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Fl(t,n,a),t=t.sibling;t!==null;)Fl(t,n,a),t=t.sibling}function rp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,v=n.attributes;v.length;)n.removeAttributeNode(v[0]);an(n,c,a),n[qe]=t,n[Qe]=a}catch(S){Te(t,t.return,S)}}var Qi=!1,Je=!1,cf=!1,lp=typeof WeakSet=="function"?WeakSet:Set,tn=null;function s0(t,n){if(t=t.containerInfo,If=fu,t=cs(t),Ei(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var v=c.anchorOffset,S=c.focusNode;c=c.focusOffset;try{a.nodeType,S.nodeType}catch{a=null;break t}var A=0,O=-1,X=-1,ut=0,Tt=0,Ct=t,ht=null;e:for(;;){for(var vt;Ct!==a||v!==0&&Ct.nodeType!==3||(O=A+v),Ct!==S||c!==0&&Ct.nodeType!==3||(X=A+c),Ct.nodeType===3&&(A+=Ct.nodeValue.length),(vt=Ct.firstChild)!==null;)ht=Ct,Ct=vt;for(;;){if(Ct===t)break e;if(ht===a&&++ut===v&&(O=A),ht===S&&++Tt===c&&(X=A),(vt=Ct.nextSibling)!==null)break;Ct=ht,ht=Ct.parentNode}Ct=vt}a=O===-1||X===-1?null:{start:O,end:X}}else a=null}a=a||{start:0,end:0}}else a=null;for(kf={focusedElem:t,selectionRange:a},fu=!1,tn=n;tn!==null;)if(n=tn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tn=t;else for(;tn!==null;){switch(n=tn,S=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)v=t[a],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&S!==null){t=void 0,a=n,v=S.memoizedProps,S=S.memoizedState,c=a.stateNode;try{var Ut=bs(a.type,v);t=c.getSnapshotBeforeUpdate(Ut,S),c.__reactInternalSnapshotBeforeUpdate=t}catch(Jt){Te(a,a.return,Jt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Pf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tn=t;break}tn=n.return}}function up(t,n,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),c&4&&xr(5,a);break;case 1:if(ji(t,a),c&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(A){Te(a,a.return,A)}else{var v=bs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(v,n,t.__reactInternalSnapshotBeforeUpdate)}catch(A){Te(a,a.return,A)}}c&64&&ip(a),c&512&&Er(a,a.return);break;case 3:if(ji(t,a),c&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Jd(t,n)}catch(A){Te(a,a.return,A)}}break;case 27:n===null&&c&4&&rp(a);case 26:case 5:ji(t,a),n===null&&c&4&&sp(a),c&512&&Er(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),c&4&&dp(t,a);break;case 13:ji(t,a),c&4&&hp(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=p0.bind(null,a),D0(t,a))));break;case 22:if(c=a.memoizedState!==null||Qi,!c){n=n!==null&&n.memoizedState!==null||Je,v=Qi;var S=Je;Qi=c,(Je=n)&&!S?to(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Qi=v,Je=S}break;case 30:break;default:ji(t,a)}}function cp(t){var n=t.alternate;n!==null&&(t.alternate=null,cp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,An=!1;function $i(t,n,a){for(a=a.child;a!==null;)fp(t,n,a),a=a.sibling}function fp(t,n,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(ve,a)}catch{}switch(a.tag){case 26:Je||Ii(a,n),$i(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||Ii(a,n);var c=Le,v=An;Bo(a.type)&&(Le=a.stateNode,An=!1),$i(t,n,a),kr(a.stateNode),Le=c,An=v;break;case 5:Je||Ii(a,n);case 6:if(c=Le,v=An,Le=null,$i(t,n,a),Le=c,An=v,Le!==null)if(An)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(S){Te(a,n,S)}else try{Le.removeChild(a.stateNode)}catch(S){Te(a,n,S)}break;case 18:Le!==null&&(An?(t=Le,im(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),va(t)):im(Le,a.stateNode));break;case 4:c=Le,v=An,Le=a.stateNode.containerInfo,An=!0,$i(t,n,a),Le=c,An=v;break;case 0:case 11:case 14:case 15:ko(2,a,n),Je||ko(4,a,n),$i(t,n,a);break;case 1:Je||(Ii(a,n),c=a.stateNode,typeof c.componentWillUnmount=="function"&&op(a,n,c)),$i(t,n,a);break;case 21:$i(t,n,a);break;case 22:Je=(c=Je)||a.memoizedState!==null,$i(t,n,a),Je=c;break;default:$i(t,n,a)}}function dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{va(t)}catch(a){Te(n,n.return,a)}}}function hp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{va(t)}catch(a){Te(n,n.return,a)}}function a0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new lp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new lp),n;default:throw Error(r(435,t.tag))}}function Zl(t,n){var a=a0(t);n.forEach(function(c){if(!a.has(c)){a.add(c);var v=m0.bind(null,t,c);c.then(v,v)}})}function Mn(t,n){var a=n.deletions;if(a!==null)for(var c=0;c<a.length;c++){var v=a[c],S=t,A=n,O=A;t:for(;O!==null;){switch(O.tag){case 27:if(Bo(O.type)){Le=O.stateNode,An=!1;break t}break;case 5:Le=O.stateNode,An=!1;break t;case 3:case 4:Le=O.stateNode.containerInfo,An=!0;break t}O=O.return}if(Le===null)throw Error(r(160));fp(S,A,v),Le=null,An=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pp(n,t),n=n.sibling}var ci=null;function pp(t,n){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Nn(t),c&4&&(ko(3,t,t.return),xr(3,t),ko(5,t,t.return));break;case 1:Mn(n,t),Nn(t),c&512&&(Je||a===null||Ii(a,a.return)),c&64&&Qi&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var v=ci;if(Mn(n,t),Nn(t),c&512&&(Je||a===null||Ii(a,a.return)),c&4){var S=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){t:{c=t.type,a=t.memoizedProps,v=v.ownerDocument||v;e:switch(c){case"title":S=v.getElementsByTagName("title")[0],(!S||S[Ko]||S[qe]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(c),v.head.insertBefore(S,v.querySelector("head > title"))),an(S,c,a),S[qe]=t,Ve(S),c=S;break t;case"link":var A=pm("link","href",v).get(c+(a.href||""));if(A){for(var O=0;O<A.length;O++)if(S=A[O],S.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&S.getAttribute("rel")===(a.rel==null?null:a.rel)&&S.getAttribute("title")===(a.title==null?null:a.title)&&S.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(O,1);break e}}S=v.createElement(c),an(S,c,a),v.head.appendChild(S);break;case"meta":if(A=pm("meta","content",v).get(c+(a.content||""))){for(O=0;O<A.length;O++)if(S=A[O],S.getAttribute("content")===(a.content==null?null:""+a.content)&&S.getAttribute("name")===(a.name==null?null:a.name)&&S.getAttribute("property")===(a.property==null?null:a.property)&&S.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&S.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(O,1);break e}}S=v.createElement(c),an(S,c,a),v.head.appendChild(S);break;default:throw Error(r(468,c))}S[qe]=t,Ve(S),c=S}t.stateNode=c}else mm(v,t.type,t.stateNode);else t.stateNode=hm(v,c,t.memoizedProps);else S!==c?(S===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):S.count--,c===null?mm(v,t.type,t.stateNode):hm(v,c,t.memoizedProps)):c===null&&t.stateNode!==null&&rf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mn(n,t),Nn(t),c&512&&(Je||a===null||Ii(a,a.return)),a!==null&&c&4&&rf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mn(n,t),Nn(t),c&512&&(Je||a===null||Ii(a,a.return)),t.flags&32){v=t.stateNode;try{qn(v,"")}catch(Ut){Te(t,t.return,Ut)}}c&4&&t.stateNode!=null&&(v=t.memoizedProps,rf(t,v,a!==null?a.memoizedProps:v)),c&1024&&(cf=!0);break;case 6:if(Mn(n,t),Nn(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Ut){Te(t,t.return,Ut)}}break;case 3:if(ru=null,v=ci,ci=su(n.containerInfo),Mn(n,t),ci=v,Nn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{va(n.containerInfo)}catch(Ut){Te(t,t.return,Ut)}cf&&(cf=!1,mp(t));break;case 4:c=ci,ci=su(t.stateNode.containerInfo),Mn(n,t),Nn(t),ci=c;break;case 12:Mn(n,t),Nn(t);break;case 31:Mn(n,t),Nn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Zl(t,c)));break;case 13:Mn(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jl=Lt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Zl(t,c)));break;case 22:v=t.memoizedState!==null;var X=a!==null&&a.memoizedState!==null,ut=Qi,Tt=Je;if(Qi=ut||v,Je=Tt||X,Mn(n,t),Je=Tt,Qi=ut,Nn(t),c&8192)t:for(n=t.stateNode,n._visibility=v?n._visibility&-2:n._visibility|1,v&&(a===null||X||Qi||Je||As(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){X=a=n;try{if(S=X.stateNode,v)A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{O=X.stateNode;var Ct=X.memoizedProps.style,ht=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null;O.style.display=ht==null||typeof ht=="boolean"?"":(""+ht).trim()}}catch(Ut){Te(X,X.return,Ut)}}}else if(n.tag===6){if(a===null){X=n;try{X.stateNode.nodeValue=v?"":X.memoizedProps}catch(Ut){Te(X,X.return,Ut)}}}else if(n.tag===18){if(a===null){X=n;try{var vt=X.stateNode;v?om(vt,!0):om(X.stateNode,!1)}catch(Ut){Te(X,X.return,Ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Zl(t,a))));break;case 19:Mn(n,t),Nn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Zl(t,c)));break;case 30:break;case 21:break;default:Mn(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{for(var a,c=t.return;c!==null;){if(ap(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var v=a.stateNode,S=lf(t);Fl(t,S,v);break;case 5:var A=a.stateNode;a.flags&32&&(qn(A,""),a.flags&=-33);var O=lf(t);Fl(t,O,A);break;case 3:case 4:var X=a.stateNode.containerInfo,ut=lf(t);uf(t,ut,X);break;default:throw Error(r(161))}}catch(Tt){Te(t,t.return,Tt)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)up(t,n.alternate,n),n=n.sibling}function As(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ko(4,n,n.return),As(n);break;case 1:Ii(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&op(n,n.return,a),As(n);break;case 27:kr(n.stateNode);case 26:case 5:Ii(n,n.return),As(n);break;case 22:n.memoizedState===null&&As(n);break;case 30:As(n);break;default:As(n)}t=t.sibling}}function to(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,v=t,S=n,A=S.flags;switch(S.tag){case 0:case 11:case 15:to(v,S,a),xr(4,S);break;case 1:if(to(v,S,a),c=S,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ut){Te(c,c.return,ut)}if(c=S,v=c.updateQueue,v!==null){var O=c.stateNode;try{var X=v.shared.hiddenCallbacks;if(X!==null)for(v.shared.hiddenCallbacks=null,v=0;v<X.length;v++)Yd(X[v],O)}catch(ut){Te(c,c.return,ut)}}a&&A&64&&ip(S),Er(S,S.return);break;case 27:rp(S);case 26:case 5:to(v,S,a),a&&c===null&&A&4&&sp(S),Er(S,S.return);break;case 12:to(v,S,a);break;case 31:to(v,S,a),a&&A&4&&dp(v,S);break;case 13:to(v,S,a),a&&A&4&&hp(v,S);break;case 22:S.memoizedState===null&&to(v,S,a),Er(S,S.return);break;case 30:break;default:to(v,S,a)}n=n.sibling}}function ff(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ur(a))}function df(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ur(t))}function fi(t,n,a,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(t,n,a,c),n=n.sibling}function gp(t,n,a,c){var v=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,a,c),v&2048&&xr(9,n);break;case 1:fi(t,n,a,c);break;case 3:fi(t,n,a,c),v&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ur(t)));break;case 12:if(v&2048){fi(t,n,a,c),t=n.stateNode;try{var S=n.memoizedProps,A=S.id,O=S.onPostCommit;typeof O=="function"&&O(A,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(X){Te(n,n.return,X)}}else fi(t,n,a,c);break;case 31:fi(t,n,a,c);break;case 13:fi(t,n,a,c);break;case 23:break;case 22:S=n.stateNode,A=n.alternate,n.memoizedState!==null?S._visibility&2?fi(t,n,a,c):wr(t,n):S._visibility&2?fi(t,n,a,c):(S._visibility|=2,ra(t,n,a,c,(n.subtreeFlags&10256)!==0||!1)),v&2048&&ff(A,n);break;case 24:fi(t,n,a,c),v&2048&&df(n.alternate,n);break;default:fi(t,n,a,c)}}function ra(t,n,a,c,v){for(v=v&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var S=t,A=n,O=a,X=c,ut=A.flags;switch(A.tag){case 0:case 11:case 15:ra(S,A,O,X,v),xr(8,A);break;case 23:break;case 22:var Tt=A.stateNode;A.memoizedState!==null?Tt._visibility&2?ra(S,A,O,X,v):wr(S,A):(Tt._visibility|=2,ra(S,A,O,X,v)),v&&ut&2048&&ff(A.alternate,A);break;case 24:ra(S,A,O,X,v),v&&ut&2048&&df(A.alternate,A);break;default:ra(S,A,O,X,v)}n=n.sibling}}function wr(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,c=n,v=c.flags;switch(c.tag){case 22:wr(a,c),v&2048&&ff(c.alternate,c);break;case 24:wr(a,c),v&2048&&df(c.alternate,c);break;default:wr(a,c)}n=n.sibling}}var Cr=8192;function la(t,n,a){if(t.subtreeFlags&Cr)for(t=t.child;t!==null;)_p(t,n,a),t=t.sibling}function _p(t,n,a){switch(t.tag){case 26:la(t,n,a),t.flags&Cr&&t.memoizedState!==null&&Y0(a,ci,t.memoizedState,t.memoizedProps);break;case 5:la(t,n,a);break;case 3:case 4:var c=ci;ci=su(t.stateNode.containerInfo),la(t,n,a),ci=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Cr,Cr=16777216,la(t,n,a),Cr=c):la(t,n,a));break;default:la(t,n,a)}}function vp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function br(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];tn=c,Sp(c,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 0:case 11:case 15:br(t),t.flags&2048&&ko(9,t,t.return);break;case 3:br(t);break;case 12:br(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Yl(t)):br(t);break;default:br(t)}}function Yl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];tn=c,Sp(c,t)}vp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ko(8,n,n.return),Yl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Yl(n));break;default:Yl(n)}t=t.sibling}}function Sp(t,n){for(;tn!==null;){var a=tn;switch(a.tag){case 0:case 11:case 15:ko(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ur(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,tn=c;else t:for(a=t;tn!==null;){c=tn;var v=c.sibling,S=c.return;if(cp(c),c===a){tn=null;break t}if(v!==null){v.return=S,tn=v;break t}tn=S}}}var r0={getCacheForType:function(t){var n=on(Fe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return on(Fe).controller.signal}},l0=typeof WeakMap=="function"?WeakMap:Map,_e=0,Me=null,se=null,le=0,Se=0,Bn=null,Lo=!1,ua=!1,hf=!1,eo=0,Be=0,Do=0,Ms=0,pf=0,Hn=0,ca=0,Ar=null,Rn=null,mf=!1,Jl=0,Tp=0,Kl=1/0,Xl=null,Po=null,We=0,zo=null,fa=null,no=0,gf=0,_f=null,xp=null,Mr=0,vf=null;function Gn(){return(_e&2)!==0&&le!==0?le&-le:Q.T!==null?wf():Oa()}function Ep(){if(Hn===0)if((le&536870912)===0||oe){var t=gi;gi<<=1,(gi&3932160)===0&&(gi=262144),Hn=t}else Hn=536870912;return t=Un.current,t!==null&&(t.flags|=32),Hn}function In(t,n,a){(t===Me&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(da(t,0),Uo(t,le,Hn,!1)),Pi(t,a),((_e&2)===0||t!==Me)&&(t===Me&&((_e&2)===0&&(Ms|=a),Be===4&&Uo(t,le,Hn,!1)),ki(t))}function wp(t,n,a){if((_e&6)!==0)throw Error(r(327));var c=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Jo(t,n),v=c?f0(t,n):Sf(t,n,!0),S=c;do{if(v===0){ua&&!c&&Uo(t,n,0,!1);break}else{if(a=t.current.alternate,S&&!u0(a)){v=Sf(t,n,!1),S=!1;continue}if(v===2){if(S=n,t.errorRecoveryDisabledLanes&S)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var O=t;v=Ar;var X=O.current.memoizedState.isDehydrated;if(X&&(da(O,A).flags|=256),A=Sf(O,A,!1),A!==2){if(hf&&!X){O.errorRecoveryDisabledLanes|=S,Ms|=S,v=4;break t}S=Rn,Rn=v,S!==null&&(Rn===null?Rn=S:Rn.push.apply(Rn,S))}v=A}if(S=!1,v!==2)continue}}if(v===1){da(t,0),Uo(t,n,0,!0);break}t:{switch(c=t,S=v,S){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Uo(c,n,Hn,!Lo);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(v=Jl+300-Lt(),10<v)){if(Uo(c,n,Hn,!Lo),ks(c,0,!0)!==0)break t;no=n,c.timeoutHandle=em(Cp.bind(null,c,a,Rn,Xl,mf,n,Hn,Ms,ca,Lo,S,"Throttled",-0,0),v);break t}Cp(c,a,Rn,Xl,mf,n,Hn,Ms,ca,Lo,S,null,-0,0)}}break}while(!0);ki(t)}function Cp(t,n,a,c,v,S,A,O,X,ut,Tt,Ct,ht,vt){if(t.timeoutHandle=-1,Ct=n.subtreeFlags,Ct&8192||(Ct&16785408)===16785408){Ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},_p(n,S,Ct);var Ut=(S&62914560)===S?Jl-Lt():(S&4194048)===S?Tp-Lt():0;if(Ut=J0(Ct,Ut),Ut!==null){no=S,t.cancelPendingCommit=Ut(Lp.bind(null,t,n,S,a,c,v,A,O,X,Tt,Ct,null,ht,vt)),Uo(t,S,A,!ut);return}}Lp(t,n,S,a,c,v,A,O,X)}function u0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var v=a[c],S=v.getSnapshot;v=v.value;try{if(!$e(S(),v))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Uo(t,n,a,c){n&=~pf,n&=~Ms,t.suspendedLanes|=n,t.pingedLanes&=~n,c&&(t.warmLanes|=n),c=t.expirationTimes;for(var v=n;0<v;){var S=31-Ne(v),A=1<<S;c[S]=-1,v&=~A}a!==0&&Kr(t,a,n)}function Wl(){return(_e&6)===0?(Nr(0),!1):!0}function yf(){if(se!==null){if(Se===0)var t=se.return;else t=se,ui=Ri=null,Dc(t),na=null,fr=0,t=se;for(;t!==null;)np(t.alternate,t),t=t.return;se=null}}function da(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,N0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),no=0,yf(),Me=t,se=a=Xn(t.current,null),le=n,Se=0,Bn=null,Lo=!1,ua=Jo(t,n),hf=!1,ca=Hn=pf=Ms=Do=Be=0,Rn=Ar=null,mf=!1,(n&8)!==0&&(n|=n&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=n;0<c;){var v=31-Ne(c),S=1<<v;n|=t[v],c&=~S}return eo=n,ms(),a}function bp(t,n){te=null,Q.H=yr,n===ea||n===Cl?(n=qd(),Se=3):n===xc?(n=qd(),Se=4):Se=n===Wc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,se===null&&(Be=1,Bl(t,u(n,t.current)))}function Ap(){var t=Un.current;return t===null?!0:(le&4194048)===le?Wn===null:(le&62914560)===le||(le&536870912)!==0?t===Wn:!1}function Mp(){var t=Q.H;return Q.H=yr,t===null?yr:t}function Np(){var t=Q.A;return Q.A=r0,t}function Ql(){Be=4,Lo||(le&4194048)!==le&&Un.current!==null||(ua=!0),(Do&134217727)===0&&(Ms&134217727)===0||Me===null||Uo(Me,le,Hn,!1)}function Sf(t,n,a){var c=_e;_e|=2;var v=Mp(),S=Np();(Me!==t||le!==n)&&(Xl=null,da(t,n)),n=!1;var A=Be;t:do try{if(Se!==0&&se!==null){var O=se,X=Bn;switch(Se){case 8:yf(),A=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var ut=Se;if(Se=0,Bn=null,ha(t,O,X,ut),a&&ua){A=0;break t}break;default:ut=Se,Se=0,Bn=null,ha(t,O,X,ut)}}c0(),A=Be;break}catch(Tt){bp(t,Tt)}while(!0);return n&&t.shellSuspendCounter++,ui=Ri=null,_e=c,Q.H=v,Q.A=S,se===null&&(Me=null,le=0,ms()),A}function c0(){for(;se!==null;)Rp(se)}function f0(t,n){var a=_e;_e|=2;var c=Mp(),v=Np();Me!==t||le!==n?(Xl=null,Kl=Lt()+500,da(t,n)):ua=Jo(t,n);t:do try{if(Se!==0&&se!==null){n=se;var S=Bn;e:switch(Se){case 1:Se=0,Bn=null,ha(t,n,S,1);break;case 2:case 9:if(Hd(S)){Se=0,Bn=null,Ip(n);break}n=function(){Se!==2&&Se!==9||Me!==t||(Se=7),ki(t)},S.then(n,n);break t;case 3:Se=7;break t;case 4:Se=5;break t;case 7:Hd(S)?(Se=0,Bn=null,Ip(n)):(Se=0,Bn=null,ha(t,n,S,7));break;case 5:var A=null;switch(se.tag){case 26:A=se.memoizedState;case 5:case 27:var O=se;if(A?gm(A):O.stateNode.complete){Se=0,Bn=null;var X=O.sibling;if(X!==null)se=X;else{var ut=O.return;ut!==null?(se=ut,$l(ut)):se=null}break e}}Se=0,Bn=null,ha(t,n,S,5);break;case 6:Se=0,Bn=null,ha(t,n,S,6);break;case 8:yf(),Be=6;break t;default:throw Error(r(462))}}d0();break}catch(Tt){bp(t,Tt)}while(!0);return ui=Ri=null,Q.H=c,Q.A=v,_e=a,se!==null?0:(Me=null,le=0,ms(),Be)}function d0(){for(;se!==null&&!ft();)Rp(se)}function Rp(t){var n=tp(t.alternate,t,eo);t.memoizedProps=t.pendingProps,n===null?$l(t):se=n}function Ip(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Kh(a,n,n.pendingProps,n.type,void 0,le);break;case 11:n=Kh(a,n,n.pendingProps,n.type.render,n.ref,le);break;case 5:Dc(n);default:np(a,n),n=se=or(n,eo),n=tp(a,n,eo)}t.memoizedProps=t.pendingProps,n===null?$l(t):se=n}function ha(t,n,a,c){ui=Ri=null,Dc(n),na=null,fr=0;var v=n.return;try{if(t0(t,v,n,a,le)){Be=1,Bl(t,u(a,t.current)),se=null;return}}catch(S){if(v!==null)throw se=v,S;Be=1,Bl(t,u(a,t.current)),se=null;return}n.flags&32768?(oe||c===1?t=!0:ua||(le&536870912)!==0?t=!1:(Lo=t=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),kp(n,t)):$l(n)}function $l(t){var n=t;do{if((n.flags&32768)!==0){kp(n,Lo);return}t=n.return;var a=i0(n.alternate,n,eo);if(a!==null){se=a;return}if(n=n.sibling,n!==null){se=n;return}se=n=t}while(n!==null);Be===0&&(Be=5)}function kp(t,n){do{var a=o0(t.alternate,t);if(a!==null){a.flags&=32767,se=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){se=t;return}se=t=a}while(t!==null);Be=6,se=null}function Lp(t,n,a,c,v,S,A,O,X){t.cancelPendingCommit=null;do jl();while(We!==0);if((_e&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(S=n.lanes|n.childLanes,S|=Ks,ec(t,a,S,A,O,X),t===Me&&(se=Me=null,le=0),fa=n,zo=t,no=a,gf=S,_f=v,xp=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g0(jt,function(){return Op(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,v=tt.p,tt.p=2,A=_e,_e|=4;try{s0(t,n,a)}finally{_e=A,tt.p=v,Q.T=c}}We=1,Dp(),Pp(),zp()}}function Dp(){if(We===1){We=0;var t=zo,n=fa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var c=tt.p;tt.p=2;var v=_e;_e|=4;try{pp(n,t);var S=kf,A=cs(t.containerInfo),O=S.focusedElem,X=S.selectionRange;if(A!==O&&O&&O.ownerDocument&&Fs(O.ownerDocument.documentElement,O)){if(X!==null&&Ei(O)){var ut=X.start,Tt=X.end;if(Tt===void 0&&(Tt=ut),"selectionStart"in O)O.selectionStart=ut,O.selectionEnd=Math.min(Tt,O.value.length);else{var Ct=O.ownerDocument||document,ht=Ct&&Ct.defaultView||window;if(ht.getSelection){var vt=ht.getSelection(),Ut=O.textContent.length,Jt=Math.min(X.start,Ut),Ce=X.end===void 0?Jt:Math.min(X.end,Ut);!vt.extend&&Jt>Ce&&(A=Ce,Ce=Jt,Jt=A);var nt=us(O,Jt),$=us(O,Ce);if(nt&&$&&(vt.rangeCount!==1||vt.anchorNode!==nt.node||vt.anchorOffset!==nt.offset||vt.focusNode!==$.node||vt.focusOffset!==$.offset)){var rt=Ct.createRange();rt.setStart(nt.node,nt.offset),vt.removeAllRanges(),Jt>Ce?(vt.addRange(rt),vt.extend($.node,$.offset)):(rt.setEnd($.node,$.offset),vt.addRange(rt))}}}}for(Ct=[],vt=O;vt=vt.parentNode;)vt.nodeType===1&&Ct.push({element:vt,left:vt.scrollLeft,top:vt.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<Ct.length;O++){var Et=Ct[O];Et.element.scrollLeft=Et.left,Et.element.scrollTop=Et.top}}fu=!!If,kf=If=null}finally{_e=v,tt.p=c,Q.T=a}}t.current=n,We=2}}function Pp(){if(We===2){We=0;var t=zo,n=fa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var c=tt.p;tt.p=2;var v=_e;_e|=4;try{up(t,n.alternate,n)}finally{_e=v,tt.p=c,Q.T=a}}We=3}}function zp(){if(We===4||We===3){We=0,It();var t=zo,n=fa,a=no,c=xp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,fa=zo=null,Up(t,t.pendingLanes));var v=t.pendingLanes;if(v===0&&(Po=null),qt(a),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(ve,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=Q.T,v=tt.p,tt.p=2,Q.T=null;try{for(var S=t.onRecoverableError,A=0;A<c.length;A++){var O=c[A];S(O.value,{componentStack:O.stack})}}finally{Q.T=n,tt.p=v}}(no&3)!==0&&jl(),ki(t),v=t.pendingLanes,(a&261930)!==0&&(v&42)!==0?t===vf?Mr++:(Mr=0,vf=t):Mr=0,Nr(0)}}function Up(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ur(n)))}function jl(){return Dp(),Pp(),zp(),Op()}function Op(){if(We!==5)return!1;var t=zo,n=gf;gf=0;var a=qt(no),c=Q.T,v=tt.p;try{tt.p=32>a?32:a,Q.T=null,a=_f,_f=null;var S=zo,A=no;if(We=0,fa=zo=null,no=0,(_e&6)!==0)throw Error(r(331));var O=_e;if(_e|=4,yp(S.current),gp(S,S.current,A,a),_e=O,Nr(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(ve,S)}catch{}return!0}finally{tt.p=v,Q.T=c,Up(t,n)}}function Bp(t,n,a){n=u(a,n),n=Xc(t.stateNode,n,2),t=No(t,n,2),t!==null&&(Pi(t,2),ki(t))}function Te(t,n,a){if(t.tag===3)Bp(t,t,a);else for(;n!==null;){if(n.tag===3){Bp(n,t,a);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Po===null||!Po.has(c))){t=u(a,t),a=Hh(2),c=No(n,a,2),c!==null&&(Gh(a,c,n,t),Pi(c,2),ki(c));break}}n=n.return}}function Tf(t,n,a){var c=t.pingCache;if(c===null){c=t.pingCache=new l0;var v=new Set;c.set(n,v)}else v=c.get(n),v===void 0&&(v=new Set,c.set(n,v));v.has(a)||(hf=!0,v.add(a),t=h0.bind(null,t,n,a),n.then(t,t))}function h0(t,n,a){var c=t.pingCache;c!==null&&c.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Me===t&&(le&a)===a&&(Be===4||Be===3&&(le&62914560)===le&&300>Lt()-Jl?(_e&2)===0&&da(t,0):pf|=a,ca===le&&(ca=0)),ki(t)}function Hp(t,n){n===0&&(n=Jr()),t=Kn(t,n),t!==null&&(Pi(t,n),ki(t))}function p0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Hp(t,a)}function m0(t,n){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,v=t.memoizedState;v!==null&&(a=v.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(n),Hp(t,a)}function g0(t,n){return At(t,n)}var tu=null,pa=null,xf=!1,eu=!1,Ef=!1,Oo=0;function ki(t){t!==pa&&t.next===null&&(pa===null?tu=pa=t:pa=pa.next=t),eu=!0,xf||(xf=!0,v0())}function Nr(t,n){if(!Ef&&eu){Ef=!0;do for(var a=!1,c=tu;c!==null;){if(t!==0){var v=c.pendingLanes;if(v===0)var S=0;else{var A=c.suspendedLanes,O=c.pingedLanes;S=(1<<31-Ne(42|t)+1)-1,S&=v&~(A&~O),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(a=!0,Fp(c,S))}else S=le,S=ks(c,c===Me?S:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(S&3)===0||Jo(c,S)||(a=!0,Fp(c,S));c=c.next}while(a);Ef=!1}}function _0(){Gp()}function Gp(){eu=xf=!1;var t=0;Oo!==0&&M0()&&(t=Oo);for(var n=Lt(),a=null,c=tu;c!==null;){var v=c.next,S=qp(c,n);S===0?(c.next=null,a===null?tu=v:a.next=v,v===null&&(pa=a)):(a=c,(t!==0||(S&3)!==0)&&(eu=!0)),c=v}We!==0&&We!==5||Nr(t),Oo!==0&&(Oo=0)}function qp(t,n){for(var a=t.suspendedLanes,c=t.pingedLanes,v=t.expirationTimes,S=t.pendingLanes&-62914561;0<S;){var A=31-Ne(S),O=1<<A,X=v[A];X===-1?((O&a)===0||(O&c)!==0)&&(v[A]=tc(O,n)):X<=n&&(t.expiredLanes|=O),S&=~O}if(n=Me,a=le,a=ks(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===n&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Nt(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jo(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(c!==null&&Nt(c),qt(a)){case 2:case 8:a=fe;break;case 32:a=jt;break;case 268435456:a=ei;break;default:a=jt}return c=Vp.bind(null,t),a=At(a,c),t.callbackPriority=n,t.callbackNode=a,n}return c!==null&&c!==null&&Nt(c),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,n){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(jl()&&t.callbackNode!==a)return null;var c=le;return c=ks(t,t===Me?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(wp(t,c,n),qp(t,Lt()),t.callbackNode!=null&&t.callbackNode===a?Vp.bind(null,t):null)}function Fp(t,n){if(jl())return null;wp(t,n,!0)}function v0(){R0(function(){(_e&6)!==0?At(Vt,_0):Gp()})}function wf(){if(Oo===0){var t=js;t===0&&(t=Di,Di<<=1,(Di&261888)===0&&(Di=256)),Oo=t}return Oo}function Zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ho(""+t)}function Yp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function y0(t,n,a,c,v){if(n==="submit"&&a&&a.stateNode===v){var S=Zp((v[Qe]||null).action),A=c.submitter;A&&(n=(n=A[Qe]||null)?Zp(n.formAction):A.getAttribute("formAction"),n!==null&&(S=n,A=null));var O=new Us("action","action",null,c,v);t.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oo!==0){var X=A?Yp(v,A):new FormData(v);Vc(a,{pending:!0,data:X,method:v.method,action:S},null,X)}}else typeof S=="function"&&(O.preventDefault(),X=A?Yp(v,A):new FormData(v),Vc(a,{pending:!0,data:X,method:v.method,action:S},S,X))},currentTarget:v}]})}}for(var Cf=0;Cf<bi.length;Cf++){var bf=bi[Cf],S0=bf.toLowerCase(),T0=bf[0].toUpperCase()+bf.slice(1);wn(S0,"on"+T0)}wn(ds,"onAnimationEnd"),wn(yl,"onAnimationIteration"),wn(hs,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(pc,"onTransitionRun"),wn(Sl,"onTransitionStart"),wn(mc,"onTransitionCancel"),wn(wo,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rr));function Jp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],v=c.event;c=c.listeners;t:{var S=void 0;if(n)for(var A=c.length-1;0<=A;A--){var O=c[A],X=O.instance,ut=O.currentTarget;if(O=O.listener,X!==S&&v.isPropagationStopped())break t;S=O,v.currentTarget=ut;try{S(v)}catch(Tt){ps(Tt)}v.currentTarget=null,S=X}else for(A=0;A<c.length;A++){if(O=c[A],X=O.instance,ut=O.currentTarget,O=O.listener,X!==S&&v.isPropagationStopped())break t;S=O,v.currentTarget=ut;try{S(v)}catch(Tt){ps(Tt)}v.currentTarget=null,S=X}}}}function ae(t,n){var a=n[_i];a===void 0&&(a=n[_i]=new Set);var c=t+"__bubble";a.has(c)||(Kp(n,t,2,!1),a.add(c))}function Af(t,n,a){var c=0;n&&(c|=4),Kp(a,t,c,n)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Mf(t){if(!t[nu]){t[nu]=!0,jr.forEach(function(a){a!=="selectionchange"&&(x0.has(a)||Af(a,!1,t),Af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[nu]||(n[nu]=!0,Af("selectionchange",!1,n))}}function Kp(t,n,a,c){switch(Em(n)){case 2:var v=W0;break;case 8:v=Q0;break;default:v=Vf}a=v.bind(null,n,a,t),v=void 0,!ts||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(v=!0),c?v!==void 0?t.addEventListener(n,a,{capture:!0,passive:v}):t.addEventListener(n,a,!0):v!==void 0?t.addEventListener(n,a,{passive:v}):t.addEventListener(n,a,!1)}function Nf(t,n,a,c,v){var S=c;if((n&1)===0&&(n&2)===0&&c!==null)t:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var O=c.stateNode.containerInfo;if(O===v)break;if(A===4)for(A=c.return;A!==null;){var X=A.tag;if((X===3||X===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;O!==null;){if(A=Ui(O),A===null)return;if(X=A.tag,X===5||X===6||X===26||X===27){c=S=A;continue t}O=O.parentNode}}c=c.return}Ja(function(){var ut=S,Tt=jo(a),Ct=[];t:{var ht=Tl.get(t);if(ht!==void 0){var vt=Us,Ut=t;switch(t){case"keypress":if(es(a)===0)break t;case"keydown":case"keyup":vt=rl;break;case"focusin":Ut="focus",vt=Wa;break;case"focusout":Ut="blur",vt=Wa;break;case"beforeblur":case"afterblur":vt=Wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=lc;break;case ds:case yl:case hs:vt=Qa;break;case wo:vt=cl;break;case"scroll":case"scrollend":vt=re;break;case"wheel":vt=qi;break;case"copy":case"cut":case"paste":vt=Fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=ll;break;case"toggle":case"beforetoggle":vt=os}var Jt=(n&4)!==0,Ce=!Jt&&(t==="scroll"||t==="scrollend"),nt=Jt?ht!==null?ht+"Capture":null:ht;Jt=[];for(var $=ut,rt;$!==null;){var Et=$;if(rt=Et.stateNode,Et=Et.tag,Et!==5&&Et!==26&&Et!==27||rt===null||nt===null||(Et=Hi($,nt),Et!=null&&Jt.push(Ir($,Et,rt))),Ce)break;$=$.return}0<Jt.length&&(ht=new vt(ht,Ut,null,a,Tt),Ct.push({event:ht,listeners:Jt}))}}if((n&7)===0){t:{if(ht=t==="mouseover"||t==="pointerover",vt=t==="mouseout"||t==="pointerout",ht&&a!==zs&&(Ut=a.relatedTarget||a.fromElement)&&(Ui(Ut)||Ut[zi]))break t;if((vt||ht)&&(ht=Tt.window===Tt?Tt:(ht=Tt.ownerDocument)?ht.defaultView||ht.parentWindow:window,vt?(Ut=a.relatedTarget||a.toElement,vt=ut,Ut=Ut?Ui(Ut):null,Ut!==null&&(Ce=f(Ut),Jt=Ut.tag,Ut!==Ce||Jt!==5&&Jt!==27&&Jt!==6)&&(Ut=null)):(vt=null,Ut=ut),vt!==Ut)){if(Jt=nl,Et="onMouseLeave",nt="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(Jt=ll,Et="onPointerLeave",nt="onPointerEnter",$="pointer"),Ce=vt==null?ht:vi(vt),rt=Ut==null?ht:vi(Ut),ht=new Jt(Et,$+"leave",vt,a,Tt),ht.target=Ce,ht.relatedTarget=rt,Et=null,Ui(Tt)===ut&&(Jt=new Jt(nt,$+"enter",Ut,a,Tt),Jt.target=rt,Jt.relatedTarget=Ce,Et=Jt),Ce=Et,vt&&Ut)e:{for(Jt=E0,nt=vt,$=Ut,rt=0,Et=nt;Et;Et=Jt(Et))rt++;Et=0;for(var Yt=$;Yt;Yt=Jt(Yt))Et++;for(;0<rt-Et;)nt=Jt(nt),rt--;for(;0<Et-rt;)$=Jt($),Et--;for(;rt--;){if(nt===$||$!==null&&nt===$.alternate){Jt=nt;break e}nt=Jt(nt),$=Jt($)}Jt=null}else Jt=null;vt!==null&&Xp(Ct,ht,vt,Jt,!1),Ut!==null&&Ce!==null&&Xp(Ct,Ce,Ut,Jt,!0)}}t:{if(ht=ut?vi(ut):window,vt=ht.nodeName&&ht.nodeName.toLowerCase(),vt==="select"||vt==="input"&&ht.type==="file")var pe=ls;else if(Zn(ht))if(pl)pe=hc;else{pe=dc;var Ht=ai}else vt=ht.nodeName,!vt||vt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?ut&&$o(ut.elementType)&&(pe=ls):pe=So;if(pe&&(pe=pe(t,ut))){hl(Ct,pe,a,Tt);break t}Ht&&Ht(t,ht,ut),t==="focusout"&&ut&&ht.type==="number"&&ut.memoizedProps.value!=null&&ii(ht,"number",ht.value)}switch(Ht=ut?vi(ut):window,t){case"focusin":(Zn(Ht)||Ht.contentEditable==="true")&&(wi=Ht,Ys=ut,fs=null);break;case"focusout":fs=Ys=wi=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,_l(Ct,a,Tt);break;case"selectionchange":if(Zs)break;case"keydown":case"keyup":_l(Ct,a,Tt)}var ne;if(Bs)t:{switch(t){case"compositionstart":var ue="onCompositionStart";break t;case"compositionend":ue="onCompositionEnd";break t;case"compositionupdate":ue="onCompositionUpdate";break t}ue=void 0}else _o?dl(t,a)&&(ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ue="onCompositionStart");ue&&(Hs&&a.locale!=="ko"&&(_o||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&_o&&(ne=Ti()):(Vn=Tt,Gi="value"in Vn?Vn.value:Vn.textContent,_o=!0)),Ht=iu(ut,ue),0<Ht.length&&(ue=new $a(ue,t,null,a,Tt),Ct.push({event:ue,listeners:Ht}),ne?ue.data=ne:(ne=nr(a),ne!==null&&(ue.data=ne)))),(ne=cc?zn(t,a):vo(t,a))&&(ue=iu(ut,"onBeforeInput"),0<ue.length&&(Ht=new $a("onBeforeInput","beforeinput",null,a,Tt),Ct.push({event:Ht,listeners:ue}),Ht.data=ne)),y0(Ct,t,ut,a,Tt)}Jp(Ct,n)})}function Ir(t,n,a){return{instance:t,listener:n,currentTarget:a}}function iu(t,n){for(var a=n+"Capture",c=[];t!==null;){var v=t,S=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=Hi(t,a),v!=null&&c.unshift(Ir(t,v,S)),v=Hi(t,n),v!=null&&c.push(Ir(t,v,S))),t.tag===3)return c;t=t.return}return[]}function E0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xp(t,n,a,c,v){for(var S=n._reactName,A=[];a!==null&&a!==c;){var O=a,X=O.alternate,ut=O.stateNode;if(O=O.tag,X!==null&&X===c)break;O!==5&&O!==26&&O!==27||ut===null||(X=ut,v?(ut=Hi(a,S),ut!=null&&A.unshift(Ir(a,ut,X))):v||(ut=Hi(a,S),ut!=null&&A.push(Ir(a,ut,X)))),a=a.return}A.length!==0&&t.push({event:n,listeners:A})}var w0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function Wp(t){return(typeof t=="string"?t:""+t).replace(w0,`
`).replace(C0,"")}function Qp(t,n){return n=Wp(n),Wp(t)===n}function we(t,n,a,c,v,S){switch(a){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||qn(t,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&qn(t,""+c);break;case"className":xe(t,"class",c);break;case"tabIndex":xe(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":xe(t,a,c);break;case"style":Ds(t,c,S);break;case"data":if(n!=="object"){xe(t,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ho(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(a==="formAction"?(n!=="input"&&we(t,n,"name",v.name,v,null),we(t,n,"formEncType",v.formEncType,v,null),we(t,n,"formMethod",v.formMethod,v,null),we(t,n,"formTarget",v.formTarget,v,null)):(we(t,n,"encType",v.encType,v,null),we(t,n,"method",v.method,v,null),we(t,n,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ho(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=xn);break;case"onScroll":c!=null&&ae("scroll",t);break;case"onScrollEnd":c!=null&&ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=ho(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":ae("beforetoggle",t),ae("toggle",t),ie(t,"popover",c);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ie(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ps.get(a)||a,ie(t,a,c))}}function Rf(t,n,a,c,v,S){switch(a){case"style":Ds(t,c,S);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof c=="string"?qn(t,c):(typeof c=="number"||typeof c=="bigint")&&qn(t,""+c);break;case"onScroll":c!=null&&ae("scroll",t);break;case"onScrollEnd":c!=null&&ae("scrollend",t);break;case"onClick":c!=null&&(t.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(v=a.endsWith("Capture"),n=a.slice(2,v?a.length-7:void 0),S=t[Qe]||null,S=S!=null?S[a]:null,typeof S=="function"&&t.removeEventListener(n,S,v),typeof c=="function")){typeof S!="function"&&S!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,c,v);break t}a in t?t[a]=c:c===!0?t.setAttribute(a,""):ie(t,a,c)}}}function an(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",t),ae("load",t);var c=!1,v=!1,S;for(S in a)if(a.hasOwnProperty(S)){var A=a[S];if(A!=null)switch(S){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:we(t,n,S,A,a,null)}}v&&we(t,n,"srcSet",a.srcSet,a,null),c&&we(t,n,"src",a.src,a,null);return;case"input":ae("invalid",t);var O=S=A=v=null,X=null,ut=null;for(c in a)if(a.hasOwnProperty(c)){var Tt=a[c];if(Tt!=null)switch(c){case"name":v=Tt;break;case"type":A=Tt;break;case"checked":X=Tt;break;case"defaultChecked":ut=Tt;break;case"value":S=Tt;break;case"defaultValue":O=Tt;break;case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(r(137,n));break;default:we(t,n,c,Tt,a,null)}}Qo(t,S,O,X,ut,A,v,!1);return;case"select":ae("invalid",t),c=A=S=null;for(v in a)if(a.hasOwnProperty(v)&&(O=a[v],O!=null))switch(v){case"value":S=O;break;case"defaultValue":A=O;break;case"multiple":c=O;default:we(t,n,v,O,a,null)}n=S,a=A,t.multiple=!!c,n!=null?Ae(t,!!c,n,!1):a!=null&&Ae(t,!!c,a,!0);return;case"textarea":ae("invalid",t),S=v=c=null;for(A in a)if(a.hasOwnProperty(A)&&(O=a[A],O!=null))switch(A){case"value":c=O;break;case"defaultValue":v=O;break;case"children":S=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:we(t,n,A,O,a,null)}co(t,c,v,S);return;case"option":for(X in a)if(a.hasOwnProperty(X)&&(c=a[X],c!=null))switch(X){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:we(t,n,X,c,a,null)}return;case"dialog":ae("beforetoggle",t),ae("toggle",t),ae("cancel",t),ae("close",t);break;case"iframe":case"object":ae("load",t);break;case"video":case"audio":for(c=0;c<Rr.length;c++)ae(Rr[c],t);break;case"image":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"embed":case"source":case"link":ae("error",t),ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ut in a)if(a.hasOwnProperty(ut)&&(c=a[ut],c!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:we(t,n,ut,c,a,null)}return;default:if($o(n)){for(Tt in a)a.hasOwnProperty(Tt)&&(c=a[Tt],c!==void 0&&Rf(t,n,Tt,c,a,void 0));return}}for(O in a)a.hasOwnProperty(O)&&(c=a[O],c!=null&&we(t,n,O,c,a,null))}function b0(t,n,a,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,A=null,O=null,X=null,ut=null,Tt=null;for(vt in a){var Ct=a[vt];if(a.hasOwnProperty(vt)&&Ct!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":X=Ct;default:c.hasOwnProperty(vt)||we(t,n,vt,null,c,Ct)}}for(var ht in c){var vt=c[ht];if(Ct=a[ht],c.hasOwnProperty(ht)&&(vt!=null||Ct!=null))switch(ht){case"type":S=vt;break;case"name":v=vt;break;case"checked":ut=vt;break;case"defaultChecked":Tt=vt;break;case"value":A=vt;break;case"defaultValue":O=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,n));break;default:vt!==Ct&&we(t,n,ht,vt,c,Ct)}}Fa(t,A,O,X,ut,Tt,S,v);return;case"select":vt=A=O=ht=null;for(S in a)if(X=a[S],a.hasOwnProperty(S)&&X!=null)switch(S){case"value":break;case"multiple":vt=X;default:c.hasOwnProperty(S)||we(t,n,S,null,c,X)}for(v in c)if(S=c[v],X=a[v],c.hasOwnProperty(v)&&(S!=null||X!=null))switch(v){case"value":ht=S;break;case"defaultValue":O=S;break;case"multiple":A=S;default:S!==X&&we(t,n,v,S,c,X)}n=O,a=A,c=vt,ht!=null?Ae(t,!!a,ht,!1):!!c!=!!a&&(n!=null?Ae(t,!!a,n,!0):Ae(t,!!a,a?[]:"",!1));return;case"textarea":vt=ht=null;for(O in a)if(v=a[O],a.hasOwnProperty(O)&&v!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:we(t,n,O,null,c,v)}for(A in c)if(v=c[A],S=a[A],c.hasOwnProperty(A)&&(v!=null||S!=null))switch(A){case"value":ht=v;break;case"defaultValue":vt=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==S&&we(t,n,A,v,c,S)}Si(t,ht,vt);return;case"option":for(var Ut in a)if(ht=a[Ut],a.hasOwnProperty(Ut)&&ht!=null&&!c.hasOwnProperty(Ut))switch(Ut){case"selected":t.selected=!1;break;default:we(t,n,Ut,null,c,ht)}for(X in c)if(ht=c[X],vt=a[X],c.hasOwnProperty(X)&&ht!==vt&&(ht!=null||vt!=null))switch(X){case"selected":t.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:we(t,n,X,ht,c,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Jt in a)ht=a[Jt],a.hasOwnProperty(Jt)&&ht!=null&&!c.hasOwnProperty(Jt)&&we(t,n,Jt,null,c,ht);for(ut in c)if(ht=c[ut],vt=a[ut],c.hasOwnProperty(ut)&&ht!==vt&&(ht!=null||vt!=null))switch(ut){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,n));break;default:we(t,n,ut,ht,c,vt)}return;default:if($o(n)){for(var Ce in a)ht=a[Ce],a.hasOwnProperty(Ce)&&ht!==void 0&&!c.hasOwnProperty(Ce)&&Rf(t,n,Ce,void 0,c,ht);for(Tt in c)ht=c[Tt],vt=a[Tt],!c.hasOwnProperty(Tt)||ht===vt||ht===void 0&&vt===void 0||Rf(t,n,Tt,ht,c,vt);return}}for(var nt in a)ht=a[nt],a.hasOwnProperty(nt)&&ht!=null&&!c.hasOwnProperty(nt)&&we(t,n,nt,null,c,ht);for(Ct in c)ht=c[Ct],vt=a[Ct],!c.hasOwnProperty(Ct)||ht===vt||ht==null&&vt==null||we(t,n,Ct,ht,c,vt)}function $p(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var v=a[c],S=v.transferSize,A=v.initiatorType,O=v.duration;if(S&&O&&$p(A)){for(A=0,O=v.responseEnd,c+=1;c<a.length;c++){var X=a[c],ut=X.startTime;if(ut>O)break;var Tt=X.transferSize,Ct=X.initiatorType;Tt&&$p(Ct)&&(X=X.responseEnd,A+=Tt*(X<O?1:(O-ut)/(X-ut)))}if(--c,n+=8*(S+A)/(v.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var If=null,kf=null;function ou(t){return t.nodeType===9?t:t.ownerDocument}function jp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tm(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Lf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Df=null;function M0(){var t=window.event;return t&&t.type==="popstate"?t===Df?!1:(Df=t,!0):(Df=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,R0=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(t){return nm.resolve(null).then(t).catch(I0)}:em;function I0(t){setTimeout(function(){throw t})}function Bo(t){return t==="head"}function im(t,n){var a=n,c=0;do{var v=a.nextSibling;if(t.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(v),va(n);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")kr(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kr(a);for(var S=a.firstChild;S;){var A=S.nextSibling,O=S.nodeName;S[Ko]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=A}}else a==="body"&&kr(t.ownerDocument.body);a=v}while(a);va(n)}function om(t,n){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function Pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pf(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function k0(t,n,a,c){for(;t.nodeType===1;){var v=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Ko])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(S=t.getAttribute("rel"),S==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(S!==v.rel||t.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||t.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||t.getAttribute("title")!==(v.title==null?null:v.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(S=t.getAttribute("src"),(S!==(v.src==null?null:v.src)||t.getAttribute("type")!==(v.type==null?null:v.type)||t.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&t.getAttribute("name")===S)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function L0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function sm(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qn(t.nextSibling),t===null))return null;return t}function zf(t){return t.data==="$?"||t.data==="$~"}function Uf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function D0(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var c=function(){n(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function Qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Of=null;function am(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Qn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function rm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function lm(t,n,a){switch(n=ou(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function kr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ha(t)}var $n=new Map,um=new Set;function su(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var io=tt.d;tt.d={f:P0,r:z0,D:U0,C:O0,L:B0,m:H0,X:q0,S:G0,M:V0};function P0(){var t=io.f(),n=Wl();return t||n}function z0(t){var n=ro(t);n!==null&&n.tag===5&&n.type==="form"?bh(n):io.r(t)}var ma=typeof document>"u"?null:document;function cm(t,n,a){var c=ma;if(c&&typeof n=="string"&&n){var v=Re(n);v='link[rel="'+t+'"][href="'+v+'"]',typeof a=="string"&&(v+='[crossorigin="'+a+'"]'),um.has(v)||(um.add(v),t={rel:t,crossOrigin:a,href:n},c.querySelector(v)===null&&(n=c.createElement("link"),an(n,"link",t),Ve(n),c.head.appendChild(n)))}}function U0(t){io.D(t),cm("dns-prefetch",t,null)}function O0(t,n){io.C(t,n),cm("preconnect",t,n)}function B0(t,n,a){io.L(t,n,a);var c=ma;if(c&&t&&n){var v='link[rel="preload"][as="'+Re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(v+='[imagesrcset="'+Re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(v+='[imagesizes="'+Re(a.imageSizes)+'"]')):v+='[href="'+Re(t)+'"]';var S=v;switch(n){case"style":S=ga(t);break;case"script":S=_a(t)}$n.has(S)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),$n.set(S,t),c.querySelector(v)!==null||n==="style"&&c.querySelector(Lr(S))||n==="script"&&c.querySelector(Dr(S))||(n=c.createElement("link"),an(n,"link",t),Ve(n),c.head.appendChild(n)))}}function H0(t,n){io.m(t,n);var a=ma;if(a&&t){var c=n&&typeof n.as=="string"?n.as:"script",v='link[rel="modulepreload"][as="'+Re(c)+'"][href="'+Re(t)+'"]',S=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=_a(t)}if(!$n.has(S)&&(t=E({rel:"modulepreload",href:t},n),$n.set(S,t),a.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dr(S)))return}c=a.createElement("link"),an(c,"link",t),Ve(c),a.head.appendChild(c)}}}function G0(t,n,a){io.S(t,n,a);var c=ma;if(c&&t){var v=lo(c).hoistableStyles,S=ga(t);n=n||"default";var A=v.get(S);if(!A){var O={loading:0,preload:null};if(A=c.querySelector(Lr(S)))O.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=$n.get(S))&&Bf(t,a);var X=A=c.createElement("link");Ve(X),an(X,"link",t),X._p=new Promise(function(ut,Tt){X.onload=ut,X.onerror=Tt}),X.addEventListener("load",function(){O.loading|=1}),X.addEventListener("error",function(){O.loading|=2}),O.loading|=4,au(A,n,c)}A={type:"stylesheet",instance:A,count:1,state:O},v.set(S,A)}}}function q0(t,n){io.X(t,n);var a=ma;if(a&&t){var c=lo(a).hoistableScripts,v=_a(t),S=c.get(v);S||(S=a.querySelector(Dr(v)),S||(t=E({src:t,async:!0},n),(n=$n.get(v))&&Hf(t,n),S=a.createElement("script"),Ve(S),an(S,"link",t),a.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},c.set(v,S))}}function V0(t,n){io.M(t,n);var a=ma;if(a&&t){var c=lo(a).hoistableScripts,v=_a(t),S=c.get(v);S||(S=a.querySelector(Dr(v)),S||(t=E({src:t,async:!0,type:"module"},n),(n=$n.get(v))&&Hf(t,n),S=a.createElement("script"),Ve(S),an(S,"link",t),a.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},c.set(v,S))}}function fm(t,n,a,c){var v=(v=Rt.current)?su(v):null;if(!v)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ga(a.href),a=lo(v).hoistableStyles,c=a.get(n),c||(c={type:"style",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ga(a.href);var S=lo(v).hoistableStyles,A=S.get(t);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(t,A),(S=v.querySelector(Lr(t)))&&!S._p&&(A.instance=S,A.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),S||F0(v,t,a,A.state))),n&&c===null)throw Error(r(528,""));return A}if(n&&c!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_a(a),a=lo(v).hoistableScripts,c=a.get(n),c||(c={type:"script",instance:null,count:0,state:null},a.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ga(t){return'href="'+Re(t)+'"'}function Lr(t){return'link[rel="stylesheet"]['+t+"]"}function dm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function F0(t,n,a,c){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=t.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),an(n,"link",a),Ve(n),t.head.appendChild(n))}function _a(t){return'[src="'+Re(t)+'"]'}function Dr(t){return"script[async]"+t}function hm(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var c=t.querySelector('style[data-href~="'+Re(a.href)+'"]');if(c)return n.instance=c,Ve(c),c;var v=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Ve(c),an(c,"style",v),au(c,a.precedence,t),n.instance=c;case"stylesheet":v=ga(a.href);var S=t.querySelector(Lr(v));if(S)return n.state.loading|=4,n.instance=S,Ve(S),S;c=dm(a),(v=$n.get(v))&&Bf(c,v),S=(t.ownerDocument||t).createElement("link"),Ve(S);var A=S;return A._p=new Promise(function(O,X){A.onload=O,A.onerror=X}),an(S,"link",c),n.state.loading|=4,au(S,a.precedence,t),n.instance=S;case"script":return S=_a(a.src),(v=t.querySelector(Dr(S)))?(n.instance=v,Ve(v),v):(c=a,(v=$n.get(S))&&(c=E({},a),Hf(c,v)),t=t.ownerDocument||t,v=t.createElement("script"),Ve(v),an(v,"link",c),t.head.appendChild(v),n.instance=v);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,au(c,a.precedence,t));return n.instance}function au(t,n,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,S=v,A=0;A<c.length;A++){var O=c[A];if(O.dataset.precedence===n)S=O;else if(S!==v)break}S?S.parentNode.insertBefore(t,S.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ru=null;function pm(t,n,a){if(ru===null){var c=new Map,v=ru=new Map;v.set(a,c)}else v=ru,c=v.get(a),c||(c=new Map,v.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),v=0;v<a.length;v++){var S=a[v];if(!(S[Ko]||S[qe]||t==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var A=S.getAttribute(n)||"";A=t+A;var O=c.get(A);O?O.push(S):c.set(A,[S])}}return c}function mm(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function Z0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Y0(t,n,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=ga(c.href),S=n.querySelector(Lr(v));if(S){n=S._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=lu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=S,Ve(S);return}S=n.ownerDocument||n,c=dm(c),(v=$n.get(v))&&Bf(c,v),S=S.createElement("link"),Ve(S);var A=S;A._p=new Promise(function(O,X){A.onload=O,A.onerror=X}),an(S,"link",c),a.instance=S}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=lu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Gf=0;function J0(t,n){return t.stylesheets&&t.count===0&&cu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&cu(t,t.stylesheets),t.unsuspend){var S=t.unsuspend;t.unsuspend=null,S()}},6e4+n);0<t.imgBytes&&Gf===0&&(Gf=62500*A0());var v=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&cu(t,t.stylesheets),t.unsuspend)){var S=t.unsuspend;t.unsuspend=null,S()}},(t.imgBytes>Gf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(v)}}:null}function lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var uu=null;function cu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,uu=new Map,n.forEach(K0,t),uu=null,lu.call(t))}function K0(t,n){if(!(n.state.loading&4)){var a=uu.get(t);if(a)var c=a.get(null);else{a=new Map,uu.set(t,a);for(var v=t.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var A=v[S];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),c=A)}c&&a.set(null,c)}v=n.instance,A=v.getAttribute("data-precedence"),S=a.get(A)||c,S===c&&a.set(null,v),a.set(A,v),this.count++,c=lu.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),S?S.parentNode.insertBefore(v,S.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(v,t.firstChild)),n.state.loading|=4}}var Pr={$$typeof:H,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function X0(t,n,a,c,v,S,A,O,X){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function _m(t,n,a,c,v,S,A,O,X,ut,Tt,Ct){return t=new X0(t,n,a,A,X,ut,Tt,Ct,O),n=1,S===!0&&(n|=24),S=un(3,null,null,n),t.current=S,S.stateNode=t,n=yc(),n.refCount++,t.pooledCache=n,n.refCount++,S.memoizedState={element:c,isDehydrated:a,cache:n},Ec(S),t}function vm(t){return t?(t=Vi,t):Vi}function ym(t,n,a,c,v,S){v=vm(v),c.context===null?c.context=v:c.pendingContext=v,c=Mo(n),c.payload={element:a},S=S===void 0?null:S,S!==null&&(c.callback=S),a=No(t,c,n),a!==null&&(In(a,t,n),hr(a,t,n))}function Sm(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function qf(t,n){Sm(t,n),(t=t.alternate)&&Sm(t,n)}function Tm(t){if(t.tag===13||t.tag===31){var n=Kn(t,67108864);n!==null&&In(n,t,67108864),qf(t,67108864)}}function xm(t){if(t.tag===13||t.tag===31){var n=Gn();n=Sn(n);var a=Kn(t,n);a!==null&&In(a,t,n),qf(t,n)}}var fu=!0;function W0(t,n,a,c){var v=Q.T;Q.T=null;var S=tt.p;try{tt.p=2,Vf(t,n,a,c)}finally{tt.p=S,Q.T=v}}function Q0(t,n,a,c){var v=Q.T;Q.T=null;var S=tt.p;try{tt.p=8,Vf(t,n,a,c)}finally{tt.p=S,Q.T=v}}function Vf(t,n,a,c){if(fu){var v=Ff(c);if(v===null)Nf(t,n,c,du,a),wm(t,c);else if(j0(v,t,n,a,c))c.stopPropagation();else if(wm(t,c),n&4&&-1<$0.indexOf(t)){for(;v!==null;){var S=ro(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var A=yn(S.pendingLanes);if(A!==0){var O=S;for(O.pendingLanes|=2,O.entangledLanes|=2;A;){var X=1<<31-Ne(A);O.entanglements[1]|=X,A&=~X}ki(S),(_e&6)===0&&(Kl=Lt()+500,Nr(0))}}break;case 31:case 13:O=Kn(S,2),O!==null&&In(O,S,2),Wl(),qf(S,2)}if(S=Ff(c),S===null&&Nf(t,n,c,du,a),S===v)break;v=S}v!==null&&c.stopPropagation()}else Nf(t,n,c,null,a)}}function Ff(t){return t=jo(t),Zf(t)}var du=null;function Zf(t){if(du=null,t=Ui(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=h(n),t!==null)return t;t=null}else if(a===31){if(t=m(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return du=t,null}function Em(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kt()){case Vt:return 2;case fe:return 8;case jt:case rn:return 32;case ei:return 268435456;default:return 32}default:return 32}}var Yf=!1,Ho=null,Go=null,qo=null,zr=new Map,Ur=new Map,Vo=[],$0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wm(t,n){switch(t){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":zr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(n.pointerId)}}function Or(t,n,a,c,v,S){return t===null||t.nativeEvent!==S?(t={blockedOn:n,domEventName:a,eventSystemFlags:c,nativeEvent:S,targetContainers:[v]},n!==null&&(n=ro(n),n!==null&&Tm(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,v!==null&&n.indexOf(v)===-1&&n.push(v),t)}function j0(t,n,a,c,v){switch(n){case"focusin":return Ho=Or(Ho,t,n,a,c,v),!0;case"dragenter":return Go=Or(Go,t,n,a,c,v),!0;case"mouseover":return qo=Or(qo,t,n,a,c,v),!0;case"pointerover":var S=v.pointerId;return zr.set(S,Or(zr.get(S)||null,t,n,a,c,v)),!0;case"gotpointercapture":return S=v.pointerId,Ur.set(S,Or(Ur.get(S)||null,t,n,a,c,v)),!0}return!1}function Cm(t){var n=Ui(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){t.blockedOn=n,Ba(t.priority,function(){xm(a)});return}}else if(n===31){if(n=m(a),n!==null){t.blockedOn=n,Ba(t.priority,function(){xm(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ff(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);zs=c,a.target.dispatchEvent(c),zs=null}else return n=ro(a),n!==null&&Tm(n),t.blockedOn=a,!1;n.shift()}return!0}function bm(t,n,a){hu(t)&&a.delete(n)}function ty(){Yf=!1,Ho!==null&&hu(Ho)&&(Ho=null),Go!==null&&hu(Go)&&(Go=null),qo!==null&&hu(qo)&&(qo=null),zr.forEach(bm),Ur.forEach(bm)}function pu(t,n){t.blockedOn===n&&(t.blockedOn=null,Yf||(Yf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ty)))}var mu=null;function Am(t){mu!==t&&(mu=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){mu===t&&(mu=null);for(var n=0;n<t.length;n+=3){var a=t[n],c=t[n+1],v=t[n+2];if(typeof c!="function"){if(Zf(c||a)===null)continue;break}var S=ro(a);S!==null&&(t.splice(n,3),n-=3,Vc(S,{pending:!0,data:v,method:a.method,action:c},c,v))}}))}function va(t){function n(X){return pu(X,t)}Ho!==null&&pu(Ho,t),Go!==null&&pu(Go,t),qo!==null&&pu(qo,t),zr.forEach(n),Ur.forEach(n);for(var a=0;a<Vo.length;a++){var c=Vo[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Vo.length&&(a=Vo[0],a.blockedOn===null);)Cm(a),a.blockedOn===null&&Vo.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var v=a[c],S=a[c+1],A=v[Qe]||null;if(typeof S=="function")A||Am(a);else if(A){var O=null;if(S&&S.hasAttribute("formAction")){if(v=S,A=S[Qe]||null)O=A.formAction;else if(Zf(v)!==null)continue}else O=A.action;typeof O=="function"?a[c+1]=O:(a.splice(c,3),c-=3),Am(a)}}}function Mm(){function t(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function n(){v!==null&&(v(),v=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,v=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),v!==null&&(v(),v=null)}}}function Jf(t){this._internalRoot=t}gu.prototype.render=Jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,c=Gn();ym(a,c,t,n,null,null)},gu.prototype.unmount=Jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ym(t.current,2,null,t,null,null),Wl(),n[zi]=null}};function gu(t){this._internalRoot=t}gu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Oa();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Vo.length&&n!==0&&n<Vo[a].priority;a++);Vo.splice(a,0,t),a===0&&Cm(t)}};var Nm=e.version;if(Nm!=="19.2.3")throw Error(r(527,Nm,"19.2.3"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var ey={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{ve=_u.inject(ey),Pe=_u}catch{}}return Hr.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,c="",v=zh,S=Uh,A=Oh;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(v=n.onUncaughtError),n.onCaughtError!==void 0&&(S=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError)),n=_m(t,1,!1,null,null,a,c,null,v,S,A,Mm),t[zi]=n.current,Mf(t),new Jf(n)},Hr.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var c=!1,v="",S=zh,A=Uh,O=Oh,X=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onUncaughtError!==void 0&&(S=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(O=a.onRecoverableError),a.formState!==void 0&&(X=a.formState)),n=_m(t,1,!0,n,a??null,c,v,X,S,A,O,Mm),n.context=vm(null),a=n.current,c=Gn(),c=Sn(c),v=Mo(c),v.callback=null,No(a,v,c),a=c,n.current.lanes=a,Pi(n,a),ki(n),t[zi]=n.current,Mf(t),new gu(n)},Hr.version="19.2.3",Hr}var Bm;function cy(){if(Bm)return Wf.exports;Bm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Wf.exports=uy(),Wf.exports}var fy=cy();const dy=Hu(fy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),py=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,r)=>r?r.toUpperCase():o.toLowerCase()),Hm=i=>{const e=py(i);return e.charAt(0).toUpperCase()+e.slice(1)},M_=(...i)=>i.filter((e,o,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===o).join(" ").trim(),my=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=bt.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:r,className:l="",children:f,iconNode:h,...m},y)=>bt.createElement("svg",{ref:y,...gy,width:e,height:e,stroke:i,strokeWidth:r?Number(o)*24/Number(e):o,className:M_("lucide",l),...!f&&!my(m)&&{"aria-hidden":"true"},...m},[...h.map(([_,T])=>bt.createElement(_,T)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(i,e)=>{const o=bt.forwardRef(({className:r,...l},f)=>bt.createElement(_y,{ref:f,iconNode:e,className:M_(`lucide-${hy(Hm(i))}`,`lucide-${i}`,r),...l}));return o.displayName=Hm(i),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],N_=$t("activity",vy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sy=$t("arrow-right",yy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xy=$t("book-open",Ty);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],R_=$t("camera",Ey);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I_=$t("chevron-left",wy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gm=$t("circle-alert",Cy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ay=$t("circle-check-big",by);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],od=$t("circle-check",My);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ry=$t("clipboard-check",Ny);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ky=$t("copy",Iy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],k_=$t("cpu",Ly);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Py=$t("crosshair",Dy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],L_=$t("database",zy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Oy=$t("eye",Uy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],Hy=$t("fingerprint-pattern",By);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]],qy=$t("folder-sync",Gy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fy=$t("globe",Vy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],sd=$t("hard-drive",Zy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],D_=$t("key",Yy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ky=$t("list",Jy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bu=$t("loader-circle",Xy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],qm=$t("lock-open",Wy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$y=$t("lock",Qy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Au=$t("map-pin",jy);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],eS=$t("map",tS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],iS=$t("package",nS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],P_=$t("phone",oS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aS=$t("refresh-cw",sS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],lS=$t("save",rS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cS=$t("settings",uS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],dS=$t("shield-alert",fS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gu=$t("shield-check",hS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],z_=$t("signal",pS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],U_=$t("smartphone",mS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_S=$t("sparkles",gS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"M21 19a2 2 0 0 1-2 2",key:"1j7049"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h1",key:"15o7lz"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M14 21h1",key:"v9vybs"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v1",key:"mxsmne"}],["path",{d:"M3 14v1",key:"vnatye"}],["path",{d:"M21 14v1",key:"169vum"}]],yS=$t("square-dashed",vS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],TS=$t("terminal",SS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ad=$t("trash-2",xS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wS=$t("user-check",ES);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Iu=$t("wifi-off",CS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],AS=$t("wifi",bS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ba=$t("x",MS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],xd=$t("zap",NS);function O_(i,e){const o=bt.useRef(e);bt.useEffect(function(){e!==o.current&&i.attributionControl!=null&&(o.current!=null&&i.attributionControl.removeAttribution(o.current),e!=null&&i.attributionControl.addAttribution(e)),o.current=e},[i,e])}var RS=A_();const IS=1;function kS(i){return Object.freeze({__version:IS,map:i})}function LS(i,e){return Object.freeze({...i,...e})}const Ed=bt.createContext(null);function qu(){const i=bt.use(Ed);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function DS(i){function e(o,r){const{instance:l,context:f}=i(o).current;bt.useImperativeHandle(r,()=>l);const{children:h}=o;return h==null?null:Ru.createElement(Ed,{value:f},h)}return bt.forwardRef(e)}function PS(i){function e(o,r){const[l,f]=bt.useState(!1),{instance:h}=i(o,f).current;bt.useImperativeHandle(r,()=>h),bt.useEffect(function(){l&&h.update()},[h,l,o.children]);const m=h._contentNode;return m?RS.createPortal(o.children,m):null}return bt.forwardRef(e)}function B_(i){function e(o,r){const{instance:l}=i(o).current;return bt.useImperativeHandle(r,()=>l),null}return bt.forwardRef(e)}function zS(i){return function(o){const r=qu(),l=i(o,r),{instance:f}=l.current,h=bt.useRef(o.position),{position:m}=o;return bt.useEffect(function(){return f.addTo(r.map),function(){f.remove()}},[r.map,f]),bt.useEffect(function(){m!=null&&m!==h.current&&(f.setPosition(m),h.current=m)},[f,m]),l}}function H_(i,e){const o=bt.useRef(void 0);bt.useEffect(function(){return e!=null&&i.instance.on(e),o.current=e,function(){o.current!=null&&i.instance.off(o.current),o.current=null}},[i,e])}function wd(i,e){const o=i.pane??e.pane;return o?{...i,pane:o}:i}function US(i,e){return function(r,l){const f=qu(),h=i(wd(r,f),f);return O_(f.map,r.attribution),H_(h.current,r.eventHandlers),e(h.current,f,r,l),h}}var Fr={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var OS=Fr.exports,Vm;function BS(){return Vm||(Vm=1,(function(i,e){(function(o,r){r(e)})(OS,(function(o){var r="1.9.4";function l(s){var u,g,x,b;for(g=1,x=arguments.length;g<x;g++){b=arguments[g];for(u in b)s[u]=b[u]}return s}var f=Object.create||(function(){function s(){}return function(u){return s.prototype=u,new s}})();function h(s,u){var g=Array.prototype.slice;if(s.bind)return s.bind.apply(s,g.call(arguments,1));var x=g.call(arguments,2);return function(){return s.apply(u,x.length?x.concat(g.call(arguments)):arguments)}}var m=0;function y(s){return"_leaflet_id"in s||(s._leaflet_id=++m),s._leaflet_id}function _(s,u,g){var x,b,U,J;return J=function(){x=!1,b&&(U.apply(g,b),b=!1)},U=function(){x?b=arguments:(s.apply(g,arguments),setTimeout(J,u),x=!0)},U}function T(s,u,g){var x=u[1],b=u[0],U=x-b;return s===x&&g?s:((s-b)%U+U)%U+b}function E(){return!1}function w(s,u){if(u===!1)return s;var g=Math.pow(10,u===void 0?6:u);return Math.round(s*g)/g}function C(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function k(s){return C(s).split(/\s+/)}function M(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?f(s.options):{});for(var g in u)s.options[g]=u[g];return s.options}function I(s,u,g){var x=[];for(var b in s)x.push(encodeURIComponent(g?b.toUpperCase():b)+"="+encodeURIComponent(s[b]));return(!u||u.indexOf("?")===-1?"?":"&")+x.join("&")}var D=/\{ *([\w_ -]+) *\}/g;function B(s,u){return s.replace(D,function(g,x){var b=u[x];if(b===void 0)throw new Error("No value provided for variable "+g);return typeof b=="function"&&(b=b(u)),b})}var H=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function Y(s,u){for(var g=0;g<s.length;g++)if(s[g]===u)return g;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var K=0;function pt(s){var u=+new Date,g=Math.max(0,16-(u-K));return K=u+g,window.setTimeout(s,g)}var W=window.requestAnimationFrame||j("RequestAnimationFrame")||pt,yt=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Mt(s,u,g){if(g&&W===pt)s.call(u);else return W.call(window,h(s,u))}function F(s){s&&yt.call(window,s)}var st={__proto__:null,extend:l,create:f,bind:h,get lastId(){return m},stamp:y,throttle:_,wrapNum:T,falseFn:E,formatNum:w,trim:C,splitWords:k,setOptions:M,getParamString:I,template:B,isArray:H,indexOf:Y,emptyImageUrl:V,requestFn:W,cancelFn:yt,requestAnimFrame:Mt,cancelAnimFrame:F};function R(){}R.extend=function(s){var u=function(){M(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},g=u.__super__=this.prototype,x=f(g);x.constructor=u,u.prototype=x;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(u[b]=this[b]);return s.statics&&l(u,s.statics),s.includes&&(St(s.includes),l.apply(null,[x].concat(s.includes))),l(x,s),delete x.statics,delete x.includes,x.options&&(x.options=g.options?f(g.options):{},l(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){g.callInitHooks&&g.callInitHooks.call(this),this._initHooksCalled=!0;for(var U=0,J=x._initHooks.length;U<J;U++)x._initHooks[U].call(this)}},u},R.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},R.mergeOptions=function(s){return l(this.prototype.options,s),this},R.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),g=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(g),this};function St(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=H(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(s,u,g){if(typeof s=="object")for(var x in s)this._on(x,s[x],u);else{s=k(s);for(var b=0,U=s.length;b<U;b++)this._on(s[b],u,g)}return this},off:function(s,u,g){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],u);else{s=k(s);for(var b=arguments.length===1,U=0,J=s.length;U<J;U++)b?this._off(s[U]):this._off(s[U],u,g)}return this},_on:function(s,u,g,x){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,g)===!1){g===this&&(g=void 0);var b={fn:u,ctx:g};x&&(b.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(b)}},_off:function(s,u,g){var x,b,U;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(b=0,U=x.length;b<U;b++)x[b].fn=E;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var J=this._listens(s,u,g);if(J!==!1){var it=x[J];this._firingCount&&(it.fn=E,this._events[s]=x=x.slice()),x.splice(J,1)}}},fire:function(s,u,g){if(!this.listens(s,g))return this;var x=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var b=this._events[s];if(b){this._firingCount=this._firingCount+1||1;for(var U=0,J=b.length;U<J;U++){var it=b[U],dt=it.fn;it.once&&this.off(s,dt,it.ctx),dt.call(it.ctx||this,x)}this._firingCount--}}return g&&this._propagateEvent(x),this},listens:function(s,u,g,x){typeof s!="string"&&console.warn('"string" type argument expected');var b=u;typeof u!="function"&&(x=!!u,b=void 0,g=void 0);var U=this._events&&this._events[s];if(U&&U.length&&this._listens(s,b,g)!==!1)return!0;if(x){for(var J in this._eventParents)if(this._eventParents[J].listens(s,u,g,x))return!0}return!1},_listens:function(s,u,g){if(!this._events)return!1;var x=this._events[s]||[];if(!u)return!!x.length;g===this&&(g=void 0);for(var b=0,U=x.length;b<U;b++)if(x[b].fn===u&&x[b].ctx===g)return b;return!1},once:function(s,u,g){if(typeof s=="object")for(var x in s)this._on(x,s[x],u,!0);else{s=k(s);for(var b=0,U=s.length;b<U;b++)this._on(s[b],u,g,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[y(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[y(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var tt=R.extend(Q);function gt(s,u,g){this.x=g?Math.round(s):s,this.y=g?Math.round(u):u}var lt=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};gt.prototype={clone:function(){return new gt(this.x,this.y)},add:function(s){return this.clone()._add(mt(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(mt(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new gt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new gt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=lt(this.x),this.y=lt(this.y),this},distanceTo:function(s){s=mt(s);var u=s.x-this.x,g=s.y-this.y;return Math.sqrt(u*u+g*g)},equals:function(s){return s=mt(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=mt(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function mt(s,u,g){return s instanceof gt?s:H(s)?new gt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new gt(s.x,s.y):new gt(s,u,g)}function z(s,u){if(s)for(var g=u?[s,u]:s,x=0,b=g.length;x<b;x++)this.extend(g[x])}z.prototype={extend:function(s){var u,g;if(!s)return this;if(s instanceof gt||typeof s[0]=="number"||"x"in s)u=g=mt(s);else if(s=G(s),u=s.min,g=s.max,!u||!g)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=g.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)),this},getCenter:function(s){return mt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return mt(this.min.x,this.max.y)},getTopRight:function(){return mt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,g;return typeof s[0]=="number"||s instanceof gt?s=mt(s):s=G(s),s instanceof z?(u=s.min,g=s.max):u=g=s,u.x>=this.min.x&&g.x<=this.max.x&&u.y>=this.min.y&&g.y<=this.max.y},intersects:function(s){s=G(s);var u=this.min,g=this.max,x=s.min,b=s.max,U=b.x>=u.x&&x.x<=g.x,J=b.y>=u.y&&x.y<=g.y;return U&&J},overlaps:function(s){s=G(s);var u=this.min,g=this.max,x=s.min,b=s.max,U=b.x>u.x&&x.x<g.x,J=b.y>u.y&&x.y<g.y;return U&&J},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,g=this.max,x=Math.abs(u.x-g.x)*s,b=Math.abs(u.y-g.y)*s;return G(mt(u.x-x,u.y-b),mt(g.x+x,g.y+b))},equals:function(s){return s?(s=G(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function G(s,u){return!s||s instanceof z?s:new z(s,u)}function ct(s,u){if(s)for(var g=u?[s,u]:s,x=0,b=g.length;x<b;x++)this.extend(g[x])}ct.prototype={extend:function(s){var u=this._southWest,g=this._northEast,x,b;if(s instanceof at)x=s,b=s;else if(s instanceof ct){if(x=s._southWest,b=s._northEast,!x||!b)return this}else return s?this.extend(Rt(s)||ot(s)):this;return!u&&!g?(this._southWest=new at(x.lat,x.lng),this._northEast=new at(b.lat,b.lng)):(u.lat=Math.min(x.lat,u.lat),u.lng=Math.min(x.lng,u.lng),g.lat=Math.max(b.lat,g.lat),g.lng=Math.max(b.lng,g.lng)),this},pad:function(s){var u=this._southWest,g=this._northEast,x=Math.abs(u.lat-g.lat)*s,b=Math.abs(u.lng-g.lng)*s;return new ct(new at(u.lat-x,u.lng-b),new at(g.lat+x,g.lng+b))},getCenter:function(){return new at((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new at(this.getNorth(),this.getWest())},getSouthEast:function(){return new at(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof at||"lat"in s?s=Rt(s):s=ot(s);var u=this._southWest,g=this._northEast,x,b;return s instanceof ct?(x=s.getSouthWest(),b=s.getNorthEast()):x=b=s,x.lat>=u.lat&&b.lat<=g.lat&&x.lng>=u.lng&&b.lng<=g.lng},intersects:function(s){s=ot(s);var u=this._southWest,g=this._northEast,x=s.getSouthWest(),b=s.getNorthEast(),U=b.lat>=u.lat&&x.lat<=g.lat,J=b.lng>=u.lng&&x.lng<=g.lng;return U&&J},overlaps:function(s){s=ot(s);var u=this._southWest,g=this._northEast,x=s.getSouthWest(),b=s.getNorthEast(),U=b.lat>u.lat&&x.lat<g.lat,J=b.lng>u.lng&&x.lng<g.lng;return U&&J},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=ot(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ot(s,u){return s instanceof ct?s:new ct(s,u)}function at(s,u,g){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,g!==void 0&&(this.alt=+g)}at.prototype={equals:function(s,u){if(!s)return!1;s=Rt(s);var g=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return g<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+w(this.lat,s)+", "+w(this.lng,s)+")"},distanceTo:function(s){return Ot.distance(this,Rt(s))},wrap:function(){return Ot.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,g=u/Math.cos(Math.PI/180*this.lat);return ot([this.lat-u,this.lng-g],[this.lat+u,this.lng+g])},clone:function(){return new at(this.lat,this.lng,this.alt)}};function Rt(s,u,g){return s instanceof at?s:H(s)&&typeof s[0]!="object"?s.length===3?new at(s[0],s[1],s[2]):s.length===2?new at(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new at(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new at(s,u,g)}var Gt={latLngToPoint:function(s,u){var g=this.projection.project(s),x=this.scale(u);return this.transformation._transform(g,x)},pointToLatLng:function(s,u){var g=this.scale(u),x=this.transformation.untransform(s,g);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,g=this.scale(s),x=this.transformation.transform(u.min,g),b=this.transformation.transform(u.max,g);return new z(x,b)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?T(s.lng,this.wrapLng,!0):s.lng,g=this.wrapLat?T(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new at(g,u,x)},wrapLatLngBounds:function(s){var u=s.getCenter(),g=this.wrapLatLng(u),x=u.lat-g.lat,b=u.lng-g.lng;if(x===0&&b===0)return s;var U=s.getSouthWest(),J=s.getNorthEast(),it=new at(U.lat-x,U.lng-b),dt=new at(J.lat-x,J.lng-b);return new ct(it,dt)}},Ot=l({},Gt,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var g=Math.PI/180,x=s.lat*g,b=u.lat*g,U=Math.sin((u.lat-s.lat)*g/2),J=Math.sin((u.lng-s.lng)*g/2),it=U*U+Math.cos(x)*Math.cos(b)*J*J,dt=2*Math.atan2(Math.sqrt(it),Math.sqrt(1-it));return this.R*dt}}),Zt=6378137,Pt={R:Zt,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,g=this.MAX_LATITUDE,x=Math.max(Math.min(g,s.lat),-g),b=Math.sin(x*u);return new gt(this.R*s.lng*u,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(s){var u=180/Math.PI;return new at((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:(function(){var s=Zt*Math.PI;return new z([-s,-s],[s,s])})()};function Bt(s,u,g,x){if(H(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=g,this._d=x}Bt.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new gt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ce(s,u,g,x){return new Bt(s,u,g,x)}var be=l({},Ot,{code:"EPSG:3857",projection:Pt,transformation:(function(){var s=.5/(Math.PI*Pt.R);return ce(s,.5,-s,.5)})()}),N=l({},be,{code:"EPSG:900913"});function xt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function _t(s,u){var g="",x,b,U,J,it,dt;for(x=0,U=s.length;x<U;x++){for(it=s[x],b=0,J=it.length;b<J;b++)dt=it[b],g+=(b?"L":"M")+dt.x+" "+dt.y;g+=u?qt.svg?"z":"x":""}return g||"M0 0"}var Z=document.documentElement.style,q="ActiveXObject"in window,et=q&&!document.addEventListener,At="msLaunchUri"in navigator&&!("documentMode"in document),Nt=Sn("webkit"),ft=Sn("android"),It=Sn("android 2")||Sn("android 3"),Lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kt=ft&&Sn("Google")&&Lt<537&&!("AudioNode"in window),Vt=!!window.opera,fe=!At&&Sn("chrome"),jt=Sn("gecko")&&!Nt&&!Vt&&!q,rn=!fe&&Sn("safari"),ei=Sn("phantom"),dn="OTransition"in Z,Li=navigator.platform.indexOf("Win")===0,ve=q&&"transition"in Z,Pe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!It,hn="MozPerspective"in Z,Ne=!window.L_DISABLE_3D&&(ve||Pe||hn)&&!dn&&!ei,mi=typeof orientation<"u"||Sn("mobile"),Pa=mi&&Nt,za=mi&&Pe,Di=!window.PointerEvent&&window.MSPointerEvent,gi=!!(window.PointerEvent||Di),kn="ontouchstart"in window||!!window.TouchEvent,yn=!window.L_NO_TOUCH&&(kn||gi),ks=mi&&Vt,Jo=mi&&jt,tc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jr=(function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",E,u),window.removeEventListener("testPassiveEventSupport",E,u)}catch{}return s})(),Ua=(function(){return!!document.createElement("canvas").getContext})(),Pi=!!(document.createElementNS&&xt("svg").createSVGRect),ec=!!Pi&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Kr=!Pi&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}})(),Xr=navigator.platform.indexOf("Mac")===0,Wr=navigator.platform.indexOf("Linux")===0;function Sn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var qt={ie:q,ielt9:et,edge:At,webkit:Nt,android:ft,android23:It,androidStock:kt,opera:Vt,chrome:fe,gecko:jt,safari:rn,phantom:ei,opera12:dn,win:Li,ie3d:ve,webkit3d:Pe,gecko3d:hn,any3d:Ne,mobile:mi,mobileWebkit:Pa,mobileWebkit3d:za,msPointer:Di,pointer:gi,touch:yn,touchNative:kn,mobileOpera:ks,mobileGecko:Jo,retina:tc,passiveEvents:Jr,canvas:Ua,svg:Pi,vml:Kr,inlineSvg:ec,mac:Xr,linux:Wr},Oa=qt.msPointer?"MSPointerDown":"pointerdown",Ba=qt.msPointer?"MSPointerMove":"pointermove",ni=qt.msPointer?"MSPointerUp":"pointerup",qe=qt.msPointer?"MSPointerCancel":"pointercancel",Qe={touchstart:Oa,touchmove:Ba,touchend:ni,touchcancel:qe},zi={touchstart:lo,touchmove:vi,touchend:vi,touchcancel:vi},_i={},Qr=!1;function nc(s,u,g){return u==="touchstart"&&ro(),zi[u]?(g=zi[u].bind(this,g),s.addEventListener(Qe[u],g,!1),g):(console.warn("wrong event specified:",u),E)}function $r(s,u,g){if(!Qe[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Qe[u],g,!1)}function Ko(s){_i[s.pointerId]=s}function Ha(s){_i[s.pointerId]&&(_i[s.pointerId]=s)}function Ui(s){delete _i[s.pointerId]}function ro(){Qr||(document.addEventListener(Oa,Ko,!0),document.addEventListener(Ba,Ha,!0),document.addEventListener(ni,Ui,!0),document.addEventListener(qe,Ui,!0),Qr=!0)}function vi(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var g in _i)u.touches.push(_i[g]);u.changedTouches=[u],s(u)}}function lo(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&ze(u),vi(s,u)}function Ve(s){var u={},g,x;for(x in s)g=s[x],u[x]=g&&g.bind?g.bind(s):g;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var jr=200;function tl(s,u){s.addEventListener("dblclick",u);var g=0,x;function b(U){if(U.detail!==1){x=U.detail;return}if(!(U.pointerType==="mouse"||U.sourceCapabilities&&!U.sourceCapabilities.firesTouchEvents)){var J=es(U);if(!(J.some(function(dt){return dt instanceof HTMLLabelElement&&dt.attributes.for})&&!J.some(function(dt){return dt instanceof HTMLInputElement||dt instanceof HTMLSelectElement}))){var it=Date.now();it-g<=jr?(x++,x===2&&u(Ve(U))):x=1,g=it}}}return s.addEventListener("click",b),{dblclick:u,simDblclick:b}}function Oi(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var yi=Qo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xo=Qo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ga=Xo==="webkitTransition"||Xo==="OTransition"?Xo+"End":"transitionend";function qa(s){return typeof s=="string"?document.getElementById(s):s}function Wo(s,u){var g=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!g||g==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);g=x?x[u]:null}return g==="auto"?null:g}function ie(s,u,g){var x=document.createElement(s);return x.className=u||"",g&&g.appendChild(x),x}function xe(s){var u=s.parentNode;u&&u.removeChild(s)}function Tn(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Ke(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Bi(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Va(s,u){if(s.classList!==void 0)return s.classList.contains(u);var g=Ls(s);return g.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(g)}function Wt(s,u){if(s.classList!==void 0)for(var g=k(u),x=0,b=g.length;x<b;x++)s.classList.add(g[x]);else if(!Va(s,u)){var U=Ls(s);uo(s,(U?U+" ":"")+u)}}function ke(s,u){s.classList!==void 0?s.classList.remove(u):uo(s,C((" "+Ls(s)+" ").replace(" "+u+" "," ")))}function uo(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Ls(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Re(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Fa(s,u)}function Fa(s,u){var g=!1,x="DXImageTransform.Microsoft.Alpha";try{g=s.filters.item(x)}catch{if(u===1)return}u=Math.round(u*100),g?(g.Enabled=u!==100,g.Opacity=u):s.style.filter+=" progid:"+x+"(opacity="+u+")"}function Qo(s){for(var u=document.documentElement.style,g=0;g<s.length;g++)if(s[g]in u)return s[g];return!1}function ii(s,u,g){var x=u||new gt(0,0);s.style[yi]=(qt.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(g?" scale("+g+")":"")}function Ae(s,u){s._leaflet_pos=u,qt.any3d?ii(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Si(s){return s._leaflet_pos||new gt(0,0)}var co,qn,Za;if("onselectstart"in document)co=function(){Kt(window,"selectstart",ze)},qn=function(){ye(window,"selectstart",ze)};else{var fo=Qo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);co=function(){if(fo){var s=document.documentElement.style;Za=s[fo],s[fo]="none"}},qn=function(){fo&&(document.documentElement.style[fo]=Za,Za=void 0)}}function Ds(){Kt(window,"dragstart",ze)}function $o(){ye(window,"dragstart",ze)}var Ps,Ya;function ho(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(xn(),Ps=s,Ya=s.style.outlineStyle,s.style.outlineStyle="none",Kt(window,"keydown",xn))}function xn(){Ps&&(Ps.style.outlineStyle=Ya,Ps=void 0,Ya=void 0,ye(window,"keydown",xn))}function zs(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function jo(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var po={__proto__:null,TRANSFORM:yi,TRANSITION:Xo,TRANSITION_END:Ga,get:qa,getStyle:Wo,create:ie,remove:xe,empty:Tn,toFront:Ke,toBack:Bi,hasClass:Va,addClass:Wt,removeClass:ke,setClass:uo,getClass:Ls,setOpacity:Re,testProp:Qo,setTransform:ii,setPosition:Ae,getPosition:Si,get disableTextSelection(){return co},get enableTextSelection(){return qn},disableImageDrag:Ds,enableImageDrag:$o,preventOutline:ho,restoreOutline:xn,getSizedParentNode:zs,getScale:jo};function Kt(s,u,g,x){if(u&&typeof u=="object")for(var b in u)Dn(s,b,u[b],g);else{u=k(u);for(var U=0,J=u.length;U<J;U++)Dn(s,u[U],g,x)}return this}var Ln="_leaflet_events";function ye(s,u,g,x){if(arguments.length===1)Ja(s),delete s[Ln];else if(u&&typeof u=="object")for(var b in u)ts(s,b,u[b],g);else if(u=k(u),arguments.length===2)Ja(s,function(it){return Y(u,it)!==-1});else for(var U=0,J=u.length;U<J;U++)ts(s,u[U],g,x);return this}function Ja(s,u){for(var g in s[Ln]){var x=g.split(/\d/)[0];(!u||u(x))&&ts(s,x,null,null,g)}}var Hi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Dn(s,u,g,x){var b=u+y(g)+(x?"_"+y(x):"");if(s[Ln]&&s[Ln][b])return this;var U=function(it){return g.call(x||s,it||window.event)},J=U;!qt.touchNative&&qt.pointer&&u.indexOf("touch")===0?U=nc(s,u,U):qt.touch&&u==="dblclick"?U=tl(s,U):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Hi[u]||u,U,qt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(U=function(it){it=it||window.event,oi(s,it)&&J(it)},s.addEventListener(Hi[u],U,!1)):s.addEventListener(u,J,!1):s.attachEvent("on"+u,U),s[Ln]=s[Ln]||{},s[Ln][b]=U}function ts(s,u,g,x,b){b=b||u+y(g)+(x?"_"+y(x):"");var U=s[Ln]&&s[Ln][b];if(!U)return this;!qt.touchNative&&qt.pointer&&u.indexOf("touch")===0?$r(s,u,U):qt.touch&&u==="dblclick"?Oi(s,U):"removeEventListener"in s?s.removeEventListener(Hi[u]||u,U,!1):s.detachEvent("on"+u,U),s[Ln][b]=null}function Pn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Vn(s){return Dn(s,"wheel",Pn),this}function Gi(s){return Kt(s,"mousedown touchstart dblclick contextmenu",Pn),s._leaflet_disable_click=!0,this}function ze(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ti(s){return ze(s),Pn(s),this}function es(s){if(s.composedPath)return s.composedPath();for(var u=[],g=s.target;g;)u.push(g),g=g.parentNode;return u}function ns(s,u){if(!u)return new gt(s.clientX,s.clientY);var g=jo(u),x=g.boundingClientRect;return new gt((s.clientX-x.left)/g.x-u.clientLeft,(s.clientY-x.top)/g.y-u.clientTop)}var el=qt.linux&&qt.chrome?window.devicePixelRatio:qt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nn(s){return qt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/el:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function oi(s,u){var g=u.relatedTarget;if(!g)return!0;try{for(;g&&g!==s;)g=g.parentNode}catch{return!1}return g!==s}var Us={__proto__:null,on:Kt,off:ye,stopPropagation:Pn,disableScrollPropagation:Vn,disableClickPropagation:Gi,preventDefault:ze,stop:Ti,getPropagationPath:es,getMousePosition:ns,getWheelDelta:nn,isExternalTarget:oi,addListener:Kt,removeListener:ye},mo=tt.extend({run:function(s,u,g,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=g||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Si(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Mt(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,g=this._duration*1e3;u<g?this._runFrame(this._easeOut(u/g),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var g=this._startPos.add(this._offset.multiplyBy(s));u&&g._round(),Ae(this._el,g),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),re=tt.extend({options:{crs:be,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=M(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Rt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xo&&qt.any3d&&!qt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kt(this._proxy,Ga,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,g){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Rt(s),u,this.options.maxBounds),g=g||{},this._stop(),this._loaded&&!g.reset&&g!==!0){g.animate!==void 0&&(g.zoom=l({animate:g.animate},g.zoom),g.pan=l({animate:g.animate,duration:g.duration},g.pan));var x=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,g.zoom):this._tryAnimatedPan(s,g.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,g.pan&&g.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(qt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(qt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,g){var x=this.getZoomScale(u),b=this.getSize().divideBy(2),U=s instanceof gt?s:this.latLngToContainerPoint(s),J=U.subtract(b).multiplyBy(1-1/x),it=this.containerPointToLatLng(b.add(J));return this.setView(it,u,{zoom:g})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():ot(s);var g=mt(u.paddingTopLeft||u.padding||[0,0]),x=mt(u.paddingBottomRight||u.padding||[0,0]),b=this.getBoundsZoom(s,!1,g.add(x));if(b=typeof u.maxZoom=="number"?Math.min(u.maxZoom,b):b,b===1/0)return{center:s.getCenter(),zoom:b};var U=x.subtract(g).divideBy(2),J=this.project(s.getSouthWest(),b),it=this.project(s.getNorthEast(),b),dt=this.unproject(J.add(it).divideBy(2).add(U),b);return{center:dt,zoom:b}},fitBounds:function(s,u){if(s=ot(s),!s.isValid())throw new Error("Bounds are not valid.");var g=this._getBoundsCenterZoom(s,u);return this.setView(g.center,g.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=mt(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var g=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,g,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,g){if(g=g||{},g.animate===!1||!qt.any3d)return this.setView(s,u,g);this._stop();var x=this.project(this.getCenter()),b=this.project(s),U=this.getSize(),J=this._zoom;s=Rt(s),u=u===void 0?J:u;var it=Math.max(U.x,U.y),dt=it*this.getZoomScale(J,u),wt=b.distanceTo(x)||1,Dt=1.42,Ft=Dt*Dt;function ee(De){var li=De?-1:1,Zi=De?dt:it,lr=dt*dt-it*it+li*Ft*Ft*wt*wt,vs=2*Zi*Ft*wt,ys=lr/vs,Ri=Math.sqrt(ys*ys+1)-ys,ui=Ri<1e-9?-18:Math.log(Ri);return ui}function Xe(De){return(Math.exp(De)-Math.exp(-De))/2}function Ue(De){return(Math.exp(De)+Math.exp(-De))/2}function mn(De){return Xe(De)/Ue(De)}var de=ee(0);function he(De){return it*(Ue(de)/Ue(de+Dt*De))}function oe(De){return it*(Ue(de)*mn(de+Dt*De)-Xe(de))/Ft}function Mi(De){return 1-Math.pow(1-De,1.5)}var bn=Date.now(),Qs=(ee(1)-de)/Dt,Ni=g.duration?1e3*g.duration:1e3*Qs*.8;function rr(){var De=(Date.now()-bn)/Ni,li=Mi(De)*Qs;De<=1?(this._flyToFrame=Mt(rr,this),this._move(this.unproject(x.add(b.subtract(x).multiplyBy(oe(li)/wt)),J),this.getScaleZoom(it/he(li),J),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,g.noMoveStart),rr.call(this),this},flyToBounds:function(s,u){var g=this._getBoundsCenterZoom(s,u);return this.flyTo(g.center,g.zoom,u)},setMaxBounds:function(s){return s=ot(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var g=this.getCenter(),x=this._limitCenter(g,this._zoom,ot(s));return g.equals(x)||this.panTo(x,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var g=mt(u.paddingTopLeft||u.padding||[0,0]),x=mt(u.paddingBottomRight||u.padding||[0,0]),b=this.project(this.getCenter()),U=this.project(s),J=this.getPixelBounds(),it=G([J.min.add(g),J.max.subtract(x)]),dt=it.getSize();if(!it.contains(U)){this._enforcingBounds=!0;var wt=U.subtract(it.getCenter()),Dt=it.extend(U).getSize().subtract(dt);b.x+=wt.x<0?-Dt.x:Dt.x,b.y+=wt.y<0?-Dt.y:Dt.y,this.panTo(this.unproject(b),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var g=this.getSize(),x=u.divideBy(2).round(),b=g.divideBy(2).round(),U=x.subtract(b);return!U.x&&!U.y?this:(s.animate&&s.pan?this.panBy(U):(s.pan&&this._rawPanBy(U),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:g}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=h(this._handleGeolocationResponse,this),g=h(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,g,s):navigator.geolocation.getCurrentPosition(u,g,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,g=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+g+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,g=s.coords.longitude,x=new at(u,g),b=x.toBounds(s.coords.accuracy*2),U=this._locateOptions;if(U.setView){var J=this.getBoundsZoom(b);this.setView(x,U.maxZoom?Math.min(J,U.maxZoom):J)}var it={latlng:x,bounds:b,timestamp:s.timestamp};for(var dt in s.coords)typeof s.coords[dt]=="number"&&(it[dt]=s.coords[dt]);this.fire("locationfound",it)}},addHandler:function(s,u){if(!u)return this;var g=this[s]=new u(this);return this._handlers.push(g),this.options[s]&&g.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)xe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var g="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=ie("div",g,u||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),g=this.unproject(s.getTopRight());return new ct(u,g)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,g){s=ot(s),g=mt(g||[0,0]);var x=this.getZoom()||0,b=this.getMinZoom(),U=this.getMaxZoom(),J=s.getNorthWest(),it=s.getSouthEast(),dt=this.getSize().subtract(g),wt=G(this.project(it,x),this.project(J,x)).getSize(),Dt=qt.any3d?this.options.zoomSnap:1,Ft=dt.x/wt.x,ee=dt.y/wt.y,Xe=u?Math.max(Ft,ee):Math.min(Ft,ee);return x=this.getScaleZoom(Xe,x),Dt&&(x=Math.round(x/(Dt/100))*(Dt/100),x=u?Math.ceil(x/Dt)*Dt:Math.floor(x/Dt)*Dt),Math.max(b,Math.min(U,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new gt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var g=this._getTopLeftPoint(s,u);return new z(g,g.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var g=this.options.crs;return u=u===void 0?this._zoom:u,g.scale(s)/g.scale(u)},getScaleZoom:function(s,u){var g=this.options.crs;u=u===void 0?this._zoom:u;var x=g.zoom(s*g.scale(u));return isNaN(x)?1/0:x},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Rt(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(mt(s),u)},layerPointToLatLng:function(s){var u=mt(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Rt(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Rt(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ot(s))},distance:function(s,u){return this.options.crs.distance(Rt(s),Rt(u))},containerPointToLayerPoint:function(s){return mt(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return mt(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(mt(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Rt(s)))},mouseEventToContainerPoint:function(s){return ns(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=qa(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Kt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&qt.any3d,Wt(s,"leaflet-container"+(qt.touch?" leaflet-touch":"")+(qt.retina?" leaflet-retina":"")+(qt.ielt9?" leaflet-oldie":"")+(qt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Wo(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ae(this._mapPane,new gt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(s.markerPane,"leaflet-zoom-hide"),Wt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,g){Ae(this._mapPane,new gt(0,0));var x=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var b=this._zoom!==u;this._moveStart(b,g)._move(s,u)._moveEnd(b),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,g,x){u===void 0&&(u=this._zoom);var b=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?g&&g.pinch&&this.fire("zoom",g):((b||g&&g.pinch)&&this.fire("zoom",g),this.fire("move",g)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Ae(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[y(this._container)]=this;var u=s?ye:Kt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),qt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=Mt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var g=[],x,b=u==="mouseout"||u==="mouseover",U=s.target||s.srcElement,J=!1;U;){if(x=this._targets[y(U)],x&&(u==="click"||u==="preclick")&&this._draggableMoved(x)){J=!0;break}if(x&&x.listens(u,!0)&&(b&&!oi(U,s)||(g.push(x),b))||U===this._container)break;U=U.parentNode}return!g.length&&!J&&!b&&this.listens(u,!0)&&(g=[this]),g},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var g=s.type;g==="mousedown"&&ho(u),this._fireDOMEvent(s,g)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,g){if(s.type==="click"){var x=l({},s);x.type="preclick",this._fireDOMEvent(x,x.type,g)}var b=this._findEventTargets(s,u);if(g){for(var U=[],J=0;J<g.length;J++)g[J].listens(u,!0)&&U.push(g[J]);b=U.concat(b)}if(b.length){u==="contextmenu"&&ze(s);var it=b[0],dt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var wt=it.getLatLng&&(!it._radius||it._radius<=10);dt.containerPoint=wt?this.latLngToContainerPoint(it.getLatLng()):this.mouseEventToContainerPoint(s),dt.layerPoint=this.containerPointToLayerPoint(dt.containerPoint),dt.latlng=wt?it.getLatLng():this.layerPointToLatLng(dt.layerPoint)}for(J=0;J<b.length;J++)if(b[J].fire(u,dt,!0),dt.originalEvent._stopped||b[J].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Si(this._mapPane)||new gt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var g=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return g.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var g=this.getSize()._divideBy(2);return this.project(s,u)._subtract(g)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,g){var x=this._getNewPixelOrigin(g,u);return this.project(s,u)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,u,g){var x=this._getNewPixelOrigin(g,u);return G([this.project(s.getSouthWest(),u)._subtract(x),this.project(s.getNorthWest(),u)._subtract(x),this.project(s.getSouthEast(),u)._subtract(x),this.project(s.getNorthEast(),u)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,g){if(!g)return s;var x=this.project(s,u),b=this.getSize().divideBy(2),U=new z(x.subtract(b),x.add(b)),J=this._getBoundsOffset(U,g,u);return Math.abs(J.x)<=1&&Math.abs(J.y)<=1?s:this.unproject(x.add(J),u)},_limitOffset:function(s,u){if(!u)return s;var g=this.getPixelBounds(),x=new z(g.min.add(s),g.max.add(s));return s.add(this._getBoundsOffset(x,u))},_getBoundsOffset:function(s,u,g){var x=G(this.project(u.getNorthEast(),g),this.project(u.getSouthWest(),g)),b=x.min.subtract(s.min),U=x.max.subtract(s.max),J=this._rebound(b.x,-U.x),it=this._rebound(b.y,-U.y);return new gt(J,it)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),g=this.getMaxZoom(),x=qt.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(u,Math.min(g,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var g=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(g)?!1:(this.panBy(g,u),!0)},_createAnimProxy:function(){var s=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var g=yi,x=this._proxy.style[g];ii(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),x===this._proxy.style[g]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();ii(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,g){if(this._animatingZoom)return!0;if(g=g||{},!this._zoomAnimated||g.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(u),b=this._getCenterOffset(s)._divideBy(1-1/x);return g.animate!==!0&&!this.getSize().contains(b)?!1:(Mt(function(){this._moveStart(!0,g.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,g,x){this._mapPane&&(g&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ka(s,u){return new re(s,u)}var pn=R.extend({options:{position:"topright"},initialize:function(s){M(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),g=this.getPosition(),x=s._controlCorners[g];return Wt(u,"leaflet-control"),g.indexOf("bottom")!==-1?x.insertBefore(u,x.firstChild):x.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),si=function(s){return new pn(s)};re.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",g=this._controlContainer=ie("div",u+"control-container",this._container);function x(b,U){var J=u+b+" "+u+U;s[b+U]=ie("div",J,g)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)xe(this._controlCorners[s]);xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var is=pn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,g,x){return g<x?-1:x<g?1:0}},initialize:function(s,u,g){M(this,g),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in u)this._addLayer(u[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return pn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=ie("div",s),g=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Gi(u),Vn(u);var x=this._section=ie("section",s+"-list");g&&(this._map.on("click",this.collapse,this),Kt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=ie("a",s+"-toggle",u);b.href="#",b.title="Layers",b.setAttribute("role","button"),Kt(b,{keydown:function(U){U.keyCode===13&&this._expandSafely()},click:function(U){ze(U),this._expandSafely()}},this),g||this.expand(),this._baseLayersList=ie("div",s+"-base",x),this._separator=ie("div",s+"-separator",x),this._overlaysList=ie("div",s+"-overlays",x),u.appendChild(x)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,g){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:g}),this.options.sortLayers&&this._layers.sort(h(function(x,b){return this.options.sortFunction(x.layer,b.layer,x.name,b.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tn(this._baseLayersList),Tn(this._overlaysList),this._layerControlInputs=[];var s,u,g,x,b=0;for(g=0;g<this._layers.length;g++)x=this._layers[g],this._addItem(x),u=u||x.overlay,s=s||!x.overlay,b+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&b>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(y(s.target)),g=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;g&&this._map.fire(g,u)},_createRadioElement:function(s,u){var g='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=g,x.firstChild},_addItem:function(s){var u=document.createElement("label"),g=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=g):x=this._createRadioElement("leaflet-base-layers_"+y(this),g),this._layerControlInputs.push(x),x.layerId=y(s.layer),Kt(x,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+s.name;var U=document.createElement("span");u.appendChild(U),U.appendChild(x),U.appendChild(b);var J=s.overlay?this._overlaysList:this._baseLayersList;return J.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,g,x=[],b=[];this._handlingClick=!0;for(var U=s.length-1;U>=0;U--)u=s[U],g=this._getLayer(u.layerId).layer,u.checked?x.push(g):u.checked||b.push(g);for(U=0;U<b.length;U++)this._map.hasLayer(b[U])&&this._map.removeLayer(b[U]);for(U=0;U<x.length;U++)this._map.hasLayer(x[U])||this._map.addLayer(x[U]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,g,x=this._map.getZoom(),b=s.length-1;b>=0;b--)u=s[b],g=this._getLayer(u.layerId).layer,u.disabled=g.options.minZoom!==void 0&&x<g.options.minZoom||g.options.maxZoom!==void 0&&x>g.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Kt(s,"click",ze),this.expand();var u=this;setTimeout(function(){ye(s,"click",ze),u._preventClick=!1})}}),nl=function(s,u,g){return new is(s,u,g)},Xa=pn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",g=ie("div",u+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,u+"-in",g,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,u+"-out",g,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),g},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,g,x,b){var U=ie("a",g,x);return U.innerHTML=s,U.href="#",U.title=u,U.setAttribute("role","button"),U.setAttribute("aria-label",u),Gi(U),Kt(U,"click",Ti),Kt(U,"click",b,this),Kt(U,"click",this._refocusOnMap,this),U},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ke(this._zoomInButton,u),ke(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Wt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Wt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xa,this.addControl(this.zoomControl))});var ic=function(s){return new Xa(s)},il=pn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",g=ie("div",u),x=this.options;return this._addScales(x,u+"-line",g),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),g},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,g){s.metric&&(this._mScale=ie("div",u,g)),s.imperial&&(this._iScale=ie("div",u,g))},_update:function(){var s=this._map,u=s.getSize().y/2,g=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(g)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),g=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,g,u/s)},_updateImperial:function(s){var u=s*3.2808399,g,x,b;u>5280?(g=u/5280,x=this._getRoundNum(g),this._updateScale(this._iScale,x+" mi",x/g)):(b=this._getRoundNum(u),this._updateScale(this._iScale,b+" ft",b/u))},_updateScale:function(s,u,g){s.style.width=Math.round(this.options.maxWidth*g)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),g=s/u;return g=g>=10?10:g>=5?5:g>=3?3:g>=2?2:1,u*g}}),Wa=function(s){return new il(s)},oc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qa=pn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(qt.inlineSvg?oc+" ":"")+"Leaflet</a>"},initialize:function(s){M(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),Gi(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var g=[];this.options.prefix&&g.push(this.options.prefix),s.length&&g.push(s.join(", ")),this._container.innerHTML=g.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new Qa().addTo(this)});var sc=function(s){return new Qa(s)};pn.Layers=is,pn.Zoom=Xa,pn.Scale=il,pn.Attribution=Qa,si.layers=nl,si.zoom=ic,si.scale=Wa,si.attribution=sc;var Fn=R.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fn.addTo=function(s,u){return s.addHandler(u,this),this};var ac={Events:Q},$a=qt.touch?"touchstart mousedown":"mousedown",xi=tt.extend({options:{clickTolerance:3},initialize:function(s,u,g,x){M(this,x),this._element=s,this._dragStartTarget=u||s,this._preventOutline=g},enable:function(){this._enabled||(Kt(this._dragStartTarget,$a,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xi._dragging===this&&this.finishDrag(!0),ye(this._dragStartTarget,$a,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Va(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){xi._dragging===this&&this.finishDrag();return}if(!(xi._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(xi._dragging=this,this._preventOutline&&ho(this._element),Ds(),co(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,g=zs(this._element);this._startPoint=new gt(u.clientX,u.clientY),this._startPos=Si(this._element),this._parentScale=jo(g);var x=s.type==="mousedown";Kt(document,x?"mousemove":"touchmove",this._onMove,this),Kt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,g=new gt(u.clientX,u.clientY)._subtract(this._startPoint);!g.x&&!g.y||Math.abs(g.x)+Math.abs(g.y)<this.options.clickTolerance||(g.x/=this._parentScale.x,g.y/=this._parentScale.y,ze(s),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(g),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Ae(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ye(document,"mousemove touchmove",this._onMove,this),ye(document,"mouseup touchend touchcancel",this._onUp,this),$o(),qn();var u=this._moved&&this._moving;this._moving=!1,xi._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function ol(s,u,g){var x,b=[1,4,2,8],U,J,it,dt,wt,Dt,Ft,ee;for(U=0,Dt=s.length;U<Dt;U++)s[U]._code=qi(s[U],u);for(it=0;it<4;it++){for(Ft=b[it],x=[],U=0,Dt=s.length,J=Dt-1;U<Dt;J=U++)dt=s[U],wt=s[J],dt._code&Ft?wt._code&Ft||(ee=Os(wt,dt,Ft,u,g),ee._code=qi(ee,u),x.push(ee)):(wt._code&Ft&&(ee=Os(wt,dt,Ft,u,g),ee._code=qi(ee,u),x.push(ee)),x.push(dt));s=x}return s}function sl(s,u){var g,x,b,U,J,it,dt,wt,Dt;if(!s||s.length===0)throw new Error("latlngs not passed");En(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ft=Rt([0,0]),ee=ot(s),Xe=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());Xe<1700&&(Ft=ja(s));var Ue=s.length,mn=[];for(g=0;g<Ue;g++){var de=Rt(s[g]);mn.push(u.project(Rt([de.lat-Ft.lat,de.lng-Ft.lng])))}for(it=dt=wt=0,g=0,x=Ue-1;g<Ue;x=g++)b=mn[g],U=mn[x],J=b.y*U.x-U.y*b.x,dt+=(b.x+U.x)*J,wt+=(b.y+U.y)*J,it+=J*3;it===0?Dt=mn[0]:Dt=[dt/it,wt/it];var he=u.unproject(mt(Dt));return Rt([he.lat+Ft.lat,he.lng+Ft.lng])}function ja(s){for(var u=0,g=0,x=0,b=0;b<s.length;b++){var U=Rt(s[b]);u+=U.lat,g+=U.lng,x++}return Rt([u/x,g/x])}var tr={__proto__:null,clipPolygon:ol,polygonCenter:sl,centroid:ja};function al(s,u){if(!u||!s.length)return s.slice();var g=u*u;return s=lc(s,g),s=ll(s,g),s}function rl(s,u,g){return Math.sqrt(os(s,u,g,!0))}function rc(s,u,g){return os(s,u,g)}function ll(s,u){var g=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,b=new x(g);b[0]=b[g-1]=1,er(s,b,u,0,g-1);var U,J=[];for(U=0;U<g;U++)b[U]&&J.push(s[U]);return J}function er(s,u,g,x,b){var U=0,J,it,dt;for(it=x+1;it<=b-1;it++)dt=os(s[it],s[x],s[b],!0),dt>U&&(J=it,U=dt);U>g&&(u[J]=1,er(s,u,g,x,J),er(s,u,g,J,b))}function lc(s,u){for(var g=[s[0]],x=1,b=0,U=s.length;x<U;x++)uc(s[x],s[b])>u&&(g.push(s[x]),b=x);return b<U-1&&g.push(s[U-1]),g}var ul;function cl(s,u,g,x,b){var U=x?ul:qi(s,g),J=qi(u,g),it,dt,wt;for(ul=J;;){if(!(U|J))return[s,u];if(U&J)return!1;it=U||J,dt=Os(s,u,it,g,b),wt=qi(dt,g),it===U?(s=dt,U=wt):(u=dt,J=wt)}}function Os(s,u,g,x,b){var U=u.x-s.x,J=u.y-s.y,it=x.min,dt=x.max,wt,Dt;return g&8?(wt=s.x+U*(dt.y-s.y)/J,Dt=dt.y):g&4?(wt=s.x+U*(it.y-s.y)/J,Dt=it.y):g&2?(wt=dt.x,Dt=s.y+J*(dt.x-s.x)/U):g&1&&(wt=it.x,Dt=s.y+J*(it.x-s.x)/U),new gt(wt,Dt,b)}function qi(s,u){var g=0;return s.x<u.min.x?g|=1:s.x>u.max.x&&(g|=2),s.y<u.min.y?g|=4:s.y>u.max.y&&(g|=8),g}function uc(s,u){var g=u.x-s.x,x=u.y-s.y;return g*g+x*x}function os(s,u,g,x){var b=u.x,U=u.y,J=g.x-b,it=g.y-U,dt=J*J+it*it,wt;return dt>0&&(wt=((s.x-b)*J+(s.y-U)*it)/dt,wt>1?(b=g.x,U=g.y):wt>0&&(b+=J*wt,U+=it*wt)),J=s.x-b,it=s.y-U,x?J*J+it*it:new gt(b,U)}function En(s){return!H(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Bs(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(s)}function go(s,u){var g,x,b,U,J,it,dt,wt;if(!s||s.length===0)throw new Error("latlngs not passed");En(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Dt=Rt([0,0]),Ft=ot(s),ee=Ft.getNorthWest().distanceTo(Ft.getSouthWest())*Ft.getNorthEast().distanceTo(Ft.getNorthWest());ee<1700&&(Dt=ja(s));var Xe=s.length,Ue=[];for(g=0;g<Xe;g++){var mn=Rt(s[g]);Ue.push(u.project(Rt([mn.lat-Dt.lat,mn.lng-Dt.lng])))}for(g=0,x=0;g<Xe-1;g++)x+=Ue[g].distanceTo(Ue[g+1])/2;if(x===0)wt=Ue[0];else for(g=0,U=0;g<Xe-1;g++)if(J=Ue[g],it=Ue[g+1],b=J.distanceTo(it),U+=b,U>x){dt=(U-x)/b,wt=[it.x-dt*(it.x-J.x),it.y-dt*(it.y-J.y)];break}var de=u.unproject(mt(wt));return Rt([de.lat+Dt.lat,de.lng+Dt.lng])}var cc={__proto__:null,simplify:al,pointToSegmentDistance:rl,closestPointOnSegment:rc,clipSegment:cl,_getEdgeIntersection:Os,_getBitCode:qi,_sqClosestPointOnSegment:os,isFlat:En,_flat:Bs,polylineCenter:go},Hs={project:function(s){return new gt(s.lng,s.lat)},unproject:function(s){return new at(s.y,s.x)},bounds:new z([-180,-90],[180,90])},Gs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,g=this.R,x=s.lat*u,b=this.R_MINOR/g,U=Math.sqrt(1-b*b),J=U*Math.sin(x),it=Math.tan(Math.PI/4-x/2)/Math.pow((1-J)/(1+J),U/2);return x=-g*Math.log(Math.max(it,1e-10)),new gt(s.lng*u*g,x)},unproject:function(s){for(var u=180/Math.PI,g=this.R,x=this.R_MINOR/g,b=Math.sqrt(1-x*x),U=Math.exp(-s.y/g),J=Math.PI/2-2*Math.atan(U),it=0,dt=.1,wt;it<15&&Math.abs(dt)>1e-7;it++)wt=b*Math.sin(J),wt=Math.pow((1-wt)/(1+wt),b/2),dt=Math.PI/2-2*Math.atan(U*wt)-J,J+=dt;return new at(J*u,s.x*u/g)}},fl={__proto__:null,LonLat:Hs,Mercator:Gs,SphericalMercator:Pt},dl=l({},Ot,{code:"EPSG:3395",projection:Gs,transformation:(function(){var s=.5/(Math.PI*Gs.R);return ce(s,.5,-s,.5)})()}),nr=l({},Ot,{code:"EPSG:4326",projection:Hs,transformation:ce(1/180,1,-1/180,.5)}),_o=l({},Gt,{projection:Hs,transformation:ce(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var g=u.lng-s.lng,x=u.lat-s.lat;return Math.sqrt(g*g+x*x)},infinite:!0});Gt.Earth=Ot,Gt.EPSG3395=dl,Gt.EPSG3857=be,Gt.EPSG900913=N,Gt.EPSG4326=nr,Gt.Simple=_o;var zn=tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[y(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[y(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var g=this.getEvents();u.on(g,this),this.once("remove",function(){u.off(g,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});re.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=y(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return y(s)in this._layers},eachLayer:function(s,u){for(var g in this._layers)s.call(u,this._layers[g]);return this},_addLayers:function(s){s=s?H(s)?s:[s]:[];for(var u=0,g=s.length;u<g;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[y(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=y(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,g=this._getZoomSpan();for(var x in this._zoomBoundLayers){var b=this._zoomBoundLayers[x].options;s=b.minZoom===void 0?s:Math.min(s,b.minZoom),u=b.maxZoom===void 0?u:Math.max(u,b.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,g!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var vo=zn.extend({initialize:function(s,u){M(this,u),this._layers={};var g,x;if(s)for(g=0,x=s.length;g<x;g++)this.addLayer(s[g])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),g,x;for(g in this._layers)x=this._layers[g],x[s]&&x[s].apply(x,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var g in this._layers)s.call(u,this._layers[g]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return y(s)}}),fc=function(s,u){return new vo(s,u)},Zn=vo.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),vo.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),vo.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new ct;for(var u in this._layers){var g=this._layers[u];s.extend(g.getBounds?g.getBounds():g.getLatLng())}return s}}),hl=function(s,u){return new Zn(s,u)},Yn=R.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){M(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var g=this._getIconUrl(s);if(!g){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(g,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,u){var g=this.options,x=g[u+"Size"];typeof x=="number"&&(x=[x,x]);var b=mt(x),U=mt(u==="shadow"&&g.shadowAnchor||g.iconAnchor||b&&b.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(g.className||""),U&&(s.style.marginLeft=-U.x+"px",s.style.marginTop=-U.y+"px"),b&&(s.style.width=b.x+"px",s.style.height=b.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return qt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ss(s){return new Yn(s)}var as=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof as.imagePath!="string"&&(as.imagePath=this._detectIconPath()),(this.options.imagePath||as.imagePath)+Yn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(g,x,b){var U=x.exec(g);return U&&U[b]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ie("div","leaflet-default-icon-path",document.body),u=Wo(s,"background-image")||Wo(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var g=document.querySelector('link[href$="leaflet.css"]');return g?g.href.substring(0,g.href.length-11-1):""}}),rs=Fn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,g=u._map,x=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,U=Si(u._icon),J=g.getPixelBounds(),it=g.getPixelOrigin(),dt=G(J.min._subtract(it).add(b),J.max._subtract(it).subtract(b));if(!dt.contains(U)){var wt=mt((Math.max(dt.max.x,U.x)-dt.max.x)/(J.max.x-dt.max.x)-(Math.min(dt.min.x,U.x)-dt.min.x)/(J.min.x-dt.min.x),(Math.max(dt.max.y,U.y)-dt.max.y)/(J.max.y-dt.max.y)-(Math.min(dt.min.y,U.y)-dt.min.y)/(J.min.y-dt.min.y)).multiplyBy(x);g.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),Ae(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Mt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=Mt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,g=u._shadow,x=Si(u._icon),b=u._map.layerPointToLatLng(x);g&&Ae(g,x),u._latlng=b,s.latlng=b,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ls=zn.extend({options:{icon:new as,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){M(this,u),this._latlng=Rt(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Rt(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),g=s.icon.createIcon(this._icon),x=!1;g!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(g.title=s.title),g.tagName==="IMG"&&(g.alt=s.alt||"")),Wt(g,u),s.keyboard&&(g.tabIndex="0",g.setAttribute("role","button")),this._icon=g,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(g,"focus",this._panOnFocus,this);var b=s.icon.createShadow(this._shadow),U=!1;b!==this._shadow&&(this._removeShadow(),U=!0),b&&(Wt(b,u),b.alt=""),this._shadow=b,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&U&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(this._icon,"focus",this._panOnFocus,this),xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&xe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Ae(this._icon,s),this._shadow&&Ae(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rs)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rs(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Re(this._icon,s),this._shadow&&Re(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,g=u.iconSize?mt(u.iconSize):mt(0,0),x=u.iconAnchor?mt(u.iconAnchor):mt(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:g.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pl(s,u){return new ls(s,u)}var Jn=zn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return M(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yo=Jn.extend({options:{fill:!0,radius:10},initialize:function(s,u){M(this,u),this._latlng=Rt(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Rt(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Jn.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,g=this._clickTolerance(),x=[s+g,u+g];this._pxBounds=new z(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ml(s,u){return new yo(s,u)}var qs=yo.extend({initialize:function(s,u,g){if(typeof u=="number"&&(u=l({},g,{radius:u})),M(this,u),this._latlng=Rt(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new ct(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Jn.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,g=this._map,x=g.options.crs;if(x.distance===Ot.distance){var b=Math.PI/180,U=this._mRadius/Ot.R/b,J=g.project([u+U,s]),it=g.project([u-U,s]),dt=J.add(it).divideBy(2),wt=g.unproject(dt).lat,Dt=Math.acos((Math.cos(U*b)-Math.sin(u*b)*Math.sin(wt*b))/(Math.cos(u*b)*Math.cos(wt*b)))/b;(isNaN(Dt)||Dt===0)&&(Dt=U/Math.cos(Math.PI/180*u)),this._point=dt.subtract(g.getPixelOrigin()),this._radius=isNaN(Dt)?0:dt.x-g.project([wt,s-Dt]).x,this._radiusY=dt.y-J.y}else{var Ft=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=g.latLngToLayerPoint(this._latlng),this._radius=this._point.x-g.latLngToLayerPoint(Ft).x}this._updateBounds()}});function gl(s,u,g){return new qs(s,u,g)}var ai=Jn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){M(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,g=null,x=os,b,U,J=0,it=this._parts.length;J<it;J++)for(var dt=this._parts[J],wt=1,Dt=dt.length;wt<Dt;wt++){b=dt[wt-1],U=dt[wt];var Ft=x(s,b,U,!0);Ft<u&&(u=Ft,g=x(s,b,U))}return g&&(g.distance=Math.sqrt(u)),g},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return go(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Rt(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new ct,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],g=En(s),x=0,b=s.length;x<b;x++)g?(u[x]=Rt(s[x]),this._bounds.extend(u[x])):u[x]=this._convertLatLngs(s[x]);return u},_project:function(){var s=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new gt(s,s);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,g){var x=s[0]instanceof at,b=s.length,U,J;if(x){for(J=[],U=0;U<b;U++)J[U]=this._map.latLngToLayerPoint(s[U]),g.extend(J[U]);u.push(J)}else for(U=0;U<b;U++)this._projectLatlngs(s[U],u,g)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,g,x,b,U,J,it,dt;for(g=0,b=0,U=this._rings.length;g<U;g++)for(dt=this._rings[g],x=0,J=dt.length;x<J-1;x++)it=cl(dt[x],dt[x+1],s,x,!0),it&&(u[b]=u[b]||[],u[b].push(it[0]),(it[1]!==dt[x+1]||x===J-2)&&(u[b].push(it[1]),b++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,g=0,x=s.length;g<x;g++)s[g]=al(s[g],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var g,x,b,U,J,it,dt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(g=0,U=this._parts.length;g<U;g++)for(it=this._parts[g],x=0,J=it.length,b=J-1;x<J;b=x++)if(!(!u&&x===0)&&rl(s,it[b],it[x])<=dt)return!0;return!1}});function dc(s,u){return new ai(s,u)}ai._flat=Bs;var So=ai.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=ai.prototype._convertLatLngs.call(this,s),g=u.length;return g>=2&&u[0]instanceof at&&u[0].equals(u[g-1])&&u.pop(),u},_setLatLngs:function(s){ai.prototype._setLatLngs.call(this,s),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,g=new gt(u,u);if(s=new z(s.min.subtract(g),s.max.add(g)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,b=this._rings.length,U;x<b;x++)U=ol(this._rings[x],s,!0),U.length&&this._parts.push(U)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,g,x,b,U,J,it,dt,wt;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(U=0,dt=this._parts.length;U<dt;U++)for(g=this._parts[U],J=0,wt=g.length,it=wt-1;J<wt;it=J++)x=g[J],b=g[it],x.y>s.y!=b.y>s.y&&s.x<(b.x-x.x)*(s.y-x.y)/(b.y-x.y)+x.x&&(u=!u);return u||ai.prototype._containsPoint.call(this,s,!0)}});function hc(s,u){return new So(s,u)}var ri=Zn.extend({initialize:function(s,u){M(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=H(s)?s:s.features,g,x,b;if(u){for(g=0,x=u.length;g<x;g++)b=u[g],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var U=this.options;if(U.filter&&!U.filter(s))return this;var J=$e(s,U);return J?(J.feature=Zs(s),J.defaultOptions=J.options,this.resetStyle(J),U.onEachFeature&&U.onEachFeature(s,J),this.addLayer(J)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function $e(s,u){var g=s.type==="Feature"?s.geometry:s,x=g?g.coordinates:null,b=[],U=u&&u.pointToLayer,J=u&&u.coordsToLatLng||Vs,it,dt,wt,Dt;if(!x&&!g)return null;switch(g.type){case"Point":return it=J(x),To(U,s,it,u);case"MultiPoint":for(wt=0,Dt=x.length;wt<Dt;wt++)it=J(x[wt]),b.push(To(U,s,it,u));return new Zn(b);case"LineString":case"MultiLineString":return dt=us(x,g.type==="LineString"?0:1,J),new ai(dt,u);case"Polygon":case"MultiPolygon":return dt=us(x,g.type==="Polygon"?1:2,J),new So(dt,u);case"GeometryCollection":for(wt=0,Dt=g.geometries.length;wt<Dt;wt++){var Ft=$e({geometry:g.geometries[wt],type:"Feature",properties:s.properties},u);Ft&&b.push(Ft)}return new Zn(b);case"FeatureCollection":for(wt=0,Dt=g.features.length;wt<Dt;wt++){var ee=$e(g.features[wt],u);ee&&b.push(ee)}return new Zn(b);default:throw new Error("Invalid GeoJSON object.")}}function To(s,u,g,x){return s?s(u,g):new ls(g,x&&x.markersInheritOptions&&x)}function Vs(s){return new at(s[1],s[0],s[2])}function us(s,u,g){for(var x=[],b=0,U=s.length,J;b<U;b++)J=u?us(s[b],u-1,g):(g||Vs)(s[b]),x.push(J);return x}function Fs(s,u){return s=Rt(s),s.alt!==void 0?[w(s.lng,u),w(s.lat,u),w(s.alt,u)]:[w(s.lng,u),w(s.lat,u)]}function cs(s,u,g,x){for(var b=[],U=0,J=s.length;U<J;U++)b.push(u?cs(s[U],En(s[U])?0:u-1,g,x):Fs(s[U],x));return!u&&g&&b.length>0&&b.push(b[0].slice()),b}function Ei(s,u){return s.feature?l({},s.feature,{geometry:u}):Zs(u)}function Zs(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var wi={toGeoJSON:function(s){return Ei(this,{type:"Point",coordinates:Fs(this.getLatLng(),s)})}};ls.include(wi),qs.include(wi),yo.include(wi),ai.include({toGeoJSON:function(s){var u=!En(this._latlngs),g=cs(this._latlngs,u?1:0,!1,s);return Ei(this,{type:(u?"Multi":"")+"LineString",coordinates:g})}}),So.include({toGeoJSON:function(s){var u=!En(this._latlngs),g=u&&!En(this._latlngs[0]),x=cs(this._latlngs,g?2:u?1:0,!0,s);return u||(x=[x]),Ei(this,{type:(g?"Multi":"")+"Polygon",coordinates:x})}}),vo.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(g){u.push(g.toGeoJSON(s).geometry.coordinates)}),Ei(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var g=u==="GeometryCollection",x=[];return this.eachLayer(function(b){if(b.toGeoJSON){var U=b.toGeoJSON(s);if(g)x.push(U.geometry);else{var J=Zs(U);J.type==="FeatureCollection"?x.push.apply(x,J.features):x.push(J)}}}),g?Ei(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Ys(s,u){return new ri(s,u)}var fs=Ys,xo=zn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,g){this._url=s,this._bounds=ot(u),M(this,g)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Ke(this._image),this},bringToBack:function(){return this._map&&Bi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ot(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:ie("img");if(Wt(u,"leaflet-image-layer"),this._zoomAnimated&&Wt(u,"leaflet-zoom-animated"),this.options.className&&Wt(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onload=h(this.fire,this,"load"),u.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),g=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;ii(this._image,g,u)},_reset:function(){var s=this._image,u=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),g=u.getSize();Ae(s,u.min),s.style.width=g.x+"px",s.style.height=g.y+"px"},_updateOpacity:function(){Re(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),_l=function(s,u,g){return new xo(s,u,g)},Ci=xo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:ie("video");if(Wt(u,"leaflet-image-layer"),this._zoomAnimated&&Wt(u,"leaflet-zoom-animated"),this.options.className&&Wt(u,this.options.className),u.onselectstart=E,u.onmousemove=E,u.onloadeddata=h(this.fire,this,"load"),s){for(var g=u.getElementsByTagName("source"),x=[],b=0;b<g.length;b++)x.push(g[b].src);this._url=g.length>0?x:[u.src];return}H(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var U=0;U<this._url.length;U++){var J=ie("source");J.src=this._url[U],u.appendChild(J)}}});function Eo(s,u,g){return new Ci(s,u,g)}var Js=xo.extend({_initImage:function(){var s=this._image=this._url;Wt(s,"leaflet-image-layer"),this._zoomAnimated&&Wt(s,"leaflet-zoom-animated"),this.options.className&&Wt(s,this.options.className),s.onselectstart=E,s.onmousemove=E}});function vl(s,u,g){return new Js(s,u,g)}var je=zn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof at||H(s))?(this._latlng=Rt(s),M(this,u)):(M(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Re(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Re(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Re(this._container,0),this._removeTimeout=setTimeout(h(xe,void 0,this._container),200)):xe(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Rt(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ke(this._container),this},bringToBack:function(){return this._map&&Bi(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Zn){u=null;var g=this._source._layers;for(var x in g)if(g[x]._map){u=g[x];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=mt(this.options.offset),g=this._getAnchor();this._zoomAnimated?Ae(this._container,s.add(g)):u=u.add(s).add(g);var x=this._containerBottom=-u.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=x+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(s,u,g,x){var b=u;return b instanceof s||(b=new s(x).setContent(u)),g&&b.setLatLng(g),b}}),zn.include({_initOverlay:function(s,u,g,x){var b=g;return b instanceof s?(M(b,x),b._source=this):(b=u&&!x?u:new s(x,this),b.setContent(g)),b}});var ds=je.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,je.prototype.openOn.call(this,s)},onAdd:function(s){je.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jn||this._source.on("preclick",Pn))},onRemove:function(s){je.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jn||this._source.off("preclick",Pn))},getEvents:function(){var s=je.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=ie("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),g=this._wrapper=ie("div",s+"-content-wrapper",u);if(this._contentNode=ie("div",s+"-content",g),Gi(u),Vn(this._contentNode),Kt(u,"contextmenu",Pn),this._tipContainer=ie("div",s+"-tip-container",u),this._tip=ie("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ie("a",s+"-close-button",u);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Kt(x,"click",function(b){ze(b),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var g=s.offsetWidth;g=Math.min(g,this.options.maxWidth),g=Math.max(g,this.options.minWidth),u.width=g+1+"px",u.whiteSpace="",u.height="";var x=s.offsetHeight,b=this.options.maxHeight,U="leaflet-popup-scrolled";b&&x>b?(u.height=b+"px",Wt(s,U)):ke(s,U),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),g=this._getAnchor();Ae(this._container,u.add(g))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Wo(this._container,"marginBottom"),10)||0,g=this._container.offsetHeight+u,x=this._containerWidth,b=new gt(this._containerLeft,-g-this._containerBottom);b._add(Si(this._container));var U=s.layerPointToContainerPoint(b),J=mt(this.options.autoPanPadding),it=mt(this.options.autoPanPaddingTopLeft||J),dt=mt(this.options.autoPanPaddingBottomRight||J),wt=s.getSize(),Dt=0,Ft=0;U.x+x+dt.x>wt.x&&(Dt=U.x+x-wt.x+dt.x),U.x-Dt-it.x<0&&(Dt=U.x-it.x),U.y+g+dt.y>wt.y&&(Ft=U.y+g-wt.y+dt.y),U.y-Ft-it.y<0&&(Ft=U.y-it.y),(Dt||Ft)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Dt,Ft]))}},_getAnchor:function(){return mt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yl=function(s,u){return new ds(s,u)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(s,u,g){return this._initOverlay(ds,s,u,g).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),zn.include({bindPopup:function(s,u){return this._popup=this._initOverlay(ds,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Ti(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Jn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var hs=je.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){je.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){je.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=je.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,g,x=this._map,b=this._container,U=x.latLngToContainerPoint(x.getCenter()),J=x.layerPointToContainerPoint(s),it=this.options.direction,dt=b.offsetWidth,wt=b.offsetHeight,Dt=mt(this.options.offset),Ft=this._getAnchor();it==="top"?(u=dt/2,g=wt):it==="bottom"?(u=dt/2,g=0):it==="center"?(u=dt/2,g=wt/2):it==="right"?(u=0,g=wt/2):it==="left"?(u=dt,g=wt/2):J.x<U.x?(it="right",u=0,g=wt/2):(it="left",u=dt+(Dt.x+Ft.x)*2,g=wt/2),s=s.subtract(mt(u,g,!0)).add(Dt).add(Ft),ke(b,"leaflet-tooltip-right"),ke(b,"leaflet-tooltip-left"),ke(b,"leaflet-tooltip-top"),ke(b,"leaflet-tooltip-bottom"),Wt(b,"leaflet-tooltip-"+it),Ae(b,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Re(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return mt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),pc=function(s,u){return new hs(s,u)};re.include({openTooltip:function(s,u,g){return this._initOverlay(hs,s,u,g).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),zn.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hs,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",g={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?g.add=this._openTooltip:(g.mouseover=this._openTooltip,g.mouseout=this.closeTooltip,g.click=this._openTooltip,this._map?this._addFocusListeners():g.add=this._addFocusListeners),this._tooltip.options.sticky&&(g.mousemove=this._moveTooltip),this[u](g),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Kt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Kt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,g,x;this._tooltip.options.sticky&&s.originalEvent&&(g=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(g),u=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(u)}});var Sl=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),g=this.options;if(g.html instanceof Element?(Tn(u),u.appendChild(g.html)):u.innerHTML=g.html!==!1?g.html:"",g.bgPos){var x=mt(g.bgPos);u.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function mc(s){return new Sl(s)}Yn.Default=as;var wo=zn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:qt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){M(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),xe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof gt?s:new gt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,g=-s(-1/0,1/0),x=0,b=u.length,U;x<b;x++)U=u[x].style.zIndex,u[x]!==this._container&&U&&(g=s(g,+U));isFinite(g)&&(this.options.zIndex=g+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!qt.ielt9){Re(this._container,this.options.opacity);var s=+new Date,u=!1,g=!1;for(var x in this._tiles){var b=this._tiles[x];if(!(!b.current||!b.loaded)){var U=Math.min(1,(s-b.loaded)/200);Re(b.el,U),U<1?u=!0:(b.active?g=!0:this._onOpaqueTile(b),b.active=!0)}}g&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=Mt(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var g in this._levels)g=Number(g),this._levels[g].el.children.length||g===s?(this._levels[g].el.style.zIndex=u-Math.abs(s-g),this._onUpdateLevel(g)):(xe(this._levels[g].el),this._removeTilesAtZoom(g),this._onRemoveLevel(g),delete this._levels[g]);var x=this._levels[s],b=this._map;return x||(x=this._levels[s]={},x.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=u,x.origin=b.project(b.unproject(b.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,b.getCenter(),b.getZoom()),E(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var s,u,g=this._map.getZoom();if(g>this.options.maxZoom||g<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var x=u.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)xe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,g,x){var b=Math.floor(s/2),U=Math.floor(u/2),J=g-1,it=new gt(+b,+U);it.z=+J;var dt=this._tileCoordsToKey(it),wt=this._tiles[dt];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),J>x?this._retainParent(b,U,J,x):!1)},_retainChildren:function(s,u,g,x){for(var b=2*s;b<2*s+2;b++)for(var U=2*u;U<2*u+2;U++){var J=new gt(b,U);J.z=g+1;var it=this._tileCoordsToKey(J),dt=this._tiles[it];if(dt&&dt.active){dt.retain=!0;continue}else dt&&dt.loaded&&(dt.retain=!0);g+1<x&&this._retainChildren(b,U,g+1,x)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,g,x){var b=Math.round(u);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var U=this.options.updateWhenZooming&&b!==this._tileZoom;(!x||U)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(s),g||this._pruneTiles(),this._noPrune=!!g),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var g in this._levels)this._setZoomTransform(this._levels[g],s,u)},_setZoomTransform:function(s,u,g){var x=this._map.getZoomScale(g,s.zoom),b=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(u,g)).round();qt.any3d?ii(s.el,b,x):Ae(s.el,b)},_resetGrid:function(){var s=this._map,u=s.options.crs,g=this._tileSize=this.getTileSize(),x=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],x).x/g.x),Math.ceil(s.project([0,u.wrapLng[1]],x).x/g.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],x).y/g.x),Math.ceil(s.project([u.wrapLat[1],0],x).y/g.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,g=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),x=u.getZoomScale(g,this._tileZoom),b=u.project(s,this._tileZoom).floor(),U=u.getSize().divideBy(x*2);return new z(b.subtract(U),b.add(U))},_update:function(s){var u=this._map;if(u){var g=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),b=this._pxBoundsToTileRange(x),U=b.getCenter(),J=[],it=this.options.keepBuffer,dt=new z(b.getBottomLeft().subtract([it,-it]),b.getTopRight().add([it,-it]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var Dt=this._tiles[wt].coords;(Dt.z!==this._tileZoom||!dt.contains(new gt(Dt.x,Dt.y)))&&(this._tiles[wt].current=!1)}if(Math.abs(g-this._tileZoom)>1){this._setView(s,g);return}for(var Ft=b.min.y;Ft<=b.max.y;Ft++)for(var ee=b.min.x;ee<=b.max.x;ee++){var Xe=new gt(ee,Ft);if(Xe.z=this._tileZoom,!!this._isValidTile(Xe)){var Ue=this._tiles[this._tileCoordsToKey(Xe)];Ue?Ue.current=!0:J.push(Xe)}}if(J.sort(function(de,he){return de.distanceTo(U)-he.distanceTo(U)}),J.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mn=document.createDocumentFragment();for(ee=0;ee<J.length;ee++)this._addTile(J[ee],mn);this._level.el.appendChild(mn)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var g=this._globalTileRange;if(!u.wrapLng&&(s.x<g.min.x||s.x>g.max.x)||!u.wrapLat&&(s.y<g.min.y||s.y>g.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return ot(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,g=this.getTileSize(),x=s.scaleBy(g),b=x.add(g),U=u.unproject(x,s.z),J=u.unproject(b,s.z);return[U,J]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),g=new ct(u[0],u[1]);return this.options.noWrap||(g=this._map.wrapLatLngBounds(g)),g},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),g=new gt(+u[0],+u[1]);return g.z=+u[2],g},_removeTile:function(s){var u=this._tiles[s];u&&(xe(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Wt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=E,s.onmousemove=E,qt.ielt9&&this.options.opacity<1&&Re(s,this.options.opacity)},_addTile:function(s,u){var g=this._getTilePos(s),x=this._tileCoordsToKey(s),b=this.createTile(this._wrapCoords(s),h(this._tileReady,this,s));this._initTile(b),this.createTile.length<2&&Mt(h(this._tileReady,this,s,null,b)),Ae(b,g),this._tiles[x]={el:b,coords:s,current:!0},u.appendChild(b),this.fire("tileloadstart",{tile:b,coords:s})},_tileReady:function(s,u,g){u&&this.fire("tileerror",{error:u,tile:g,coords:s});var x=this._tileCoordsToKey(s);g=this._tiles[x],g&&(g.loaded=+new Date,this._map._fadeAnimated?(Re(g.el,0),F(this._fadeFrame),this._fadeFrame=Mt(this._updateOpacity,this)):(g.active=!0,this._pruneTiles()),u||(Wt(g.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:g.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),qt.ielt9||!this._map._fadeAnimated?Mt(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new gt(this._wrapX?T(s.x,this._wrapX):s.x,this._wrapY?T(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new z(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Tl(s){return new wo(s)}var bi=wo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=M(this,u),u.detectRetina&&qt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var g=document.createElement("img");return Kt(g,"load",h(this._tileOnLoad,this,u,g)),Kt(g,"error",h(this._tileOnError,this,u,g)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(g.referrerPolicy=this.options.referrerPolicy),g.alt="",g.src=this.getTileUrl(s),g},getTileUrl:function(s){var u={r:qt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var g=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=g),u["-y"]=g}return B(this._url,l(u,this.options))},_tileOnLoad:function(s,u){qt.ielt9?setTimeout(h(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,g){var x=this.options.errorTileUrl;x&&u.getAttribute("src")!==x&&(u.src=x),s(g,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,g=this.options.zoomReverse,x=this.options.zoomOffset;return g&&(s=u-s),s+x},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=E,u.onerror=E,!u.complete)){u.src=V;var g=this._tiles[s].coords;xe(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:g})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",V),wo.prototype._removeTile.call(this,s)},_tileReady:function(s,u,g){if(!(!this._map||g&&g.getAttribute("src")===V))return wo.prototype._tileReady.call(this,s,u,g)}});function wn(s,u){return new bi(s,u)}var ps=bi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var g=l({},this.defaultWmsParams);for(var x in u)x in this.options||(g[x]=u[x]);u=M(this,u);var b=u.detectRetina&&qt.retina?2:1,U=this.getTileSize();g.width=U.x*b,g.height=U.y*b,this.wmsParams=g},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,bi.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),g=this._crs,x=G(g.project(u[0]),g.project(u[1])),b=x.min,U=x.max,J=(this._wmsVersion>=1.3&&this._crs===nr?[b.y,b.x,U.y,U.x]:[b.x,b.y,U.x,U.y]).join(","),it=bi.prototype.getTileUrl.call(this,s);return it+I(this.wmsParams,it,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+J},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function Cn(s,u){return new ps(s,u)}bi.WMS=ps,wn.wms=Cn;var ln=zn.extend({options:{padding:.1},initialize:function(s){M(this,s),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var g=this._map.getZoomScale(u,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,u),U=x.multiplyBy(-g).add(b).subtract(this._map._getNewPixelOrigin(s,u));qt.any3d?ii(this._container,U,g):Ae(this._container,U)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),g=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new z(g,g.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ks=ln.extend({options:{tolerance:0},getEvents:function(){var s=ln.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Kt(s,"mousemove",this._onMouseMove,this),Kt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,xe(this._container),ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var s=this._bounds,u=this._container,g=s.getSize(),x=qt.retina?2:1;Ae(u,s.min),u.width=x*g.x,u.height=x*g.y,u.style.width=g.x+"px",u.style.height=g.y+"px",qt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[y(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,g=u.next,x=u.prev;g?g.prev=x:this._drawLast=x,x?x.next=g:this._drawFirst=g,delete s._order,delete this._layers[y(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),g=[],x,b;for(b=0;b<u.length;b++){if(x=Number(u[b]),isNaN(x))return;g.push(x)}s.options._dashArray=g}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Mt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var g=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,g.x,g.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var g,x,b,U,J=s._parts,it=J.length,dt=this._ctx;if(it){for(dt.beginPath(),g=0;g<it;g++){for(x=0,b=J[g].length;x<b;x++)U=J[g][x],dt[x?"lineTo":"moveTo"](U.x,U.y);u&&dt.closePath()}this._fillStroke(dt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,g=this._ctx,x=Math.max(Math.round(s._radius),1),b=(Math.max(Math.round(s._radiusY),1)||x)/x;b!==1&&(g.save(),g.scale(1,b)),g.beginPath(),g.arc(u.x,u.y/b,x,0,Math.PI*2,!1),b!==1&&g.restore(),this._fillStroke(g,s)}},_fillStroke:function(s,u){var g=u.options;g.fill&&(s.globalAlpha=g.fillOpacity,s.fillStyle=g.fillColor||g.color,s.fill(g.fillRule||"evenodd")),g.stroke&&g.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=g.opacity,s.lineWidth=g.weight,s.strokeStyle=g.color,s.lineCap=g.lineCap,s.lineJoin=g.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),g,x,b=this._drawFirst;b;b=b.next)g=b.layer,g.options.interactive&&g._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(g))&&(x=g);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ke(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var g,x,b=this._drawFirst;b;b=b.next)g=b.layer,g.options.interactive&&g._containsPoint(u)&&(x=g);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,g){this._map._fireDOMEvent(u,g||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var g=u.next,x=u.prev;if(g)g.prev=x;else return;x?x.next=g:g&&(this._drawFirst=g),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var g=u.next,x=u.prev;if(x)x.next=g;else return;g?g.prev=x:x&&(this._drawLast=x),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function ms(s){return qt.canvas?new Ks(s):null}var Ai=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ir={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Ai("shape");Wt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Ai("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;xe(u),s.removeInteractiveTarget(u),delete this._layers[y(s)]},_updateStyle:function(s){var u=s._stroke,g=s._fill,x=s.options,b=s._container;b.stroked=!!x.stroke,b.filled=!!x.fill,x.stroke?(u||(u=s._stroke=Ai("stroke")),b.appendChild(u),u.weight=x.weight+"px",u.color=x.color,u.opacity=x.opacity,x.dashArray?u.dashStyle=H(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=x.lineCap.replace("butt","flat"),u.joinstyle=x.lineJoin):u&&(b.removeChild(u),s._stroke=null),x.fill?(g||(g=s._fill=Ai("fill")),b.appendChild(g),g.color=x.fillColor||x.color,g.opacity=x.fillOpacity):g&&(b.removeChild(g),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),g=Math.round(s._radius),x=Math.round(s._radiusY||g);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+g+","+x+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Ke(s._container)},_bringToBack:function(s){Bi(s._container)}},Kn=qt.vml?Ai:xt,Co=ln.extend({_initContainer:function(){this._container=Kn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){xe(this._container),ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var s=this._bounds,u=s.getSize(),g=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,g.setAttribute("width",u.x),g.setAttribute("height",u.y)),Ae(g,s.min),g.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=Kn("path");s.options.className&&Wt(u,s.options.className),s.options.interactive&&Wt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[y(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){xe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[y(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,g=s.options;u&&(g.stroke?(u.setAttribute("stroke",g.color),u.setAttribute("stroke-opacity",g.opacity),u.setAttribute("stroke-width",g.weight),u.setAttribute("stroke-linecap",g.lineCap),u.setAttribute("stroke-linejoin",g.lineJoin),g.dashArray?u.setAttribute("stroke-dasharray",g.dashArray):u.removeAttribute("stroke-dasharray"),g.dashOffset?u.setAttribute("stroke-dashoffset",g.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),g.fill?(u.setAttribute("fill",g.fillColor||g.color),u.setAttribute("fill-opacity",g.fillOpacity),u.setAttribute("fill-rule",g.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,_t(s._parts,u))},_updateCircle:function(s){var u=s._point,g=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||g,b="a"+g+","+x+" 0 1,0 ",U=s._empty()?"M0 0":"M"+(u.x-g)+","+u.y+b+g*2+",0 "+b+-g*2+",0 ";this._setPath(s,U)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Ke(s._path)},_bringToBack:function(s){Bi(s._path)}});qt.vml&&Co.include(ir);function gs(s){return qt.svg||qt.vml?new Co(s):null}re.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&ms(s)||gs(s)}});var Vi=So.extend({initialize:function(s,u){So.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ot(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function gc(s,u){return new Vi(s,u)}Co.create=Kn,Co.pointsToPath=_t,ri.geometryToLayer=$e,ri.coordsToLatLng=Vs,ri.coordsToLatLngs=us,ri.latLngToCoords=Fs,ri.latLngsToCoords=cs,ri.getFeature=Ei,ri.asFeature=Zs,re.mergeOptions({boxZoom:!0});var un=Fn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),co(),Ds(),this._startPoint=this._map.mouseEventToContainerPoint(s),Kt(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new z(this._point,this._startPoint),g=u.getSize();Ae(this._box,u.min),this._box.style.width=g.x+"px",this._box.style.height=g.y+"px"},_finish:function(){this._moved&&(xe(this._box),ke(this._container,"leaflet-crosshair")),qn(),$o(),ye(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var u=new ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",un),re.mergeOptions({doubleClickZoom:!0});var Xs=Fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,g=u.getZoom(),x=u.options.zoomDelta,b=s.originalEvent.shiftKey?g-x:g+x;u.options.doubleClickZoom==="center"?u.setZoom(b):u.setZoomAround(s.containerPoint,b)}});re.addInitHook("addHandler","doubleClickZoom",Xs),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xn=Fn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=ot(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,g=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(g),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),g=this._initialWorldOffset,x=this._draggable._newPos.x,b=(x-u+g)%s+u-g,U=(x+u+g)%s-u-g,J=Math.abs(b+g)<Math.abs(U+g)?b:U;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=J},_onDragEnd:function(s){var u=this._map,g=u.options,x=!g.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),x)u.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),U=(this._lastTime-this._times[0])/1e3,J=g.easeLinearity,it=b.multiplyBy(J/U),dt=it.distanceTo([0,0]),wt=Math.min(g.inertiaMaxSpeed,dt),Dt=it.multiplyBy(wt/dt),Ft=wt/(g.inertiaDeceleration*J),ee=Dt.multiplyBy(-Ft/2).round();!ee.x&&!ee.y?u.fire("moveend"):(ee=u._limitOffset(ee,u.options.maxBounds),Mt(function(){u.panBy(ee,{duration:Ft,easeLinearity:J,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",Xn),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var or=Fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Kt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,g=s.scrollTop||u.scrollTop,x=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(x,g)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},g=this.keyCodes,x,b;for(x=0,b=g.left.length;x<b;x++)u[g.left[x]]=[-1*s,0];for(x=0,b=g.right.length;x<b;x++)u[g.right[x]]=[s,0];for(x=0,b=g.down.length;x<b;x++)u[g.down[x]]=[0,s];for(x=0,b=g.up.length;x<b;x++)u[g.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},g=this.keyCodes,x,b;for(x=0,b=g.zoomIn.length;x<b;x++)u[g.zoomIn[x]]=s;for(x=0,b=g.zoomOut.length;x<b;x++)u[g.zoomOut[x]]=-s},_addHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,g=this._map,x;if(u in this._panKeys){if(!g._panAnim||!g._panAnim._inProgress)if(x=this._panKeys[u],s.shiftKey&&(x=mt(x).multiplyBy(3)),g.options.maxBounds&&(x=g._limitOffset(mt(x),g.options.maxBounds)),g.options.worldCopyJump){var b=g.wrapLatLng(g.unproject(g.project(g.getCenter()).add(x)));g.panTo(b)}else g.panBy(x)}else if(u in this._zoomKeys)g.setZoom(g.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&g._popup&&g._popup.options.closeOnEscapeKey)g.closePopup();else return;Ti(s)}}});re.addInitHook("addHandler","keyboard",or),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _s=Fn.extend({addHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=nn(s),g=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(g-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),x),Ti(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),g=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,U=g?Math.ceil(b/g)*g:b,J=s._limitZoom(u+(this._delta>0?U:-U))-u;this._delta=0,this._startTime=null,J&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+J):s.setZoomAround(this._lastMousePos,u+J))}});re.addInitHook("addHandler","scrollWheelZoom",_s);var Fi=600;re.mergeOptions({tapHold:qt.touchNative&&qt.safari&&qt.mobile,tapTolerance:15});var Ws=Fn.extend({addHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new gt(u.clientX,u.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Kt(document,"touchend",ze),Kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Fi),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ye(document,"touchend",ze),ye(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new gt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var g=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});g._simulated=!0,u.target.dispatchEvent(g)}});re.addInitHook("addHandler","tapHold",Ws),re.mergeOptions({touchZoom:qt.touch,bounceAtZoomLimits:!0});var sr=Fn.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var g=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(g.add(x)._divideBy(2))),this._startDist=g.distanceTo(x),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),ze(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,g=u.mouseEventToContainerPoint(s.touches[0]),x=u.mouseEventToContainerPoint(s.touches[1]),b=g.distanceTo(x)/this._startDist;if(this._zoom=u.getScaleZoom(b,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&b<1||this._zoom>u.getMaxZoom()&&b>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var U=g._add(x)._divideBy(2)._subtract(this._centerPoint);if(b===1&&U.x===0&&U.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(U),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var J=h(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Mt(J,this,!0),ze(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",sr),re.BoxZoom=un,re.DoubleClickZoom=Xs,re.Drag=Xn,re.Keyboard=or,re.ScrollWheelZoom=_s,re.TapHold=Ws,re.TouchZoom=sr,o.Bounds=z,o.Browser=qt,o.CRS=Gt,o.Canvas=Ks,o.Circle=qs,o.CircleMarker=yo,o.Class=R,o.Control=pn,o.DivIcon=Sl,o.DivOverlay=je,o.DomEvent=Us,o.DomUtil=po,o.Draggable=xi,o.Evented=tt,o.FeatureGroup=Zn,o.GeoJSON=ri,o.GridLayer=wo,o.Handler=Fn,o.Icon=Yn,o.ImageOverlay=xo,o.LatLng=at,o.LatLngBounds=ct,o.Layer=zn,o.LayerGroup=vo,o.LineUtil=cc,o.Map=re,o.Marker=ls,o.Mixin=ac,o.Path=Jn,o.Point=gt,o.PolyUtil=tr,o.Polygon=So,o.Polyline=ai,o.Popup=ds,o.PosAnimation=mo,o.Projection=fl,o.Rectangle=Vi,o.Renderer=ln,o.SVG=Co,o.SVGOverlay=Js,o.TileLayer=bi,o.Tooltip=hs,o.Transformation=Bt,o.Util=st,o.VideoOverlay=Ci,o.bind=h,o.bounds=G,o.canvas=ms,o.circle=gl,o.circleMarker=ml,o.control=si,o.divIcon=mc,o.extend=l,o.featureGroup=hl,o.geoJSON=Ys,o.geoJson=fs,o.gridLayer=Tl,o.icon=ss,o.imageOverlay=_l,o.latLng=Rt,o.latLngBounds=ot,o.layerGroup=fc,o.map=Ka,o.marker=pl,o.point=mt,o.polygon=hc,o.polyline=dc,o.popup=yl,o.rectangle=gc,o.setOptions=M,o.stamp=y,o.svg=gs,o.svgOverlay=vl,o.tileLayer=wn,o.tooltip=pc,o.transformation=ce,o.version=r,o.videoOverlay=Eo;var ar=window.L;o.noConflict=function(){return window.L=ar,this},window.L=o}))})(Fr,Fr.exports)),Fr.exports}var Ra=BS();const Rs=Hu(Ra);function Vu(i,e,o){return Object.freeze({instance:i,context:e,container:o})}function Fu(i,e){return e==null?function(r,l){const f=bt.useRef(void 0);return f.current||(f.current=i(r,l)),f}:function(r,l){const f=bt.useRef(void 0);f.current||(f.current=i(r,l));const h=bt.useRef(r),{instance:m}=f.current;return bt.useEffect(function(){h.current!==r&&(e(m,r,h.current),h.current=r)},[m,r,e]),f}}function HS(i,e){bt.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){var f;(f=e.layerContainer)==null||f.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function G_(i){return function(o){const r=qu(),l=i(wd(o,r),r);return O_(r.map,o.attribution),H_(l.current,o.eventHandlers),HS(l.current,r),l}}function GS(i){function e(l,f){return Vu(i(l),f)}const o=Fu(e),r=zS(o);return B_(r)}function qS(i,e){const o=Fu(i,e),r=G_(o);return DS(r)}function VS(i,e){const o=Fu(i),r=US(o,e);return PS(r)}function FS(i,e){const o=Fu(i,e),r=G_(o);return B_(r)}function ZS(i,e,o){const{opacity:r,zIndex:l}=e;r!=null&&r!==o.opacity&&i.setOpacity(r),l!=null&&l!==o.zIndex&&i.setZIndex(l)}function q_(){return qu().map}function YS(i){const e=q_();return bt.useEffect(function(){return e.on(i),function(){e.off(i)}},[e,i]),e}function JS({bounds:i,boundsOptions:e,center:o,children:r,className:l,id:f,placeholder:h,style:m,whenReady:y,zoom:_,...T},E){const[w]=bt.useState({className:l,id:f,style:m}),[C,k]=bt.useState(null),M=bt.useRef(void 0);bt.useImperativeHandle(E,()=>(C==null?void 0:C.map)??null,[C]);const I=bt.useCallback(B=>{if(B!==null&&!M.current){const H=new Ra.Map(B,T);M.current=H,o!=null&&_!=null?H.setView(o,_):i!=null&&H.fitBounds(i,e),y!=null&&H.whenReady(y),k(kS(H))}},[]);bt.useEffect(()=>()=>{C==null||C.map.remove()},[C]);const D=C?Ru.createElement(Ed,{value:C},r):h??null;return Ru.createElement("div",{...w,ref:I},D)}const KS=bt.forwardRef(JS),V_=qS(function({position:e,...o},r){const l=new Ra.Marker(e,o);return Vu(l,LS(r,{overlayContainer:l}))},function(e,o,r){o.position!==r.position&&e.setLatLng(o.position),o.icon!=null&&o.icon!==r.icon&&e.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==r.opacity&&e.setOpacity(o.opacity),e.dragging!=null&&o.draggable!==r.draggable&&(o.draggable===!0?e.dragging.enable():e.dragging.disable())}),XS=FS(function({url:e,...o},r){const l=new Ra.TileLayer(e,wd(o,r));return Vu(l,r)},function(e,o,r){ZS(e,o,r);const{url:l}=o;l!=null&&l!==r.url&&e.setUrl(l)}),WS=VS(function(e,o){const r=new Ra.Tooltip(e,o.overlayContainer);return Vu(r,o)},function(e,o,{position:r},l){bt.useEffect(function(){const h=o.overlayContainer;if(h==null)return;const{instance:m}=e,y=T=>{T.tooltip===m&&(r!=null&&m.setLatLng(r),m.update(),l(!0))},_=T=>{T.tooltip===m&&l(!1)};return h.on({tooltipopen:y,tooltipclose:_}),h.bindTooltip(m),function(){h.off({tooltipopen:y,tooltipclose:_}),h._map!=null&&h.unbindTooltip()}},[e,o,l,r])}),QS=GS(function(e){return new Ra.Control.Zoom(e)}),$S=Rs.divIcon({className:"custom-point-pin",html:`<div class="w-6 h-6 bg-emerald-500 border-2 border-white rounded-full shadow-xl flex items-center justify-center">
          <div class="w-2 h-2 bg-white rounded-full"></div>
        </div>`,iconSize:[24,24],iconAnchor:[12,12],popupAnchor:[0,-12]}),jS=Rs.divIcon({className:"custom-selected-pin",html:`<div class="w-8 h-8 bg-amber-500 border-[3px] border-white rounded-full shadow-2xl flex items-center justify-center ring-4 ring-amber-500/30 animate-pulse">
          <div class="w-2.5 h-2.5 bg-white rounded-full"></div>
        </div>`,iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]}),tT=Rs.divIcon({className:"custom-active-pin",html:`<div class="flex flex-col items-center">
          <div class="w-14 h-14 bg-indigo-600 border-[3px] border-white rounded-full shadow-2xl flex items-center justify-center ring-8 ring-indigo-600/20">
            <div class="w-4 h-4 bg-white rounded-full"></div>
          </div>
          <div class="w-1.5 h-4 bg-indigo-600 -mt-1 shadow-lg rounded-full"></div>
        </div>`,iconSize:[56,68],iconAnchor:[28,68],popupAnchor:[0,-68]}),eT=Rs.divIcon({className:"user-location-marker",html:`<div class="relative flex items-center justify-center">
          <div class="absolute w-12 h-12 bg-blue-500 rounded-full animate-ping opacity-20"></div>
          <div class="w-6 h-6 bg-blue-600 rounded-full border-2 border-white shadow-2xl"></div>
        </div>`,iconSize:[48,48],iconAnchor:[24,24]}),nT=({onClick:i,selectionMode:e,disabled:o})=>(YS({click(r){if(e||o)return;const l=r.originalEvent.target;l.closest(".leaflet-control")||l.closest(".leaflet-marker-icon")||l.closest(".leaflet-popup-content-wrapper")||i(r.latlng.lat,r.latlng.lng)}}),null),iT=({selectedPole:i,forceCenter:e,isSelectionMode:o})=>{const r=q_();return bt.useEffect(()=>{i&&i.latitude&&i.longitude&&r.flyTo([i.latitude,i.longitude],19,{duration:1.5})},[i,r]),bt.useEffect(()=>{e&&e.lat&&e.lng&&r.flyTo([e.lat,e.lng],18,{duration:1.2})},[e,r]),bt.useEffect(()=>{o?(r.dragging.disable(),r.touchZoom.disable(),r.doubleClickZoom.disable(),r.scrollWheelZoom.disable()):(r.dragging.enable(),r.touchZoom.enable(),r.doubleClickZoom.enable(),r.scrollWheelZoom.enable())},[o,r]),null},oT=({pole:i,isSelected:e,isMulti:o,onPoleUpdate:r,onPolesDelete:l,multiSelectedIds:f,setIsDragging:h,handleBinCheck:m,handleGroupDrag:y})=>{const _=bt.useRef(null);return P.jsx(V_,{position:[i.latitude,i.longitude],icon:e?tT:o?jS:$S,draggable:!0,zIndexOffset:e?5e3:o?2e3:1e3,eventHandlers:{dragstart:T=>{h(!0),_.current=T.target.getLatLng()},drag:T=>{const w=T.target.getLatLng();if(m(w),o&&_.current){const C=w.lat-_.current.lat,k=w.lng-_.current.lng;y(i.id,C,k,!1)}},dragend:T=>{const w=T.target.getLatLng();m(w)?l(o?f:[i.id]):o&&_.current?y(i.id,w.lat-_.current.lat,w.lng-_.current.lng,!0):r(i.id,{latitude:w.lat,longitude:w.lng}),h(!1),_.current=null}},children:P.jsx(WS,{permanent:!0,direction:"top",offset:e?[0,-64]:[0,-14],className:"custom-pole-label",children:i.name})})},sT=({poles:i,onMapClick:e,onPoleUpdate:o,onMultiplePoleUpdate:r,onPolesDelete:l,selectedPoleId:f,userLocation:h,isActive:m})=>{const[y,_]=bt.useState(!1),[T,E]=bt.useState([]),[w,C]=bt.useState(null),[k,M]=bt.useState(!1),[I,D]=bt.useState(!1),[B,H]=bt.useState(null),Y=bt.useRef(null);bt.useEffect(()=>{m||(_(!1),E([]))},[m]),bt.useEffect(()=>{B&&setTimeout(()=>{B.invalidateSize()},100)},[B,m]);const[V,j]=bt.useState(null),[K,pt]=bt.useState(null),[W,yt]=bt.useState({}),Mt=bt.useMemo(()=>i.find(lt=>lt.id===f),[i,f]),F=lt=>{if(!y)return;const mt=lt.currentTarget.getBoundingClientRect(),z=lt.clientX-mt.left,G=lt.clientY-mt.top;j({x:z,y:G}),pt({x:z,y:G}),lt.target.setPointerCapture(lt.pointerId)},st=lt=>{if(!V)return;const mt=lt.currentTarget.getBoundingClientRect();pt({x:lt.clientX-mt.left,y:lt.clientY-mt.top})},R=lt=>{if(!V||!K||!B){j(null),pt(null);return}const mt=B.containerPointToLatLng(Rs.point(V.x,V.y)),z=B.containerPointToLatLng(Rs.point(K.x,K.y)),G=Rs.latLngBounds(mt,z),ct=i.filter(ot=>G.contains([ot.latitude,ot.longitude])).map(ot=>ot.id);E(ct),j(null),pt(null),_(!1)},St=bt.useCallback((lt,mt,z,G)=>{if(T.length!==0)if(G){const ct=T.map(ot=>{const at=i.find(Rt=>Rt.id===ot);return at?{id:ot,updates:{latitude:at.latitude+mt,longitude:at.longitude+z}}:null}).filter(ot=>ot!==null);r(ct),yt({})}else{const ct={};T.forEach(ot=>{ot!==lt&&(ct[ot]={lat:mt,lng:z})}),yt(ct)}},[T,i,r]),Q=bt.useCallback(lt=>{if(!B||!Y.current)return!1;const mt=Y.current.getBoundingClientRect(),z=B.latLngToContainerPoint(lt),G=B.getContainer().getBoundingClientRect(),ct=z.x+G.left,ot=z.y+G.top,at=ct>=mt.left&&ct<=mt.right&&ot>=mt.top&&ot<=mt.bottom;return D(at),at},[B]),tt=bt.useMemo(()=>i.map(lt=>{const mt=W[lt.id];return mt?{...lt,latitude:lt.latitude+mt.lat,longitude:lt.longitude+mt.lng}:lt}),[i,W]),gt=bt.useMemo(()=>{if(!V||!K)return null;const lt=Math.min(V.x,K.x),mt=Math.min(V.y,K.y),z=Math.abs(V.x-K.x),G=Math.abs(V.y-K.y);return{left:lt,top:mt,width:z,height:G}},[V,K]);return P.jsxs("div",{className:`w-full h-full relative overflow-hidden ${m?"":"pointer-events-none grayscale-[0.5] opacity-50"}`,children:[P.jsxs(KS,{center:[14.5995,120.9842],zoom:12,zoomControl:!1,ref:H,className:"h-full w-full",children:[P.jsx(XS,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:20,attribution:" OpenStreetMap contributors"}),P.jsx(QS,{position:"bottomright"}),P.jsx(nT,{onClick:e,selectionMode:y,disabled:!m}),P.jsx(iT,{selectedPole:Mt,forceCenter:w,isSelectionMode:y}),h&&m&&P.jsx(V_,{position:[h.lat,h.lng],icon:eT,zIndexOffset:500}),tt.map(lt=>P.jsx(oT,{pole:lt,isSelected:f===lt.id,isMulti:T.includes(lt.id),onPoleUpdate:o,onPolesDelete:l,multiSelectedIds:T,setIsDragging:M,handleBinCheck:Q,handleGroupDrag:St},lt.id))]}),m&&P.jsxs(P.Fragment,{children:[y&&P.jsx("div",{className:"absolute inset-0 z-[1500] cursor-crosshair touch-none bg-indigo-500/5",onPointerDown:F,onPointerMove:st,onPointerUp:R,children:gt&&P.jsx("div",{className:"absolute border-2 border-indigo-600 bg-indigo-600/10 border-dashed",style:{left:gt.left,top:gt.top,width:gt.width,height:gt.height}})}),P.jsxs("div",{className:"absolute top-8 right-6 z-[1600] flex flex-col gap-4",children:[P.jsx("button",{onClick:()=>{const lt=!y;_(lt),lt&&E([])},className:`w-14 h-14 rounded-2xl shadow-xl border transition-all flex items-center justify-center btn-active
                ${y?"bg-indigo-600 border-indigo-500 text-white":"bg-white border-slate-100 text-slate-600"}
              `,children:y?P.jsx(ba,{className:"w-7 h-7"}):P.jsx(yS,{className:"w-7 h-7"})}),P.jsx("button",{onClick:()=>{C(h),setTimeout(()=>C(null),100)},className:"w-14 h-14 bg-white text-slate-600 rounded-2xl shadow-xl border border-slate-100 flex items-center justify-center btn-active",children:P.jsx(Py,{className:`w-7 h-7 ${h?"text-indigo-600":"text-slate-300"}`})})]}),T.length>1&&!y&&P.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 z-[1600] animate-slide-up w-full px-10 max-w-md",children:P.jsxs("div",{className:"bg-slate-900 p-4 rounded-[32px] border border-white/10 shadow-2xl flex items-center justify-between",children:[P.jsxs("div",{className:"flex flex-col ml-2",children:[P.jsxs("span",{className:"text-[11px] font-black text-white uppercase tracking-widest",children:[T.length," Poles"]}),P.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Batch Selection"})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{onClick:()=>E([]),className:"px-4 py-2 bg-white/5 text-white/50 rounded-xl text-[9px] font-black uppercase tracking-widest border border-white/5",children:"Cancel"}),P.jsxs("button",{onClick:()=>{l(T),E([])},className:"flex items-center gap-2 px-5 py-3 bg-rose-600 text-white rounded-2xl font-black text-[9px] uppercase tracking-widest shadow-lg btn-active",children:[P.jsx(ad,{className:"w-3 h-3"}),"Wipe"]})]})]})}),P.jsxs("div",{ref:Y,className:`absolute bottom-24 left-1/2 -translate-x-1/2 z-[1700] transition-all duration-300 pointer-events-none w-32 h-32 rounded-full border-4 flex flex-col items-center justify-center
              ${k?"opacity-100 translate-y-0":"opacity-0 translate-y-12"}
              ${I?"bg-red-600 border-red-400 scale-125 shadow-2xl":"bg-slate-900/90 border-white/20 scale-100"}
            `,children:[P.jsx(ad,{className:`w-10 h-10 ${I?"text-white":"text-red-400"}`}),P.jsx("span",{className:`text-[8px] font-black uppercase mt-1 ${I?"text-white":"text-slate-400"}`,children:"Drop to Delete"})]})]})]})},aT=(i,e,o,r)=>{const f=i*Math.PI/180,h=o*Math.PI/180,m=(o-i)*Math.PI/180,y=(r-e)*Math.PI/180,_=Math.sin(m/2)*Math.sin(m/2)+Math.cos(f)*Math.cos(h)*Math.sin(y/2)*Math.sin(y/2);return 6371e3*(2*Math.atan2(Math.sqrt(_),Math.sqrt(1-_)))},Fm=(i,e)=>{let o=i.width,r=i.height;return o>r?o>e&&(r*=e/o,o=e):r>e&&(o*=e/r,r=e),{width:o,height:r}},rT=async(i,e)=>{try{const l=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${i}&lon=${e}&format=json&accept-language=en`)).json()).address||{};return{barangay:l.suburb||l.neighbourhood||l.village||l.quarter||"N/A",city:l.city||l.town||l.municipality||"FIELD SITE",province:l.state||l.province||l.county||"LOCAL AREA",region:l.region||l["ISO3166-2-lvl4"]||"OSP REGION"}}catch{return{barangay:"FIELD CAPTURE",city:"GPS DATA",province:"SURVEY UNIT",region:"OSP SECTOR"}}},lT=async(i,e,o=18)=>{const r=Math.pow(2,o),l=(e+180)/360*r,f=i*Math.PI/180,h=(1-Math.log(Math.tan(f)+1/Math.cos(f))/Math.PI)/2*r,m=Math.floor(l),y=Math.floor(h),_=(l-m)*256,T=(h-y)*256,E=`https://tile.openstreetmap.org/${o}/${m}/${y}.png`;return new Promise(w=>{const C=new Image;C.crossOrigin="anonymous",C.onload=()=>w({img:C,pinX:_,pinY:T}),C.onerror=()=>w(null),C.src=E})},uT=i=>{const e=new Date(i);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${e.getDate()}, ${e.getFullYear()} ${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`},cT=async(i,e,o,r="FIELD OPERATIONS",l,f)=>{const h=await rT(e.latitude,e.longitude);let m="COORDINATE MATCH",y="white";if(l&&f){const _=aT(e.latitude,e.longitude,l,f);_<=2e3?(m=`VERIFIED: ${_<1e3?`${_.toFixed(1)}m`:`${(_/1e3).toFixed(2)}km`} FROM PIN`,y="#10b981"):(m=`OUT OF RANGE: ${(_/1e3).toFixed(1)}km OFFSET`,y="#ef4444")}return new Promise(async(_,T)=>{const E=new Image;E.crossOrigin="anonymous",E.onload=async()=>{try{const w=document.createElement("canvas"),C=w.getContext("2d");if(!C)return T(new Error("Canvas error"));const{width:k,height:M}=Fm(E,2048);w.width=k,w.height=M,C.drawImage(E,0,0,k,M);const I=w.width*.03,D=Math.max(22,Math.floor(w.width/52)),B=w.width*.94,H=w.width*.52,Y=(w.width-B)/2,V=w.height-H-I;C.save(),C.fillStyle="rgba(0, 0, 0, 0.85)",C.beginPath(),C.roundRect(Y,V,B,H,24),C.fill(),C.strokeStyle="rgba(255, 255, 255, 0.25)",C.lineWidth=2,C.stroke(),C.restore();const j=H*.08,K=H-j*2.5,pt=Y+j,W=V+j,yt=await lT(e.latitude,e.longitude);if(yt){C.save(),C.beginPath(),C.roundRect(pt,W,K,K,16),C.clip(),C.drawImage(yt.img,pt,W,K,K),C.strokeStyle="rgba(255,255,255,0.9)",C.lineWidth=3,C.strokeRect(pt,W,K,K);const G=K/256,ct=pt+yt.pinX*G,ot=W+yt.pinY*G;C.shadowBlur=12,C.shadowColor="#ef4444",C.fillStyle="#ef4444",C.beginPath(),C.arc(ct,ot,D*.6,0,Math.PI*2),C.fill(),C.strokeStyle="white",C.lineWidth=4,C.stroke(),C.restore()}const Mt=pt+K+j*2.2;C.save(),C.textBaseline="top";const F=[{label:"TIMESTAMP",value:uT(e.timestamp)},{label:"COMPANY",value:r.toUpperCase()},{label:"PROJECT",value:o.toUpperCase()},{label:"POLE REF",value:e.name.toUpperCase()},{label:"LAT/LONG",value:`${e.latitude.toFixed(8)}, ${e.longitude.toFixed(8)}`},{label:"GPS VERIFY",value:m,color:y},{label:"BARANGAY",value:h.barangay.toUpperCase()},{label:"CITY/TOWN",value:h.city.toUpperCase()},{label:"PROVINCE",value:h.province.toUpperCase()},{label:"REGION",value:h.region.toUpperCase()}],st=(H-j*2)/F.length;let R=V+j;C.font=`900 ${D*.5}px 'JetBrains Mono', monospace`;const St=C.measureText("CITY/TOWN").width+D*1.5;F.forEach(G=>{C.font=`900 ${D*.45}px 'JetBrains Mono', monospace`,C.fillStyle="rgba(255,255,255,0.4)",C.fillText(G.label,Mt,R+D*.2),C.font=`800 ${D*.72}px sans-serif`,C.fillStyle=G.color||"white",C.fillText(G.value,Mt+St,R),R+=st}),C.restore();const Q=w.toDataURL("image/jpeg",.9),tt=document.createElement("canvas"),gt=tt.getContext("2d"),{width:lt,height:mt}=Fm(E,120);tt.width=lt,tt.height=mt,gt==null||gt.drawImage(E,0,0,lt,mt);const z=tt.toDataURL("image/jpeg",.6);_({processed:Q,thumbnail:z})}catch(w){T(w)}},E.onerror=()=>T(new Error("Image load failure")),E.src=i})},fT="OSP_Survey_Pro_DB",Aa="project_state",Ma="image_assets",Na="app_config",dT=3,F_=async()=>{if(navigator.storage&&navigator.storage.estimate){const i=await navigator.storage.estimate(),e=i.quota||0,o=i.usage||0;return{quota:e,usage:o,percent:e>0?o/e*100:0}}return{quota:0,usage:0,percent:0}},hT=async()=>navigator.storage&&navigator.storage.persist?await navigator.storage.persist():!1,Ia=()=>new Promise((i,e)=>{const o=indexedDB.open(fT,dT);o.onupgradeneeded=r=>{const l=r.target.result;l.objectStoreNames.contains(Aa)||l.createObjectStore(Aa),l.objectStoreNames.contains(Ma)||l.createObjectStore(Ma),l.objectStoreNames.contains(Na)||l.createObjectStore(Na)},o.onsuccess=()=>i(o.result),o.onerror=()=>e(o.error)}),Zm=async(i,e)=>{const o=await Ia();return new Promise((r,l)=>{const m=o.transaction(Aa,"readwrite").objectStore(Aa).put(e,i);m.onsuccess=()=>r(),m.onerror=()=>l(m.error)})},pT=async i=>{const e=await Ia();return new Promise((o,r)=>{const h=e.transaction(Aa,"readonly").objectStore(Aa).get(i);h.onsuccess=()=>o(h.result||null),h.onerror=()=>r(h.error)})},mT=async(i,e)=>{const o=await Ia();return new Promise((r,l)=>{const m=o.transaction(Ma,"readwrite").objectStore(Ma).put(e,i);m.onsuccess=()=>r(),m.onerror=()=>l(m.error)})},ku=async i=>{const e=await Ia();return new Promise((o,r)=>{const h=e.transaction(Ma,"readonly").objectStore(Ma).get(i);h.onsuccess=()=>o(h.result||null),h.onerror=()=>r(h.error)})},Zu=async(i,e)=>{const o=await Ia();return new Promise((r,l)=>{const m=o.transaction(Na,"readwrite").objectStore(Na).put(e,i);m.onsuccess=()=>r(),m.onerror=()=>l(m.error)})},Cd=async i=>{const e=await Ia();return new Promise((o,r)=>{const h=e.transaction(Na,"readonly").objectStore(Na).get(i);h.onsuccess=()=>o(h.result||null),h.onerror=()=>r(h.error)})};var gT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _T,vT;function yT(){return{geminiUrl:_T,vertexUrl:vT}}function ST(i,e,o,r){var l,f;if(!(i!=null&&i.baseUrl)){const h=yT();return e?(l=h.vertexUrl)!==null&&l!==void 0?l:o:(f=h.geminiUrl)!==null&&f!==void 0?f:r}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class so{}function zt(i,e){const o=/\{([^}]+)\}/g;return i.replace(o,(r,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const f=e[l];return f!=null?String(f):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function p(i,e,o){for(let f=0;f<e.length-1;f++){const h=e[f];if(h.endsWith("[]")){const m=h.slice(0,-2);if(!(m in i))if(Array.isArray(o))i[m]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(i[m])){const y=i[m];if(Array.isArray(o))for(let _=0;_<y.length;_++){const T=y[_];p(T,e.slice(f+1),o[_])}else for(const _ of y)p(_,e.slice(f+1),o)}return}else if(h.endsWith("[0]")){const m=h.slice(0,-3);m in i||(i[m]=[{}]);const y=i[m];p(y[0],e.slice(f+1),o);return}(!i[h]||typeof i[h]!="object")&&(i[h]={}),i=i[h]}const r=e[e.length-1],l=i[r];if(l!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===l)return;if(typeof l=="object"&&typeof o=="object"&&l!==null&&o!==null)Object.assign(l,o);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[r]=o}function d(i,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let r=0;r<e.length;r++){if(typeof i!="object"||i===null)return o;const l=e[r];if(l.endsWith("[]")){const f=l.slice(0,-2);if(f in i){const h=i[f];return Array.isArray(h)?h.map(m=>d(m,e.slice(r+1),o)):o}else return o}else i=i[l]}return i}catch(r){if(r instanceof TypeError)return o;throw r}}function TT(i,e){for(const[o,r]of Object.entries(e)){const l=o.split("."),f=r.split("."),h=new Set;let m=-1;for(let y=0;y<l.length;y++)if(l[y]==="*"){m=y;break}if(m!==-1&&f.length>m)for(let y=m;y<f.length;y++){const _=f[y];_!=="*"&&!_.endsWith("[]")&&!_.endsWith("[0]")&&h.add(_)}rd(i,l,f,0,h)}}function rd(i,e,o,r,l){if(r>=e.length||typeof i!="object"||i===null)return;const f=e[r];if(f.endsWith("[]")){const h=f.slice(0,-2),m=i;if(h in m&&Array.isArray(m[h]))for(const y of m[h])rd(y,e,o,r+1,l)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const h=i,m=Object.keys(h).filter(_=>!_.startsWith("_")&&!l.has(_)),y={};for(const _ of m)y[_]=h[_];for(const[_,T]of Object.entries(y)){const E=[];for(const w of o.slice(r))w==="*"?E.push(_):E.push(w);p(h,E,T)}for(const _ of m)delete h[_]}}else{const h=i;f in h&&rd(h[f],e,o,r+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bd(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xT(i){const e={},o=d(i,["operationName"]);o!=null&&p(e,["operationName"],o);const r=d(i,["resourceName"]);return r!=null&&p(e,["_url","resourceName"],r),e}function ET(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata"]);r!=null&&p(e,["metadata"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["response","generateVideoResponse"]);return h!=null&&p(e,["response"],CT(h)),e}function wT(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata"]);r!=null&&p(e,["metadata"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["response"]);return h!=null&&p(e,["response"],bT(h)),e}function CT(i){const e={},o=d(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>AT(h))),p(e,["generatedVideos"],f)}const r=d(i,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=d(i,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function bT(i){const e={},o=d(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>MT(h))),p(e,["generatedVideos"],f)}const r=d(i,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=d(i,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function AT(i){const e={},o=d(i,["video"]);return o!=null&&p(e,["video"],DT(o)),e}function MT(i){const e={},o=d(i,["_self"]);return o!=null&&p(e,["video"],PT(o)),e}function NT(i){const e={},o=d(i,["operationName"]);return o!=null&&p(e,["_url","operationName"],o),e}function RT(i){const e={},o=d(i,["operationName"]);return o!=null&&p(e,["_url","operationName"],o),e}function IT(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata"]);r!=null&&p(e,["metadata"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["response"]);return h!=null&&p(e,["response"],kT(h)),e}function kT(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["parent"]);r!=null&&p(e,["parent"],r);const l=d(i,["documentName"]);return l!=null&&p(e,["documentName"],l),e}function Z_(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata"]);r!=null&&p(e,["metadata"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["response"]);return h!=null&&p(e,["response"],LT(h)),e}function LT(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["parent"]);r!=null&&p(e,["parent"],r);const l=d(i,["documentName"]);return l!=null&&p(e,["documentName"],l),e}function DT(i){const e={},o=d(i,["uri"]);o!=null&&p(e,["uri"],o);const r=d(i,["encodedVideo"]);r!=null&&p(e,["videoBytes"],bd(r));const l=d(i,["encoding"]);return l!=null&&p(e,["mimeType"],l),e}function PT(i){const e={},o=d(i,["gcsUri"]);o!=null&&p(e,["uri"],o);const r=d(i,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],bd(r));const l=d(i,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ym;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ym||(Ym={}));var Jm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Jm||(Jm={}));var Km;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Km||(Km={}));var Zo;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Zo||(Zo={}));var Xm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Xm||(Xm={}));var Wm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Wm||(Wm={}));var Qm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Qm||(Qm={}));var $m;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($m||($m={}));var jm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(jm||(jm={}));var tg;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(tg||(tg={}));var eg;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(eg||(eg={}));var ng;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(ng||(ng={}));var ig;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ig||(ig={}));var og;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(og||(og={}));var sg;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(sg||(sg={}));var ag;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ag||(ag={}));var rg;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(rg||(rg={}));var lg;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(lg||(lg={}));var ug;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ug||(ug={}));var Lu;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Lu||(Lu={}));var cg;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cg||(cg={}));var fg;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fg||(fg={}));var dg;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dg||(dg={}));var ld;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ld||(ld={}));var hg;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(hg||(hg={}));var pg;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(pg||(pg={}));var mg;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(mg||(mg={}));var gg;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(gg||(gg={}));var _g;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(_g||(_g={}));var vg;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(vg||(vg={}));var yg;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(yg||(yg={}));var Sg;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Sg||(Sg={}));var Tg;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Tg||(Tg={}));var xg;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(xg||(xg={}));var Eg;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Eg||(Eg={}));var wg;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(wg||(wg={}));var Cg;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Cg||(Cg={}));var bg;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bg||(bg={}));var Ag;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ag||(Ag={}));var Mg;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Mg||(Mg={}));var Ng;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Ng||(Ng={}));var Rg;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Rg||(Rg={}));var Ig;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ig||(Ig={}));var kg;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(kg||(kg={}));var Lg;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Lg||(Lg={}));var Dg;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Dg||(Dg={}));var Pg;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Pg||(Pg={}));var zg;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(zg||(zg={}));var Ug;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ug||(Ug={}));var Og;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Og||(Og={}));var Bg;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bg||(Bg={}));var Hg;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Hg||(Hg={}));var Gg;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Gg||(Gg={}));var qg;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qg||(qg={}));var Vg;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Vg||(Vg={}));var Ta;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Ta||(Ta={}));class ud{constructor(e){const o={};for(const r of e.headers.entries())o[r[0]]=r[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gr{get text(){var e,o,r,l,f,h,m,y;if(((l=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let _="",T=!1;const E=[];for(const w of(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[C,k]of Object.entries(w))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(k!==null||k!==void 0)&&E.push(C);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;T=!0,_+=w.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),T?_:void 0}get data(){var e,o,r,l,f,h,m,y;if(((l=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let _="";const T=[];for(const E of(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[w,C]of Object.entries(E))w!=="inlineData"&&(C!==null||C!==void 0)&&T.push(w);E.inlineData&&typeof E.inlineData.data=="string"&&(_+=atob(E.inlineData.data))}return T.length>0&&console.warn(`there are non-data parts ${T} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),_.length>0?btoa(_):void 0}get functionCalls(){var e,o,r,l,f,h,m,y;if(((l=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const _=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(T=>T.functionCall).map(T=>T.functionCall).filter(T=>T!==void 0);if((_==null?void 0:_.length)!==0)return _}get executableCode(){var e,o,r,l,f,h,m,y,_;if(((l=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const T=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((T==null?void 0:T.length)!==0)return(_=T==null?void 0:T[0])===null||_===void 0?void 0:_.code}get codeExecutionResult(){var e,o,r,l,f,h,m,y,_;if(((l=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const T=(y=(m=(h=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((T==null?void 0:T.length)!==0)return(_=T==null?void 0:T[0])===null||_===void 0?void 0:_.output}}class Fg{}class Zg{}class zT{}class UT{}class OT{}class BT{}class Yg{}class Jg{}class Kg{}class HT{}class Du{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const r=new Du;let l;const f=e;return o?l=wT(f):l=ET(f),Object.assign(r,l),r}}class Xg{}class Wg{}class Qg{}class $g{}class GT{}class qT{}class VT{}class Ad{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const r=new Ad,f=IT(e);return Object.assign(r,f),r}}class FT{}class ZT{}class YT{}class jg{}class JT{get text(){var e,o,r;let l="",f=!1;const h=[];for(const m of(r=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[y,_]of Object.entries(m))y!=="text"&&y!=="thought"&&_!==null&&h.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,l+=m.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?l:void 0}get data(){var e,o,r;let l="";const f=[];for(const h of(r=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[m,y]of Object.entries(h))m!=="inlineData"&&y!==null&&f.push(m);h.inlineData&&typeof h.inlineData.data=="string"&&(l+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class KT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Md{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const r=new Md,f=Z_(e);return Object.assign(r,f),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ge(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Y_(i,e){const o=ge(i,e);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function J_(i){return Array.isArray(i)?i.map(e=>Pu(e)):[Pu(i)]}function Pu(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function K_(i){const e=Pu(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function X_(i){const e=Pu(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function t_(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function W_(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>t_(e)):[t_(i)]}function cd(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function e_(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function n_(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function fn(i){if(i==null)throw new Error("ContentUnion is required");return cd(i)?i:{role:"user",parts:W_(i)}}function Nd(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const r=fn(o);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(i.isVertexAI()){const o=fn(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>fn(o)):[fn(e)]}function jn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(e_(i)||n_(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fn(i)]}const e=[],o=[],r=cd(i[0]);for(const l of i){const f=cd(l);if(f!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(l);else{if(e_(l)||n_(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(l)}}return r||e.push({role:"user",parts:W_(o)}),e}function XT(i,e){i.includes("null")&&(e.nullable=!0);const o=i.filter(r=>r!=="null");if(o.length===1)e.type=Object.values(Zo).includes(o[0].toUpperCase())?o[0].toUpperCase():Zo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of o)e.anyOf.push({type:Object.values(Zo).includes(r.toUpperCase())?r.toUpperCase():Zo.TYPE_UNSPECIFIED})}}function wa(i){const e={},o=["items"],r=["anyOf"],l=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,i=f[1]):f[1].type==="null"&&(e.nullable=!0,i=f[0])),i.type instanceof Array&&XT(i.type,e);for(const[h,m]of Object.entries(i))if(m!=null)if(h=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;e.type=Object.values(Zo).includes(m.toUpperCase())?m.toUpperCase():Zo.TYPE_UNSPECIFIED}else if(o.includes(h))e[h]=wa(m);else if(r.includes(h)){const y=[];for(const _ of m){if(_.type=="null"){e.nullable=!0;continue}y.push(wa(_))}e[h]=y}else if(l.includes(h)){const y={};for(const[_,T]of Object.entries(m))y[_]=wa(T);e[h]=y}else{if(h==="additionalProperties")continue;e[h]=m}return e}function Rd(i){return wa(i)}function Id(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function kd(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function ka(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=wa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=wa(e.response));return i}function La(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of i)e.push(o);return e}function WT(i,e,o,r=1){const l=!e.startsWith(`${o}/`)&&e.split("/").length===r;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:l?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${e}`:e:l?`${o}/${e}`:e}function ao(i,e){if(typeof e!="string")throw new Error("name must be a string");return WT(i,e,"cachedContents")}function Q_(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Yo(i){return bd(i)}function QT(i){return i!=null&&typeof i=="object"&&"name"in i}function $T(i){return i!=null&&typeof i=="object"&&"video"in i}function jT(i){return i!=null&&typeof i=="object"&&"uri"in i}function $_(i){var e;let o;if(QT(i)&&(o=i.name),!(jT(i)&&(o=i.uri,o===void 0))&&!($T(i)&&(o=(e=i.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const l=o.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${o}`);o=l[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function j_(i,e){let o;return i.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function tv(i){for(const e of["models","tunedModels","publisherModels"])if(t1(i,e))return i[e];return[]}function t1(i,e){return i!==null&&typeof i=="object"&&e in i}function e1(i,e={}){const o=i,r={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(r.responseJsonSchema=o.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function n1(i,e={}){const o=[],r=new Set;for(const l of i){const f=l.name;if(r.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);r.add(f);const h=e1(l,e);h.functionDeclarations&&o.push(...h.functionDeclarations)}return{functionDeclarations:o}}function ev(i,e){let o;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const r=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,l=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(l>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function i1(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function nv(i){if(typeof i!="object"||i===null)return{};const e=i,o=e.inlinedResponses;if(typeof o!="object"||o===null)return i;const l=o.inlinedResponses;if(!Array.isArray(l)||l.length===0)return i;let f=!1;for(const h of l){if(typeof h!="object"||h===null)continue;const y=h.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function Da(i,e){const o=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function iv(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o1(i){const e={},o=d(i,["responsesFile"]);o!=null&&p(e,["fileName"],o);const r=d(i,["inlinedResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>O1(h))),p(e,["inlinedResponses"],f)}const l=d(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["inlinedEmbedContentResponses"],f)}return e}function s1(i){const e={},o=d(i,["predictionsFormat"]);o!=null&&p(e,["format"],o);const r=d(i,["gcsDestination","outputUriPrefix"]);r!=null&&p(e,["gcsUri"],r);const l=d(i,["bigqueryDestination","outputUri"]);return l!=null&&p(e,["bigqueryUri"],l),e}function a1(i){const e={},o=d(i,["format"]);o!=null&&p(e,["predictionsFormat"],o);const r=d(i,["gcsUri"]);r!=null&&p(e,["gcsDestination","outputUriPrefix"],r);const l=d(i,["bigqueryUri"]);if(l!=null&&p(e,["bigqueryDestination","outputUri"],l),d(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Mu(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata","displayName"]);r!=null&&p(e,["displayName"],r);const l=d(i,["metadata","state"]);l!=null&&p(e,["state"],iv(l));const f=d(i,["metadata","createTime"]);f!=null&&p(e,["createTime"],f);const h=d(i,["metadata","endTime"]);h!=null&&p(e,["endTime"],h);const m=d(i,["metadata","updateTime"]);m!=null&&p(e,["updateTime"],m);const y=d(i,["metadata","model"]);y!=null&&p(e,["model"],y);const _=d(i,["metadata","output"]);return _!=null&&p(e,["dest"],o1(nv(_))),e}function fd(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["displayName"]);r!=null&&p(e,["displayName"],r);const l=d(i,["state"]);l!=null&&p(e,["state"],iv(l));const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["createTime"]);h!=null&&p(e,["createTime"],h);const m=d(i,["startTime"]);m!=null&&p(e,["startTime"],m);const y=d(i,["endTime"]);y!=null&&p(e,["endTime"],y);const _=d(i,["updateTime"]);_!=null&&p(e,["updateTime"],_);const T=d(i,["model"]);T!=null&&p(e,["model"],T);const E=d(i,["inputConfig"]);E!=null&&p(e,["src"],r1(E));const w=d(i,["outputConfig"]);w!=null&&p(e,["dest"],s1(nv(w)));const C=d(i,["completionStats"]);return C!=null&&p(e,["completionStats"],C),e}function r1(i){const e={},o=d(i,["instancesFormat"]);o!=null&&p(e,["format"],o);const r=d(i,["gcsSource","uris"]);r!=null&&p(e,["gcsUri"],r);const l=d(i,["bigquerySource","inputUri"]);return l!=null&&p(e,["bigqueryUri"],l),e}function l1(i,e){const o={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&p(o,["fileName"],r);const l=d(e,["inlinedRequests"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>U1(i,h))),p(o,["requests","requests"],f)}return o}function u1(i){const e={},o=d(i,["format"]);o!=null&&p(e,["instancesFormat"],o);const r=d(i,["gcsUri"]);r!=null&&p(e,["gcsSource","uris"],r);const l=d(i,["bigqueryUri"]);if(l!=null&&p(e,["bigquerySource","inputUri"],l),d(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function c1(i){const e={},o=d(i,["data"]);if(o!=null&&p(e,["data"],o),d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function f1(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],Da(i,r)),o}function d1(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],Da(i,r)),o}function h1(i){const e={},o=d(i,["content"]);o!=null&&p(e,["content"],o);const r=d(i,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],p1(r));const l=d(i,["tokenCount"]);l!=null&&p(e,["tokenCount"],l);const f=d(i,["finishReason"]);f!=null&&p(e,["finishReason"],f);const h=d(i,["avgLogprobs"]);h!=null&&p(e,["avgLogprobs"],h);const m=d(i,["groundingMetadata"]);m!=null&&p(e,["groundingMetadata"],m);const y=d(i,["index"]);y!=null&&p(e,["index"],y);const _=d(i,["logprobsResult"]);_!=null&&p(e,["logprobsResult"],_);const T=d(i,["safetyRatings"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(C=>C)),p(e,["safetyRatings"],w)}const E=d(i,["urlContextMetadata"]);return E!=null&&p(e,["urlContextMetadata"],E),e}function p1(i){const e={},o=d(i,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),p(e,["citations"],r)}return e}function ov(i){const e={},o=d(i,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>Z1(f))),p(e,["parts"],l)}const r=d(i,["role"]);return r!=null&&p(e,["role"],r),e}function m1(i,e){const o={},r=d(i,["displayName"]);if(e!==void 0&&r!=null&&p(e,["batch","displayName"],r),d(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function g1(i,e){const o={},r=d(i,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const l=d(i,["dest"]);return e!==void 0&&l!=null&&p(e,["outputConfig"],a1(i1(l))),o}function i_(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["src"]);l!=null&&p(o,["batch","inputConfig"],l1(i,ev(i,l)));const f=d(e,["config"]);return f!=null&&m1(f,o),o}function _1(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["model"],ge(i,r));const l=d(e,["src"]);l!=null&&p(o,["inputConfig"],u1(ev(i,l)));const f=d(e,["config"]);return f!=null&&g1(f,o),o}function v1(i,e){const o={},r=d(i,["displayName"]);return e!==void 0&&r!=null&&p(e,["batch","displayName"],r),o}function y1(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["src"]);l!=null&&p(o,["batch","inputConfig"],b1(i,l));const f=d(e,["config"]);return f!=null&&v1(f,o),o}function S1(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],Da(i,r)),o}function T1(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],Da(i,r)),o}function x1(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["name"]);r!=null&&p(e,["name"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);return f!=null&&p(e,["error"],f),e}function E1(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["name"]);r!=null&&p(e,["name"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);return f!=null&&p(e,["error"],f),e}function w1(i,e){const o={},r=d(e,["contents"]);if(r!=null){let f=Nd(i,r);Array.isArray(f)&&(f=f.map(h=>h)),p(o,["requests[]","request","content"],f)}const l=d(e,["config"]);return l!=null&&(p(o,["_self"],C1(l,o)),TT(o,{"requests[].*":"requests[].request.*"})),o}function C1(i,e){const o={},r=d(i,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const l=d(i,["title"]);e!==void 0&&l!=null&&p(e,["requests[]","title"],l);const f=d(i,["outputDimensionality"]);if(e!==void 0&&f!=null&&p(e,["requests[]","outputDimensionality"],f),d(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function b1(i,e){const o={},r=d(e,["fileName"]);r!=null&&p(o,["file_name"],r);const l=d(e,["inlinedRequests"]);return l!=null&&p(o,["requests"],w1(i,l)),o}function A1(i){const e={};if(d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(i,["fileUri"]);o!=null&&p(e,["fileUri"],o);const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function M1(i){const e={},o=d(i,["id"]);o!=null&&p(e,["id"],o);const r=d(i,["args"]);r!=null&&p(e,["args"],r);const l=d(i,["name"]);if(l!=null&&p(e,["name"],l),d(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function N1(i){const e={},o=d(i,["mode"]);o!=null&&p(e,["mode"],o);const r=d(i,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function R1(i,e,o){const r={},l=d(e,["systemInstruction"]);o!==void 0&&l!=null&&p(o,["systemInstruction"],ov(fn(l)));const f=d(e,["temperature"]);f!=null&&p(r,["temperature"],f);const h=d(e,["topP"]);h!=null&&p(r,["topP"],h);const m=d(e,["topK"]);m!=null&&p(r,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(r,["candidateCount"],y);const _=d(e,["maxOutputTokens"]);_!=null&&p(r,["maxOutputTokens"],_);const T=d(e,["stopSequences"]);T!=null&&p(r,["stopSequences"],T);const E=d(e,["responseLogprobs"]);E!=null&&p(r,["responseLogprobs"],E);const w=d(e,["logprobs"]);w!=null&&p(r,["logprobs"],w);const C=d(e,["presencePenalty"]);C!=null&&p(r,["presencePenalty"],C);const k=d(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const M=d(e,["seed"]);M!=null&&p(r,["seed"],M);const I=d(e,["responseMimeType"]);I!=null&&p(r,["responseMimeType"],I);const D=d(e,["responseSchema"]);D!=null&&p(r,["responseSchema"],Rd(D));const B=d(e,["responseJsonSchema"]);if(B!=null&&p(r,["responseJsonSchema"],B),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=d(e,["safetySettings"]);if(o!==void 0&&H!=null){let st=H;Array.isArray(st)&&(st=st.map(R=>Y1(R))),p(o,["safetySettings"],st)}const Y=d(e,["tools"]);if(o!==void 0&&Y!=null){let st=La(Y);Array.isArray(st)&&(st=st.map(R=>K1(ka(R)))),p(o,["tools"],st)}const V=d(e,["toolConfig"]);if(o!==void 0&&V!=null&&p(o,["toolConfig"],J1(V)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=d(e,["cachedContent"]);o!==void 0&&j!=null&&p(o,["cachedContent"],ao(i,j));const K=d(e,["responseModalities"]);K!=null&&p(r,["responseModalities"],K);const pt=d(e,["mediaResolution"]);pt!=null&&p(r,["mediaResolution"],pt);const W=d(e,["speechConfig"]);if(W!=null&&p(r,["speechConfig"],Id(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const yt=d(e,["thinkingConfig"]);yt!=null&&p(r,["thinkingConfig"],yt);const Mt=d(e,["imageConfig"]);Mt!=null&&p(r,["imageConfig"],z1(Mt));const F=d(e,["enableEnhancedCivicAnswers"]);return F!=null&&p(r,["enableEnhancedCivicAnswers"],F),r}function I1(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>h1(_))),p(e,["candidates"],y)}const l=d(i,["modelVersion"]);l!=null&&p(e,["modelVersion"],l);const f=d(i,["promptFeedback"]);f!=null&&p(e,["promptFeedback"],f);const h=d(i,["responseId"]);h!=null&&p(e,["responseId"],h);const m=d(i,["usageMetadata"]);return m!=null&&p(e,["usageMetadata"],m),e}function k1(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],Da(i,r)),o}function L1(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],Da(i,r)),o}function D1(i){const e={};if(d(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(i,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function P1(i){const e={};if(d(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(i,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function z1(i){const e={},o=d(i,["aspectRatio"]);o!=null&&p(e,["aspectRatio"],o);const r=d(i,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function U1(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["request","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let m=jn(l);Array.isArray(m)&&(m=m.map(y=>ov(y))),p(o,["request","contents"],m)}const f=d(e,["metadata"]);f!=null&&p(o,["metadata"],f);const h=d(e,["config"]);return h!=null&&p(o,["request","generationConfig"],R1(i,h,d(o,["request"],{}))),o}function O1(i){const e={},o=d(i,["response"]);o!=null&&p(e,["response"],I1(o));const r=d(i,["error"]);return r!=null&&p(e,["error"],r),e}function B1(i,e){const o={},r=d(i,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=d(i,["pageToken"]);if(e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),d(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function H1(i,e){const o={},r=d(i,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=d(i,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const f=d(i,["filter"]);return e!==void 0&&f!=null&&p(e,["_query","filter"],f),o}function G1(i){const e={},o=d(i,["config"]);return o!=null&&B1(o,e),e}function q1(i){const e={},o=d(i,["config"]);return o!=null&&H1(o,e),e}function V1(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["operations"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>Mu(h))),p(e,["batchJobs"],f)}return e}function F1(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["batchPredictionJobs"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>fd(h))),p(e,["batchJobs"],f)}return e}function Z1(i){const e={},o=d(i,["mediaResolution"]);o!=null&&p(e,["mediaResolution"],o);const r=d(i,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const l=d(i,["executableCode"]);l!=null&&p(e,["executableCode"],l);const f=d(i,["fileData"]);f!=null&&p(e,["fileData"],A1(f));const h=d(i,["functionCall"]);h!=null&&p(e,["functionCall"],M1(h));const m=d(i,["functionResponse"]);m!=null&&p(e,["functionResponse"],m);const y=d(i,["inlineData"]);y!=null&&p(e,["inlineData"],c1(y));const _=d(i,["text"]);_!=null&&p(e,["text"],_);const T=d(i,["thought"]);T!=null&&p(e,["thought"],T);const E=d(i,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const w=d(i,["videoMetadata"]);return w!=null&&p(e,["videoMetadata"],w),e}function Y1(i){const e={},o=d(i,["category"]);if(o!=null&&p(e,["category"],o),d(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(i,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function J1(i){const e={},o=d(i,["functionCallingConfig"]);o!=null&&p(e,["functionCallingConfig"],N1(o));const r=d(i,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function K1(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>E)),p(e,["functionDeclarations"],T)}if(d(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(i,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const l=d(i,["computerUse"]);l!=null&&p(e,["computerUse"],l);const f=d(i,["fileSearch"]);f!=null&&p(e,["fileSearch"],f);const h=d(i,["codeExecution"]);if(h!=null&&p(e,["codeExecution"],h),d(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(i,["googleMaps"]);m!=null&&p(e,["googleMaps"],D1(m));const y=d(i,["googleSearch"]);y!=null&&p(e,["googleSearch"],P1(y));const _=d(i,["urlContext"]);return _!=null&&p(e,["urlContext"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oo;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(oo||(oo={}));class Is{constructor(e,o,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,r,l)}init(e,o,r){var l,f;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!r||Object.keys(r).length===0?h={config:{}}:typeof r=="object"?h=Object.assign({},r):h=r,h.config&&(h.config.pageToken=o.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(f=(l=h.config)===null||l===void 0?void 0:l.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X1 extends so{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Is(oo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=i_(this.apiClient,e),r=o._url,l=zt("{model}:batchGenerateContent",r),m=o.batch.inputConfig.requests,y=m.requests,_=[];for(const T of y){const E=Object.assign({},T);if(E.systemInstruction){const w=E.systemInstruction;delete E.systemInstruction;const C=E.request;C.systemInstruction=w,E.request=C}_.push(E)}return m.requests=_,delete o.config,delete o._url,delete o._query,{path:l,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const r=o?Object.assign({},o):{},l=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${l}`),r.dest===void 0){const f=this.getGcsUri(e),h=this.getBigqueryUri(e);if(f)f.endsWith(".jsonl")?r.dest=`${f.slice(0,-6)}/dest`:r.dest=`${f}_dest_${l}`;else if(h)r.dest=`${h}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=_1(this.apiClient,e);return m=zt("batchPredictionJobs",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>fd(T))}else{const _=i_(this.apiClient,e);return m=zt("{model}:batchGenerateContent",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>Mu(T))}}async createEmbeddingsInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=y1(this.apiClient,e);return f=zt("{model}:asyncBatchEmbedContent",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>Mu(y))}}async get(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=L1(this.apiClient,e);return m=zt("batchPredictionJobs/{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>fd(T))}else{const _=k1(this.apiClient,e);return m=zt("batches/{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>Mu(T))}}async cancel(e){var o,r,l,f;let h="",m={};if(this.apiClient.isVertexAI()){const y=d1(this.apiClient,e);h=zt("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=f1(this.apiClient,e);h=zt("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=q1(e);return m=zt("batchPredictionJobs",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=F1(T),w=new jg;return Object.assign(w,E),w})}else{const _=G1(e);return m=zt("batches",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=V1(T),w=new jg;return Object.assign(w,E),w})}}async delete(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=T1(this.apiClient,e);return m=zt("batchPredictionJobs/{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>E1(T))}else{const _=S1(this.apiClient,e);return m=zt("batches/{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>x1(T))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W1(i){const e={},o=d(i,["data"]);if(o!=null&&p(e,["data"],o),d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function o_(i){const e={},o=d(i,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>yx(f))),p(e,["parts"],l)}const r=d(i,["role"]);return r!=null&&p(e,["role"],r),e}function Q1(i,e){const o={},r=d(i,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=d(i,["expireTime"]);e!==void 0&&l!=null&&p(e,["expireTime"],l);const f=d(i,["displayName"]);e!==void 0&&f!=null&&p(e,["displayName"],f);const h=d(i,["contents"]);if(e!==void 0&&h!=null){let T=jn(h);Array.isArray(T)&&(T=T.map(E=>o_(E))),p(e,["contents"],T)}const m=d(i,["systemInstruction"]);e!==void 0&&m!=null&&p(e,["systemInstruction"],o_(fn(m)));const y=d(i,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>Tx(E))),p(e,["tools"],T)}const _=d(i,["toolConfig"]);if(e!==void 0&&_!=null&&p(e,["toolConfig"],Sx(_)),d(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function $1(i,e){const o={},r=d(i,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=d(i,["expireTime"]);e!==void 0&&l!=null&&p(e,["expireTime"],l);const f=d(i,["displayName"]);e!==void 0&&f!=null&&p(e,["displayName"],f);const h=d(i,["contents"]);if(e!==void 0&&h!=null){let E=jn(h);Array.isArray(E)&&(E=E.map(w=>w)),p(e,["contents"],E)}const m=d(i,["systemInstruction"]);e!==void 0&&m!=null&&p(e,["systemInstruction"],fn(m));const y=d(i,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(w=>xx(w))),p(e,["tools"],E)}const _=d(i,["toolConfig"]);e!==void 0&&_!=null&&p(e,["toolConfig"],_);const T=d(i,["kmsKeyName"]);return e!==void 0&&T!=null&&p(e,["encryption_spec","kmsKeyName"],T),o}function j1(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["model"],Y_(i,r));const l=d(e,["config"]);return l!=null&&Q1(l,o),o}function tx(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["model"],Y_(i,r));const l=d(e,["config"]);return l!=null&&$1(l,o),o}function ex(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],ao(i,r)),o}function nx(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],ao(i,r)),o}function ix(i){const e={},o=d(i,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function ox(i){const e={},o=d(i,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function sx(i){const e={};if(d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(i,["fileUri"]);o!=null&&p(e,["fileUri"],o);const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function ax(i){const e={},o=d(i,["id"]);o!=null&&p(e,["id"],o);const r=d(i,["args"]);r!=null&&p(e,["args"],r);const l=d(i,["name"]);if(l!=null&&p(e,["name"],l),d(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rx(i){const e={},o=d(i,["mode"]);o!=null&&p(e,["mode"],o);const r=d(i,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lx(i){const e={};if(d(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=d(i,["description"]);o!=null&&p(e,["description"],o);const r=d(i,["name"]);r!=null&&p(e,["name"],r);const l=d(i,["parameters"]);l!=null&&p(e,["parameters"],l);const f=d(i,["parametersJsonSchema"]);f!=null&&p(e,["parametersJsonSchema"],f);const h=d(i,["response"]);h!=null&&p(e,["response"],h);const m=d(i,["responseJsonSchema"]);return m!=null&&p(e,["responseJsonSchema"],m),e}function ux(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],ao(i,r)),o}function cx(i,e){const o={},r=d(e,["name"]);return r!=null&&p(o,["_url","name"],ao(i,r)),o}function fx(i){const e={};if(d(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(i,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function dx(i){const e={};if(d(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(i,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function hx(i,e){const o={},r=d(i,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=d(i,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function px(i,e){const o={},r=d(i,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=d(i,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function mx(i){const e={},o=d(i,["config"]);return o!=null&&hx(o,e),e}function gx(i){const e={},o=d(i,["config"]);return o!=null&&px(o,e),e}function _x(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["cachedContents"],f)}return e}function vx(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["cachedContents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["cachedContents"],f)}return e}function yx(i){const e={},o=d(i,["mediaResolution"]);o!=null&&p(e,["mediaResolution"],o);const r=d(i,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const l=d(i,["executableCode"]);l!=null&&p(e,["executableCode"],l);const f=d(i,["fileData"]);f!=null&&p(e,["fileData"],sx(f));const h=d(i,["functionCall"]);h!=null&&p(e,["functionCall"],ax(h));const m=d(i,["functionResponse"]);m!=null&&p(e,["functionResponse"],m);const y=d(i,["inlineData"]);y!=null&&p(e,["inlineData"],W1(y));const _=d(i,["text"]);_!=null&&p(e,["text"],_);const T=d(i,["thought"]);T!=null&&p(e,["thought"],T);const E=d(i,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const w=d(i,["videoMetadata"]);return w!=null&&p(e,["videoMetadata"],w),e}function Sx(i){const e={},o=d(i,["functionCallingConfig"]);o!=null&&p(e,["functionCallingConfig"],rx(o));const r=d(i,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Tx(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>E)),p(e,["functionDeclarations"],T)}if(d(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(i,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const l=d(i,["computerUse"]);l!=null&&p(e,["computerUse"],l);const f=d(i,["fileSearch"]);f!=null&&p(e,["fileSearch"],f);const h=d(i,["codeExecution"]);if(h!=null&&p(e,["codeExecution"],h),d(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(i,["googleMaps"]);m!=null&&p(e,["googleMaps"],fx(m));const y=d(i,["googleSearch"]);y!=null&&p(e,["googleSearch"],dx(y));const _=d(i,["urlContext"]);return _!=null&&p(e,["urlContext"],_),e}function xx(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(w=>lx(w))),p(e,["functionDeclarations"],E)}const r=d(i,["retrieval"]);r!=null&&p(e,["retrieval"],r);const l=d(i,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const f=d(i,["computerUse"]);if(f!=null&&p(e,["computerUse"],f),d(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=d(i,["codeExecution"]);h!=null&&p(e,["codeExecution"],h);const m=d(i,["enterpriseWebSearch"]);m!=null&&p(e,["enterpriseWebSearch"],m);const y=d(i,["googleMaps"]);y!=null&&p(e,["googleMaps"],y);const _=d(i,["googleSearch"]);_!=null&&p(e,["googleSearch"],_);const T=d(i,["urlContext"]);return T!=null&&p(e,["urlContext"],T),e}function Ex(i,e){const o={},r=d(i,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=d(i,["expireTime"]);return e!==void 0&&l!=null&&p(e,["expireTime"],l),o}function wx(i,e){const o={},r=d(i,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=d(i,["expireTime"]);return e!==void 0&&l!=null&&p(e,["expireTime"],l),o}function Cx(i,e){const o={},r=d(e,["name"]);r!=null&&p(o,["_url","name"],ao(i,r));const l=d(e,["config"]);return l!=null&&Ex(l,o),o}function bx(i,e){const o={},r=d(e,["name"]);r!=null&&p(o,["_url","name"],ao(i,r));const l=d(e,["config"]);return l!=null&&wx(l,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ax extends so{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Is(oo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(o),o)}async create(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=tx(this.apiClient,e);return m=zt("cachedContents",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>T)}else{const _=j1(this.apiClient,e);return m=zt("cachedContents",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>T)}}async get(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=cx(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>T)}else{const _=ux(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>T)}}async delete(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=nx(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=ox(T),w=new Qg;return Object.assign(w,E),w})}else{const _=ex(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=ix(T),w=new Qg;return Object.assign(w,E),w})}}async update(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=bx(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>T)}else{const _=Cx(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>T)}}async listInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=gx(e);return m=zt("cachedContents",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=vx(T),w=new $g;return Object.assign(w,E),w})}else{const _=mx(e);return m=zt("cachedContents",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=_x(T),w=new $g;return Object.assign(w,E),w})}}}function zu(i,e){var o={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(o[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(i);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(i,r[l])&&(o[r[l]]=i[r[l]]);return o}function s_(i){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&i[e],r=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xt(i){return this instanceof Xt?(this.v=i,this):new Xt(i)}function di(i,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o.apply(i,e||[]),l,f=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),l[Symbol.asyncIterator]=function(){return this},l;function h(C){return function(k){return Promise.resolve(k).then(C,E)}}function m(C,k){r[C]&&(l[C]=function(M){return new Promise(function(I,D){f.push([C,M,I,D])>1||y(C,M)})},k&&(l[C]=k(l[C])))}function y(C,k){try{_(r[C](k))}catch(M){w(f[0][3],M)}}function _(C){C.value instanceof Xt?Promise.resolve(C.value.v).then(T,E):w(f[0][2],C)}function T(C){y("next",C)}function E(C){y("throw",C)}function w(C,k){C(k),f.shift(),f.length&&y(f[0][0],f[0][1])}}function hi(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],o;return e?e.call(i):(i=typeof s_=="function"?s_(i):i[Symbol.iterator](),o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o);function r(f){o[f]=i[f]&&function(h){return new Promise(function(m,y){h=i[f](h),l(m,y,h.done,h.value)})}}function l(f,h,m,y){Promise.resolve(y).then(function(_){f({value:_,done:m})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mx(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const o=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:sv(o)}function sv(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Nx(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function a_(i){if(i===void 0||i.length===0)return[];const e=[],o=i.length;let r=0;for(;r<o;)if(i[r].role==="user")e.push(i[r]),r++;else{const l=[];let f=!0;for(;r<o&&i[r].role==="model";)l.push(i[r]),f&&!sv(i[r])&&(f=!1),r++;f?e.push(...l):e.pop()}return e}class Rx{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new Ix(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ix{constructor(e,o,r,l={},f=[]){this.apiClient=e,this.modelsModule=o,this.model=r,this.config=l,this.history=f,this.sendPromise=Promise.resolve(),Nx(f)}async sendMessage(e){var o;await this.sendPromise;const r=fn(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,h,m;const y=await l,_=(h=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||h===void 0?void 0:h.content,T=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let w=[];T!=null&&(w=(m=T.slice(E))!==null&&m!==void 0?m:[]);const C=_?[_]:[];this.recordHistory(r,C,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var o;await this.sendPromise;const r=fn(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const f=await l;return this.processStreamResponse(f,r)}getHistory(e=!1){const o=e?a_(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return di(this,arguments,function*(){var l,f,h,m,y,_;const T=[];try{for(var E=!0,w=hi(e),C;C=yield Xt(w.next()),l=C.done,!l;E=!0){m=C.value,E=!1;const k=m;if(Mx(k)){const M=(_=(y=k.candidates)===null||y===void 0?void 0:y[0])===null||_===void 0?void 0:_.content;M!==void 0&&T.push(M)}yield yield Xt(k)}}catch(k){f={error:k}}finally{try{!E&&!l&&(h=w.return)&&(yield Xt(h.call(w)))}finally{if(f)throw f.error}}this.recordHistory(o,T)})}recordHistory(e,o,r){let l=[];o.length>0&&o.every(f=>f.role!==void 0)?l=o:l.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...a_(r)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yu extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Yu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(i){const e={},o=d(i,["file"]);return o!=null&&p(e,["file"],o),e}function Lx(i){const e={},o=d(i,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function Dx(i){const e={},o=d(i,["name"]);return o!=null&&p(e,["_url","file"],$_(o)),e}function Px(i){const e={},o=d(i,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function zx(i){const e={},o=d(i,["name"]);return o!=null&&p(e,["_url","file"],$_(o)),e}function Ux(i,e){const o={},r=d(i,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=d(i,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function Ox(i){const e={},o=d(i,["config"]);return o!=null&&Ux(o,e),e}function Bx(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["files"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["files"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hx extends so{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Is(oo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Ox(e);return f=zt("files",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const _=Bx(y),T=new FT;return Object.assign(T,_),T})}}async createInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=kx(e);return f=zt("upload/v1beta/files",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const _=Lx(y),T=new ZT;return Object.assign(T,_),T})}}async get(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=zx(e);return f=zt("files/{file}",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Dx(e);return f=zt("files/{file}",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const _=Px(y),T=new YT;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nu(i){const e={},o=d(i,["data"]);if(o!=null&&p(e,["data"],o),d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Gx(i){const e={},o=d(i,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>iE(f))),p(e,["parts"],l)}const r=d(i,["role"]);return r!=null&&p(e,["role"],r),e}function qx(i){const e={};if(d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(i,["fileUri"]);o!=null&&p(e,["fileUri"],o);const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function Vx(i){const e={},o=d(i,["id"]);o!=null&&p(e,["id"],o);const r=d(i,["args"]);r!=null&&p(e,["args"],r);const l=d(i,["name"]);if(l!=null&&p(e,["name"],l),d(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Fx(i){const e={};if(d(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=d(i,["description"]);o!=null&&p(e,["description"],o);const r=d(i,["name"]);r!=null&&p(e,["name"],r);const l=d(i,["parameters"]);l!=null&&p(e,["parameters"],l);const f=d(i,["parametersJsonSchema"]);f!=null&&p(e,["parametersJsonSchema"],f);const h=d(i,["response"]);h!=null&&p(e,["response"],h);const m=d(i,["responseJsonSchema"]);return m!=null&&p(e,["responseJsonSchema"],m),e}function Zx(i){const e={},o=d(i,["modelSelectionConfig"]);o!=null&&p(e,["modelConfig"],o);const r=d(i,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const l=d(i,["audioTimestamp"]);l!=null&&p(e,["audioTimestamp"],l);const f=d(i,["candidateCount"]);f!=null&&p(e,["candidateCount"],f);const h=d(i,["enableAffectiveDialog"]);h!=null&&p(e,["enableAffectiveDialog"],h);const m=d(i,["frequencyPenalty"]);m!=null&&p(e,["frequencyPenalty"],m);const y=d(i,["logprobs"]);y!=null&&p(e,["logprobs"],y);const _=d(i,["maxOutputTokens"]);_!=null&&p(e,["maxOutputTokens"],_);const T=d(i,["mediaResolution"]);T!=null&&p(e,["mediaResolution"],T);const E=d(i,["presencePenalty"]);E!=null&&p(e,["presencePenalty"],E);const w=d(i,["responseLogprobs"]);w!=null&&p(e,["responseLogprobs"],w);const C=d(i,["responseMimeType"]);C!=null&&p(e,["responseMimeType"],C);const k=d(i,["responseModalities"]);k!=null&&p(e,["responseModalities"],k);const M=d(i,["responseSchema"]);M!=null&&p(e,["responseSchema"],M);const I=d(i,["routingConfig"]);I!=null&&p(e,["routingConfig"],I);const D=d(i,["seed"]);D!=null&&p(e,["seed"],D);const B=d(i,["speechConfig"]);B!=null&&p(e,["speechConfig"],B);const H=d(i,["stopSequences"]);H!=null&&p(e,["stopSequences"],H);const Y=d(i,["temperature"]);Y!=null&&p(e,["temperature"],Y);const V=d(i,["thinkingConfig"]);V!=null&&p(e,["thinkingConfig"],V);const j=d(i,["topK"]);j!=null&&p(e,["topK"],j);const K=d(i,["topP"]);if(K!=null&&p(e,["topP"],K),d(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Yx(i){const e={};if(d(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(i,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function Jx(i){const e={};if(d(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(i,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function Kx(i,e){const o={},r=d(i,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const l=d(i,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const f=d(i,["temperature"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","temperature"],f);const h=d(i,["topP"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","topP"],h);const m=d(i,["topK"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","topK"],m);const y=d(i,["maxOutputTokens"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","maxOutputTokens"],y);const _=d(i,["mediaResolution"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","mediaResolution"],_);const T=d(i,["seed"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","seed"],T);const E=d(i,["speechConfig"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","speechConfig"],kd(E));const w=d(i,["thinkingConfig"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","thinkingConfig"],w);const C=d(i,["enableAffectiveDialog"]);e!==void 0&&C!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],C);const k=d(i,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],Gx(fn(k)));const M=d(i,["tools"]);if(e!==void 0&&M!=null){let j=La(M);Array.isArray(j)&&(j=j.map(K=>sE(ka(K)))),p(e,["setup","tools"],j)}const I=d(i,["sessionResumption"]);e!==void 0&&I!=null&&p(e,["setup","sessionResumption"],oE(I));const D=d(i,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],D);const B=d(i,["outputAudioTranscription"]);e!==void 0&&B!=null&&p(e,["setup","outputAudioTranscription"],B);const H=d(i,["realtimeInputConfig"]);e!==void 0&&H!=null&&p(e,["setup","realtimeInputConfig"],H);const Y=d(i,["contextWindowCompression"]);e!==void 0&&Y!=null&&p(e,["setup","contextWindowCompression"],Y);const V=d(i,["proactivity"]);if(e!==void 0&&V!=null&&p(e,["setup","proactivity"],V),d(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function Xx(i,e){const o={},r=d(i,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],Zx(r));const l=d(i,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const f=d(i,["temperature"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","temperature"],f);const h=d(i,["topP"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","topP"],h);const m=d(i,["topK"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","topK"],m);const y=d(i,["maxOutputTokens"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","maxOutputTokens"],y);const _=d(i,["mediaResolution"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","mediaResolution"],_);const T=d(i,["seed"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","seed"],T);const E=d(i,["speechConfig"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","speechConfig"],kd(E));const w=d(i,["thinkingConfig"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","thinkingConfig"],w);const C=d(i,["enableAffectiveDialog"]);e!==void 0&&C!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],C);const k=d(i,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],fn(k));const M=d(i,["tools"]);if(e!==void 0&&M!=null){let K=La(M);Array.isArray(K)&&(K=K.map(pt=>aE(ka(pt)))),p(e,["setup","tools"],K)}const I=d(i,["sessionResumption"]);e!==void 0&&I!=null&&p(e,["setup","sessionResumption"],I);const D=d(i,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],D);const B=d(i,["outputAudioTranscription"]);e!==void 0&&B!=null&&p(e,["setup","outputAudioTranscription"],B);const H=d(i,["realtimeInputConfig"]);e!==void 0&&H!=null&&p(e,["setup","realtimeInputConfig"],H);const Y=d(i,["contextWindowCompression"]);e!==void 0&&Y!=null&&p(e,["setup","contextWindowCompression"],Y);const V=d(i,["proactivity"]);e!==void 0&&V!=null&&p(e,["setup","proactivity"],V);const j=d(i,["explicitVadSignal"]);return e!==void 0&&j!=null&&p(e,["setup","explicitVadSignal"],j),o}function Wx(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["setup","model"],ge(i,r));const l=d(e,["config"]);return l!=null&&p(o,["config"],Kx(l,o)),o}function Qx(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["setup","model"],ge(i,r));const l=d(e,["config"]);return l!=null&&p(o,["config"],Xx(l,o)),o}function $x(i){const e={},o=d(i,["musicGenerationConfig"]);return o!=null&&p(e,["musicGenerationConfig"],o),e}function jx(i){const e={},o=d(i,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),p(e,["weightedPrompts"],r)}return e}function tE(i){const e={},o=d(i,["media"]);if(o!=null){let _=J_(o);Array.isArray(_)&&(_=_.map(T=>Nu(T))),p(e,["mediaChunks"],_)}const r=d(i,["audio"]);r!=null&&p(e,["audio"],Nu(X_(r)));const l=d(i,["audioStreamEnd"]);l!=null&&p(e,["audioStreamEnd"],l);const f=d(i,["video"]);f!=null&&p(e,["video"],Nu(K_(f)));const h=d(i,["text"]);h!=null&&p(e,["text"],h);const m=d(i,["activityStart"]);m!=null&&p(e,["activityStart"],m);const y=d(i,["activityEnd"]);return y!=null&&p(e,["activityEnd"],y),e}function eE(i){const e={},o=d(i,["media"]);if(o!=null){let _=J_(o);Array.isArray(_)&&(_=_.map(T=>T)),p(e,["mediaChunks"],_)}const r=d(i,["audio"]);r!=null&&p(e,["audio"],X_(r));const l=d(i,["audioStreamEnd"]);l!=null&&p(e,["audioStreamEnd"],l);const f=d(i,["video"]);f!=null&&p(e,["video"],K_(f));const h=d(i,["text"]);h!=null&&p(e,["text"],h);const m=d(i,["activityStart"]);m!=null&&p(e,["activityStart"],m);const y=d(i,["activityEnd"]);return y!=null&&p(e,["activityEnd"],y),e}function nE(i){const e={},o=d(i,["setupComplete"]);o!=null&&p(e,["setupComplete"],o);const r=d(i,["serverContent"]);r!=null&&p(e,["serverContent"],r);const l=d(i,["toolCall"]);l!=null&&p(e,["toolCall"],l);const f=d(i,["toolCallCancellation"]);f!=null&&p(e,["toolCallCancellation"],f);const h=d(i,["usageMetadata"]);h!=null&&p(e,["usageMetadata"],rE(h));const m=d(i,["goAway"]);m!=null&&p(e,["goAway"],m);const y=d(i,["sessionResumptionUpdate"]);y!=null&&p(e,["sessionResumptionUpdate"],y);const _=d(i,["voiceActivityDetectionSignal"]);return _!=null&&p(e,["voiceActivityDetectionSignal"],_),e}function iE(i){const e={},o=d(i,["mediaResolution"]);o!=null&&p(e,["mediaResolution"],o);const r=d(i,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const l=d(i,["executableCode"]);l!=null&&p(e,["executableCode"],l);const f=d(i,["fileData"]);f!=null&&p(e,["fileData"],qx(f));const h=d(i,["functionCall"]);h!=null&&p(e,["functionCall"],Vx(h));const m=d(i,["functionResponse"]);m!=null&&p(e,["functionResponse"],m);const y=d(i,["inlineData"]);y!=null&&p(e,["inlineData"],Nu(y));const _=d(i,["text"]);_!=null&&p(e,["text"],_);const T=d(i,["thought"]);T!=null&&p(e,["thought"],T);const E=d(i,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const w=d(i,["videoMetadata"]);return w!=null&&p(e,["videoMetadata"],w),e}function oE(i){const e={},o=d(i,["handle"]);if(o!=null&&p(e,["handle"],o),d(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sE(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>E)),p(e,["functionDeclarations"],T)}if(d(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(i,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const l=d(i,["computerUse"]);l!=null&&p(e,["computerUse"],l);const f=d(i,["fileSearch"]);f!=null&&p(e,["fileSearch"],f);const h=d(i,["codeExecution"]);if(h!=null&&p(e,["codeExecution"],h),d(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(i,["googleMaps"]);m!=null&&p(e,["googleMaps"],Yx(m));const y=d(i,["googleSearch"]);y!=null&&p(e,["googleSearch"],Jx(y));const _=d(i,["urlContext"]);return _!=null&&p(e,["urlContext"],_),e}function aE(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(w=>Fx(w))),p(e,["functionDeclarations"],E)}const r=d(i,["retrieval"]);r!=null&&p(e,["retrieval"],r);const l=d(i,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const f=d(i,["computerUse"]);if(f!=null&&p(e,["computerUse"],f),d(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=d(i,["codeExecution"]);h!=null&&p(e,["codeExecution"],h);const m=d(i,["enterpriseWebSearch"]);m!=null&&p(e,["enterpriseWebSearch"],m);const y=d(i,["googleMaps"]);y!=null&&p(e,["googleMaps"],y);const _=d(i,["googleSearch"]);_!=null&&p(e,["googleSearch"],_);const T=d(i,["urlContext"]);return T!=null&&p(e,["urlContext"],T),e}function rE(i){const e={},o=d(i,["promptTokenCount"]);o!=null&&p(e,["promptTokenCount"],o);const r=d(i,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const l=d(i,["candidatesTokenCount"]);l!=null&&p(e,["responseTokenCount"],l);const f=d(i,["toolUsePromptTokenCount"]);f!=null&&p(e,["toolUsePromptTokenCount"],f);const h=d(i,["thoughtsTokenCount"]);h!=null&&p(e,["thoughtsTokenCount"],h);const m=d(i,["totalTokenCount"]);m!=null&&p(e,["totalTokenCount"],m);const y=d(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(k=>k)),p(e,["promptTokensDetails"],C)}const _=d(i,["cacheTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(k=>k)),p(e,["cacheTokensDetails"],C)}const T=d(i,["candidatesTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(k=>k)),p(e,["responseTokensDetails"],C)}const E=d(i,["toolUsePromptTokensDetails"]);if(E!=null){let C=E;Array.isArray(C)&&(C=C.map(k=>k)),p(e,["toolUsePromptTokensDetails"],C)}const w=d(i,["trafficType"]);return w!=null&&p(e,["trafficType"],w),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lE(i){const e={},o=d(i,["data"]);if(o!=null&&p(e,["data"],o),d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function uE(i){const e={},o=d(i,["content"]);o!=null&&p(e,["content"],o);const r=d(i,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],cE(r));const l=d(i,["tokenCount"]);l!=null&&p(e,["tokenCount"],l);const f=d(i,["finishReason"]);f!=null&&p(e,["finishReason"],f);const h=d(i,["avgLogprobs"]);h!=null&&p(e,["avgLogprobs"],h);const m=d(i,["groundingMetadata"]);m!=null&&p(e,["groundingMetadata"],m);const y=d(i,["index"]);y!=null&&p(e,["index"],y);const _=d(i,["logprobsResult"]);_!=null&&p(e,["logprobsResult"],_);const T=d(i,["safetyRatings"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(C=>C)),p(e,["safetyRatings"],w)}const E=d(i,["urlContextMetadata"]);return E!=null&&p(e,["urlContextMetadata"],E),e}function cE(i){const e={},o=d(i,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),p(e,["citations"],r)}return e}function fE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let f=jn(l);Array.isArray(f)&&(f=f.map(h=>h)),p(o,["contents"],f)}return o}function dE(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["tokensInfo"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>f)),p(e,["tokensInfo"],l)}return e}function hE(i){const e={},o=d(i,["values"]);o!=null&&p(e,["values"],o);const r=d(i,["statistics"]);return r!=null&&p(e,["statistics"],pE(r)),e}function pE(i){const e={},o=d(i,["truncated"]);o!=null&&p(e,["truncated"],o);const r=d(i,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function Ju(i){const e={},o=d(i,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>Ew(f))),p(e,["parts"],l)}const r=d(i,["role"]);return r!=null&&p(e,["role"],r),e}function mE(i){const e={},o=d(i,["controlType"]);o!=null&&p(e,["controlType"],o);const r=d(i,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function gE(i){const e={};if(d(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function _E(i,e){const o={},r=d(i,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],fn(r));const l=d(i,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(m=>uv(m))),p(e,["tools"],h)}const f=d(i,["generationConfig"]);return e!==void 0&&f!=null&&p(e,["generationConfig"],lw(f)),o}function vE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let h=jn(l);Array.isArray(h)&&(h=h.map(m=>Ju(m))),p(o,["contents"],h)}const f=d(e,["config"]);return f!=null&&gE(f),o}function yE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let h=jn(l);Array.isArray(h)&&(h=h.map(m=>m)),p(o,["contents"],h)}const f=d(e,["config"]);return f!=null&&_E(f,o),o}function SE(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["totalTokens"]);r!=null&&p(e,["totalTokens"],r);const l=d(i,["cachedContentTokenCount"]);return l!=null&&p(e,["cachedContentTokenCount"],l),e}function TE(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["totalTokens"]);return r!=null&&p(e,["totalTokens"],r),e}function xE(i,e){const o={},r=d(e,["model"]);return r!=null&&p(o,["_url","name"],ge(i,r)),o}function EE(i,e){const o={},r=d(e,["model"]);return r!=null&&p(o,["_url","name"],ge(i,r)),o}function wE(i){const e={},o=d(i,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function CE(i){const e={},o=d(i,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}function bE(i,e){const o={},r=d(i,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const l=d(i,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const f=d(i,["numberOfImages"]);e!==void 0&&f!=null&&p(e,["parameters","sampleCount"],f);const h=d(i,["aspectRatio"]);e!==void 0&&h!=null&&p(e,["parameters","aspectRatio"],h);const m=d(i,["guidanceScale"]);e!==void 0&&m!=null&&p(e,["parameters","guidanceScale"],m);const y=d(i,["seed"]);e!==void 0&&y!=null&&p(e,["parameters","seed"],y);const _=d(i,["safetyFilterLevel"]);e!==void 0&&_!=null&&p(e,["parameters","safetySetting"],_);const T=d(i,["personGeneration"]);e!==void 0&&T!=null&&p(e,["parameters","personGeneration"],T);const E=d(i,["includeSafetyAttributes"]);e!==void 0&&E!=null&&p(e,["parameters","includeSafetyAttributes"],E);const w=d(i,["includeRaiReason"]);e!==void 0&&w!=null&&p(e,["parameters","includeRaiReason"],w);const C=d(i,["language"]);e!==void 0&&C!=null&&p(e,["parameters","language"],C);const k=d(i,["outputMimeType"]);e!==void 0&&k!=null&&p(e,["parameters","outputOptions","mimeType"],k);const M=d(i,["outputCompressionQuality"]);e!==void 0&&M!=null&&p(e,["parameters","outputOptions","compressionQuality"],M);const I=d(i,["addWatermark"]);e!==void 0&&I!=null&&p(e,["parameters","addWatermark"],I);const D=d(i,["labels"]);e!==void 0&&D!=null&&p(e,["labels"],D);const B=d(i,["editMode"]);e!==void 0&&B!=null&&p(e,["parameters","editMode"],B);const H=d(i,["baseSteps"]);return e!==void 0&&H!=null&&p(e,["parameters","editConfig","baseSteps"],H),o}function AE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const f=d(e,["referenceImages"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>Nw(y))),p(o,["instances[0]","referenceImages"],m)}const h=d(e,["config"]);return h!=null&&bE(h,o),o}function ME(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>Ku(f))),p(e,["generatedImages"],l)}return e}function NE(i,e){const o={},r=d(i,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const l=d(i,["title"]);e!==void 0&&l!=null&&p(e,["requests[]","title"],l);const f=d(i,["outputDimensionality"]);if(e!==void 0&&f!=null&&p(e,["requests[]","outputDimensionality"],f),d(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function RE(i,e){const o={},r=d(i,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const l=d(i,["title"]);e!==void 0&&l!=null&&p(e,["instances[]","title"],l);const f=d(i,["outputDimensionality"]);e!==void 0&&f!=null&&p(e,["parameters","outputDimensionality"],f);const h=d(i,["mimeType"]);e!==void 0&&h!=null&&p(e,["instances[]","mimeType"],h);const m=d(i,["autoTruncate"]);return e!==void 0&&m!=null&&p(e,["parameters","autoTruncate"],m),o}function IE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let m=Nd(i,l);Array.isArray(m)&&(m=m.map(y=>y)),p(o,["requests[]","content"],m)}const f=d(e,["config"]);f!=null&&NE(f,o);const h=d(e,["model"]);return h!==void 0&&p(o,["requests[]","model"],ge(i,h)),o}function kE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let h=Nd(i,l);Array.isArray(h)&&(h=h.map(m=>m)),p(o,["instances[]","content"],h)}const f=d(e,["config"]);return f!=null&&RE(f,o),o}function LE(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["embeddings"],f)}const l=d(i,["metadata"]);return l!=null&&p(e,["metadata"],l),e}function DE(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>hE(h))),p(e,["embeddings"],f)}const l=d(i,["metadata"]);return l!=null&&p(e,["metadata"],l),e}function PE(i){const e={},o=d(i,["endpoint"]);o!=null&&p(e,["name"],o);const r=d(i,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function zE(i){const e={};if(d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(i,["fileUri"]);o!=null&&p(e,["fileUri"],o);const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function UE(i){const e={},o=d(i,["id"]);o!=null&&p(e,["id"],o);const r=d(i,["args"]);r!=null&&p(e,["args"],r);const l=d(i,["name"]);if(l!=null&&p(e,["name"],l),d(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function OE(i){const e={},o=d(i,["mode"]);o!=null&&p(e,["mode"],o);const r=d(i,["allowedFunctionNames"]);if(r!=null&&p(e,["allowedFunctionNames"],r),d(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function BE(i){const e={};if(d(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=d(i,["description"]);o!=null&&p(e,["description"],o);const r=d(i,["name"]);r!=null&&p(e,["name"],r);const l=d(i,["parameters"]);l!=null&&p(e,["parameters"],l);const f=d(i,["parametersJsonSchema"]);f!=null&&p(e,["parametersJsonSchema"],f);const h=d(i,["response"]);h!=null&&p(e,["response"],h);const m=d(i,["responseJsonSchema"]);return m!=null&&p(e,["responseJsonSchema"],m),e}function HE(i,e,o){const r={},l=d(e,["systemInstruction"]);o!==void 0&&l!=null&&p(o,["systemInstruction"],Ju(fn(l)));const f=d(e,["temperature"]);f!=null&&p(r,["temperature"],f);const h=d(e,["topP"]);h!=null&&p(r,["topP"],h);const m=d(e,["topK"]);m!=null&&p(r,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(r,["candidateCount"],y);const _=d(e,["maxOutputTokens"]);_!=null&&p(r,["maxOutputTokens"],_);const T=d(e,["stopSequences"]);T!=null&&p(r,["stopSequences"],T);const E=d(e,["responseLogprobs"]);E!=null&&p(r,["responseLogprobs"],E);const w=d(e,["logprobs"]);w!=null&&p(r,["logprobs"],w);const C=d(e,["presencePenalty"]);C!=null&&p(r,["presencePenalty"],C);const k=d(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const M=d(e,["seed"]);M!=null&&p(r,["seed"],M);const I=d(e,["responseMimeType"]);I!=null&&p(r,["responseMimeType"],I);const D=d(e,["responseSchema"]);D!=null&&p(r,["responseSchema"],Rd(D));const B=d(e,["responseJsonSchema"]);if(B!=null&&p(r,["responseJsonSchema"],B),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=d(e,["safetySettings"]);if(o!==void 0&&H!=null){let st=H;Array.isArray(st)&&(st=st.map(R=>Rw(R))),p(o,["safetySettings"],st)}const Y=d(e,["tools"]);if(o!==void 0&&Y!=null){let st=La(Y);Array.isArray(st)&&(st=st.map(R=>Uw(ka(R)))),p(o,["tools"],st)}const V=d(e,["toolConfig"]);if(o!==void 0&&V!=null&&p(o,["toolConfig"],zw(V)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=d(e,["cachedContent"]);o!==void 0&&j!=null&&p(o,["cachedContent"],ao(i,j));const K=d(e,["responseModalities"]);K!=null&&p(r,["responseModalities"],K);const pt=d(e,["mediaResolution"]);pt!=null&&p(r,["mediaResolution"],pt);const W=d(e,["speechConfig"]);if(W!=null&&p(r,["speechConfig"],Id(W)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const yt=d(e,["thinkingConfig"]);yt!=null&&p(r,["thinkingConfig"],yt);const Mt=d(e,["imageConfig"]);Mt!=null&&p(r,["imageConfig"],hw(Mt));const F=d(e,["enableEnhancedCivicAnswers"]);return F!=null&&p(r,["enableEnhancedCivicAnswers"],F),r}function GE(i,e,o){const r={},l=d(e,["systemInstruction"]);o!==void 0&&l!=null&&p(o,["systemInstruction"],fn(l));const f=d(e,["temperature"]);f!=null&&p(r,["temperature"],f);const h=d(e,["topP"]);h!=null&&p(r,["topP"],h);const m=d(e,["topK"]);m!=null&&p(r,["topK"],m);const y=d(e,["candidateCount"]);y!=null&&p(r,["candidateCount"],y);const _=d(e,["maxOutputTokens"]);_!=null&&p(r,["maxOutputTokens"],_);const T=d(e,["stopSequences"]);T!=null&&p(r,["stopSequences"],T);const E=d(e,["responseLogprobs"]);E!=null&&p(r,["responseLogprobs"],E);const w=d(e,["logprobs"]);w!=null&&p(r,["logprobs"],w);const C=d(e,["presencePenalty"]);C!=null&&p(r,["presencePenalty"],C);const k=d(e,["frequencyPenalty"]);k!=null&&p(r,["frequencyPenalty"],k);const M=d(e,["seed"]);M!=null&&p(r,["seed"],M);const I=d(e,["responseMimeType"]);I!=null&&p(r,["responseMimeType"],I);const D=d(e,["responseSchema"]);D!=null&&p(r,["responseSchema"],Rd(D));const B=d(e,["responseJsonSchema"]);B!=null&&p(r,["responseJsonSchema"],B);const H=d(e,["routingConfig"]);H!=null&&p(r,["routingConfig"],H);const Y=d(e,["modelSelectionConfig"]);Y!=null&&p(r,["modelConfig"],Y);const V=d(e,["safetySettings"]);if(o!==void 0&&V!=null){let Q=V;Array.isArray(Q)&&(Q=Q.map(tt=>tt)),p(o,["safetySettings"],Q)}const j=d(e,["tools"]);if(o!==void 0&&j!=null){let Q=La(j);Array.isArray(Q)&&(Q=Q.map(tt=>uv(ka(tt)))),p(o,["tools"],Q)}const K=d(e,["toolConfig"]);o!==void 0&&K!=null&&p(o,["toolConfig"],K);const pt=d(e,["labels"]);o!==void 0&&pt!=null&&p(o,["labels"],pt);const W=d(e,["cachedContent"]);o!==void 0&&W!=null&&p(o,["cachedContent"],ao(i,W));const yt=d(e,["responseModalities"]);yt!=null&&p(r,["responseModalities"],yt);const Mt=d(e,["mediaResolution"]);Mt!=null&&p(r,["mediaResolution"],Mt);const F=d(e,["speechConfig"]);F!=null&&p(r,["speechConfig"],Id(F));const st=d(e,["audioTimestamp"]);st!=null&&p(r,["audioTimestamp"],st);const R=d(e,["thinkingConfig"]);R!=null&&p(r,["thinkingConfig"],R);const St=d(e,["imageConfig"]);if(St!=null&&p(r,["imageConfig"],pw(St)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function r_(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let h=jn(l);Array.isArray(h)&&(h=h.map(m=>Ju(m))),p(o,["contents"],h)}const f=d(e,["config"]);return f!=null&&p(o,["generationConfig"],HE(i,f,o)),o}function l_(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["contents"]);if(l!=null){let h=jn(l);Array.isArray(h)&&(h=h.map(m=>m)),p(o,["contents"],h)}const f=d(e,["config"]);return f!=null&&p(o,["generationConfig"],GE(i,f,o)),o}function u_(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>uE(_))),p(e,["candidates"],y)}const l=d(i,["modelVersion"]);l!=null&&p(e,["modelVersion"],l);const f=d(i,["promptFeedback"]);f!=null&&p(e,["promptFeedback"],f);const h=d(i,["responseId"]);h!=null&&p(e,["responseId"],h);const m=d(i,["usageMetadata"]);return m!=null&&p(e,["usageMetadata"],m),e}function c_(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["candidates"]);if(r!=null){let _=r;Array.isArray(_)&&(_=_.map(T=>T)),p(e,["candidates"],_)}const l=d(i,["createTime"]);l!=null&&p(e,["createTime"],l);const f=d(i,["modelVersion"]);f!=null&&p(e,["modelVersion"],f);const h=d(i,["promptFeedback"]);h!=null&&p(e,["promptFeedback"],h);const m=d(i,["responseId"]);m!=null&&p(e,["responseId"],m);const y=d(i,["usageMetadata"]);return y!=null&&p(e,["usageMetadata"],y),e}function qE(i,e){const o={};if(d(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(i,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const l=d(i,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const f=d(i,["guidanceScale"]);if(e!==void 0&&f!=null&&p(e,["parameters","guidanceScale"],f),d(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(i,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const m=d(i,["personGeneration"]);e!==void 0&&m!=null&&p(e,["parameters","personGeneration"],m);const y=d(i,["includeSafetyAttributes"]);e!==void 0&&y!=null&&p(e,["parameters","includeSafetyAttributes"],y);const _=d(i,["includeRaiReason"]);e!==void 0&&_!=null&&p(e,["parameters","includeRaiReason"],_);const T=d(i,["language"]);e!==void 0&&T!=null&&p(e,["parameters","language"],T);const E=d(i,["outputMimeType"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","mimeType"],E);const w=d(i,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&p(e,["parameters","outputOptions","compressionQuality"],w),d(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=d(i,["imageSize"]);if(e!==void 0&&C!=null&&p(e,["parameters","sampleImageSize"],C),d(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function VE(i,e){const o={},r=d(i,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const l=d(i,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const f=d(i,["numberOfImages"]);e!==void 0&&f!=null&&p(e,["parameters","sampleCount"],f);const h=d(i,["aspectRatio"]);e!==void 0&&h!=null&&p(e,["parameters","aspectRatio"],h);const m=d(i,["guidanceScale"]);e!==void 0&&m!=null&&p(e,["parameters","guidanceScale"],m);const y=d(i,["seed"]);e!==void 0&&y!=null&&p(e,["parameters","seed"],y);const _=d(i,["safetyFilterLevel"]);e!==void 0&&_!=null&&p(e,["parameters","safetySetting"],_);const T=d(i,["personGeneration"]);e!==void 0&&T!=null&&p(e,["parameters","personGeneration"],T);const E=d(i,["includeSafetyAttributes"]);e!==void 0&&E!=null&&p(e,["parameters","includeSafetyAttributes"],E);const w=d(i,["includeRaiReason"]);e!==void 0&&w!=null&&p(e,["parameters","includeRaiReason"],w);const C=d(i,["language"]);e!==void 0&&C!=null&&p(e,["parameters","language"],C);const k=d(i,["outputMimeType"]);e!==void 0&&k!=null&&p(e,["parameters","outputOptions","mimeType"],k);const M=d(i,["outputCompressionQuality"]);e!==void 0&&M!=null&&p(e,["parameters","outputOptions","compressionQuality"],M);const I=d(i,["addWatermark"]);e!==void 0&&I!=null&&p(e,["parameters","addWatermark"],I);const D=d(i,["labels"]);e!==void 0&&D!=null&&p(e,["labels"],D);const B=d(i,["imageSize"]);e!==void 0&&B!=null&&p(e,["parameters","sampleImageSize"],B);const H=d(i,["enhancePrompt"]);return e!==void 0&&H!=null&&p(e,["parameters","enhancePrompt"],H),o}function FE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const f=d(e,["config"]);return f!=null&&qE(f,o),o}function ZE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const f=d(e,["config"]);return f!=null&&VE(f,o),o}function YE(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>ow(h))),p(e,["generatedImages"],f)}const l=d(i,["positivePromptSafetyAttributes"]);return l!=null&&p(e,["positivePromptSafetyAttributes"],rv(l)),e}function JE(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>Ku(h))),p(e,["generatedImages"],f)}const l=d(i,["positivePromptSafetyAttributes"]);return l!=null&&p(e,["positivePromptSafetyAttributes"],lv(l)),e}function KE(i,e){const o={},r=d(i,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),d(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=d(i,["durationSeconds"]);if(e!==void 0&&l!=null&&p(e,["parameters","durationSeconds"],l),d(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=d(i,["aspectRatio"]);e!==void 0&&f!=null&&p(e,["parameters","aspectRatio"],f);const h=d(i,["resolution"]);e!==void 0&&h!=null&&p(e,["parameters","resolution"],h);const m=d(i,["personGeneration"]);if(e!==void 0&&m!=null&&p(e,["parameters","personGeneration"],m),d(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=d(i,["negativePrompt"]);e!==void 0&&y!=null&&p(e,["parameters","negativePrompt"],y);const _=d(i,["enhancePrompt"]);if(e!==void 0&&_!=null&&p(e,["parameters","enhancePrompt"],_),d(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=d(i,["lastFrame"]);e!==void 0&&T!=null&&p(e,["instances[0]","lastFrame"],Xu(T));const E=d(i,["referenceImages"]);if(e!==void 0&&E!=null){let w=E;Array.isArray(w)&&(w=w.map(C=>Ww(C))),p(e,["instances[0]","referenceImages"],w)}if(d(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function XE(i,e){const o={},r=d(i,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const l=d(i,["outputGcsUri"]);e!==void 0&&l!=null&&p(e,["parameters","storageUri"],l);const f=d(i,["fps"]);e!==void 0&&f!=null&&p(e,["parameters","fps"],f);const h=d(i,["durationSeconds"]);e!==void 0&&h!=null&&p(e,["parameters","durationSeconds"],h);const m=d(i,["seed"]);e!==void 0&&m!=null&&p(e,["parameters","seed"],m);const y=d(i,["aspectRatio"]);e!==void 0&&y!=null&&p(e,["parameters","aspectRatio"],y);const _=d(i,["resolution"]);e!==void 0&&_!=null&&p(e,["parameters","resolution"],_);const T=d(i,["personGeneration"]);e!==void 0&&T!=null&&p(e,["parameters","personGeneration"],T);const E=d(i,["pubsubTopic"]);e!==void 0&&E!=null&&p(e,["parameters","pubsubTopic"],E);const w=d(i,["negativePrompt"]);e!==void 0&&w!=null&&p(e,["parameters","negativePrompt"],w);const C=d(i,["enhancePrompt"]);e!==void 0&&C!=null&&p(e,["parameters","enhancePrompt"],C);const k=d(i,["generateAudio"]);e!==void 0&&k!=null&&p(e,["parameters","generateAudio"],k);const M=d(i,["lastFrame"]);e!==void 0&&M!=null&&p(e,["instances[0]","lastFrame"],pi(M));const I=d(i,["referenceImages"]);if(e!==void 0&&I!=null){let H=I;Array.isArray(H)&&(H=H.map(Y=>Qw(Y))),p(e,["instances[0]","referenceImages"],H)}const D=d(i,["mask"]);e!==void 0&&D!=null&&p(e,["instances[0]","mask"],Xw(D));const B=d(i,["compressionQuality"]);return e!==void 0&&B!=null&&p(e,["parameters","compressionQuality"],B),o}function WE(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata"]);r!=null&&p(e,["metadata"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["response","generateVideoResponse"]);return h!=null&&p(e,["response"],tw(h)),e}function QE(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata"]);r!=null&&p(e,["metadata"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["response"]);return h!=null&&p(e,["response"],ew(h)),e}function $E(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const f=d(e,["image"]);f!=null&&p(o,["instances[0]","image"],Xu(f));const h=d(e,["video"]);h!=null&&p(o,["instances[0]","video"],cv(h));const m=d(e,["source"]);m!=null&&nw(m,o);const y=d(e,["config"]);return y!=null&&KE(y,o),o}function jE(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["prompt"]);l!=null&&p(o,["instances[0]","prompt"],l);const f=d(e,["image"]);f!=null&&p(o,["instances[0]","image"],pi(f));const h=d(e,["video"]);h!=null&&p(o,["instances[0]","video"],fv(h));const m=d(e,["source"]);m!=null&&iw(m,o);const y=d(e,["config"]);return y!=null&&XE(y,o),o}function tw(i){const e={},o=d(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>aw(h))),p(e,["generatedVideos"],f)}const r=d(i,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=d(i,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function ew(i){const e={},o=d(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>rw(h))),p(e,["generatedVideos"],f)}const r=d(i,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=d(i,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function nw(i,e){const o={},r=d(i,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const l=d(i,["image"]);e!==void 0&&l!=null&&p(e,["instances[0]","image"],Xu(l));const f=d(i,["video"]);return e!==void 0&&f!=null&&p(e,["instances[0]","video"],cv(f)),o}function iw(i,e){const o={},r=d(i,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const l=d(i,["image"]);e!==void 0&&l!=null&&p(e,["instances[0]","image"],pi(l));const f=d(i,["video"]);return e!==void 0&&f!=null&&p(e,["instances[0]","video"],fv(f)),o}function ow(i){const e={},o=d(i,["_self"]);o!=null&&p(e,["image"],mw(o));const r=d(i,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const l=d(i,["_self"]);return l!=null&&p(e,["safetyAttributes"],rv(l)),e}function Ku(i){const e={},o=d(i,["_self"]);o!=null&&p(e,["image"],av(o));const r=d(i,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const l=d(i,["_self"]);l!=null&&p(e,["safetyAttributes"],lv(l));const f=d(i,["prompt"]);return f!=null&&p(e,["enhancedPrompt"],f),e}function sw(i){const e={},o=d(i,["_self"]);o!=null&&p(e,["mask"],av(o));const r=d(i,["labels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>f)),p(e,["labels"],l)}return e}function aw(i){const e={},o=d(i,["video"]);return o!=null&&p(e,["video"],Jw(o)),e}function rw(i){const e={},o=d(i,["_self"]);return o!=null&&p(e,["video"],Kw(o)),e}function lw(i){const e={},o=d(i,["modelSelectionConfig"]);o!=null&&p(e,["modelConfig"],o);const r=d(i,["responseJsonSchema"]);r!=null&&p(e,["responseJsonSchema"],r);const l=d(i,["audioTimestamp"]);l!=null&&p(e,["audioTimestamp"],l);const f=d(i,["candidateCount"]);f!=null&&p(e,["candidateCount"],f);const h=d(i,["enableAffectiveDialog"]);h!=null&&p(e,["enableAffectiveDialog"],h);const m=d(i,["frequencyPenalty"]);m!=null&&p(e,["frequencyPenalty"],m);const y=d(i,["logprobs"]);y!=null&&p(e,["logprobs"],y);const _=d(i,["maxOutputTokens"]);_!=null&&p(e,["maxOutputTokens"],_);const T=d(i,["mediaResolution"]);T!=null&&p(e,["mediaResolution"],T);const E=d(i,["presencePenalty"]);E!=null&&p(e,["presencePenalty"],E);const w=d(i,["responseLogprobs"]);w!=null&&p(e,["responseLogprobs"],w);const C=d(i,["responseMimeType"]);C!=null&&p(e,["responseMimeType"],C);const k=d(i,["responseModalities"]);k!=null&&p(e,["responseModalities"],k);const M=d(i,["responseSchema"]);M!=null&&p(e,["responseSchema"],M);const I=d(i,["routingConfig"]);I!=null&&p(e,["routingConfig"],I);const D=d(i,["seed"]);D!=null&&p(e,["seed"],D);const B=d(i,["speechConfig"]);B!=null&&p(e,["speechConfig"],B);const H=d(i,["stopSequences"]);H!=null&&p(e,["stopSequences"],H);const Y=d(i,["temperature"]);Y!=null&&p(e,["temperature"],Y);const V=d(i,["thinkingConfig"]);V!=null&&p(e,["thinkingConfig"],V);const j=d(i,["topK"]);j!=null&&p(e,["topK"],j);const K=d(i,["topP"]);if(K!=null&&p(e,["topP"],K),d(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function uw(i,e){const o={},r=d(e,["model"]);return r!=null&&p(o,["_url","name"],ge(i,r)),o}function cw(i,e){const o={},r=d(e,["model"]);return r!=null&&p(o,["_url","name"],ge(i,r)),o}function fw(i){const e={};if(d(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(i,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function dw(i){const e={};if(d(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(i,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function hw(i){const e={},o=d(i,["aspectRatio"]);o!=null&&p(e,["aspectRatio"],o);const r=d(i,["imageSize"]);if(r!=null&&p(e,["imageSize"],r),d(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function pw(i){const e={},o=d(i,["aspectRatio"]);o!=null&&p(e,["aspectRatio"],o);const r=d(i,["imageSize"]);r!=null&&p(e,["imageSize"],r);const l=d(i,["outputMimeType"]);l!=null&&p(e,["imageOutputOptions","mimeType"],l);const f=d(i,["outputCompressionQuality"]);return f!=null&&p(e,["imageOutputOptions","compressionQuality"],f),e}function mw(i){const e={},o=d(i,["bytesBase64Encoded"]);o!=null&&p(e,["imageBytes"],Yo(o));const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function av(i){const e={},o=d(i,["gcsUri"]);o!=null&&p(e,["gcsUri"],o);const r=d(i,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],Yo(r));const l=d(i,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function Xu(i){const e={};if(d(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=d(i,["imageBytes"]);o!=null&&p(e,["bytesBase64Encoded"],Yo(o));const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function pi(i){const e={},o=d(i,["gcsUri"]);o!=null&&p(e,["gcsUri"],o);const r=d(i,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Yo(r));const l=d(i,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function gw(i,e,o){const r={},l=d(e,["pageSize"]);o!==void 0&&l!=null&&p(o,["_query","pageSize"],l);const f=d(e,["pageToken"]);o!==void 0&&f!=null&&p(o,["_query","pageToken"],f);const h=d(e,["filter"]);o!==void 0&&h!=null&&p(o,["_query","filter"],h);const m=d(e,["queryBase"]);return o!==void 0&&m!=null&&p(o,["_url","models_url"],j_(i,m)),r}function _w(i,e,o){const r={},l=d(e,["pageSize"]);o!==void 0&&l!=null&&p(o,["_query","pageSize"],l);const f=d(e,["pageToken"]);o!==void 0&&f!=null&&p(o,["_query","pageToken"],f);const h=d(e,["filter"]);o!==void 0&&h!=null&&p(o,["_query","filter"],h);const m=d(e,["queryBase"]);return o!==void 0&&m!=null&&p(o,["_url","models_url"],j_(i,m)),r}function vw(i,e){const o={},r=d(e,["config"]);return r!=null&&gw(i,r,o),o}function yw(i,e){const o={},r=d(e,["config"]);return r!=null&&_w(i,r,o),o}function Sw(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["_self"]);if(l!=null){let f=tv(l);Array.isArray(f)&&(f=f.map(h=>dd(h))),p(e,["models"],f)}return e}function Tw(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["_self"]);if(l!=null){let f=tv(l);Array.isArray(f)&&(f=f.map(h=>hd(h))),p(e,["models"],f)}return e}function xw(i){const e={},o=d(i,["maskMode"]);o!=null&&p(e,["maskMode"],o);const r=d(i,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const l=d(i,["maskDilation"]);return l!=null&&p(e,["dilation"],l),e}function dd(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["displayName"]);r!=null&&p(e,["displayName"],r);const l=d(i,["description"]);l!=null&&p(e,["description"],l);const f=d(i,["version"]);f!=null&&p(e,["version"],f);const h=d(i,["_self"]);h!=null&&p(e,["tunedModelInfo"],Ow(h));const m=d(i,["inputTokenLimit"]);m!=null&&p(e,["inputTokenLimit"],m);const y=d(i,["outputTokenLimit"]);y!=null&&p(e,["outputTokenLimit"],y);const _=d(i,["supportedGenerationMethods"]);_!=null&&p(e,["supportedActions"],_);const T=d(i,["temperature"]);T!=null&&p(e,["temperature"],T);const E=d(i,["maxTemperature"]);E!=null&&p(e,["maxTemperature"],E);const w=d(i,["topP"]);w!=null&&p(e,["topP"],w);const C=d(i,["topK"]);C!=null&&p(e,["topK"],C);const k=d(i,["thinking"]);return k!=null&&p(e,["thinking"],k),e}function hd(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["displayName"]);r!=null&&p(e,["displayName"],r);const l=d(i,["description"]);l!=null&&p(e,["description"],l);const f=d(i,["versionId"]);f!=null&&p(e,["version"],f);const h=d(i,["deployedModels"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(w=>PE(w))),p(e,["endpoints"],E)}const m=d(i,["labels"]);m!=null&&p(e,["labels"],m);const y=d(i,["_self"]);y!=null&&p(e,["tunedModelInfo"],Bw(y));const _=d(i,["defaultCheckpointId"]);_!=null&&p(e,["defaultCheckpointId"],_);const T=d(i,["checkpoints"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(w=>w)),p(e,["checkpoints"],E)}return e}function Ew(i){const e={},o=d(i,["mediaResolution"]);o!=null&&p(e,["mediaResolution"],o);const r=d(i,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const l=d(i,["executableCode"]);l!=null&&p(e,["executableCode"],l);const f=d(i,["fileData"]);f!=null&&p(e,["fileData"],zE(f));const h=d(i,["functionCall"]);h!=null&&p(e,["functionCall"],UE(h));const m=d(i,["functionResponse"]);m!=null&&p(e,["functionResponse"],m);const y=d(i,["inlineData"]);y!=null&&p(e,["inlineData"],lE(y));const _=d(i,["text"]);_!=null&&p(e,["text"],_);const T=d(i,["thought"]);T!=null&&p(e,["thought"],T);const E=d(i,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const w=d(i,["videoMetadata"]);return w!=null&&p(e,["videoMetadata"],w),e}function ww(i){const e={},o=d(i,["productImage"]);return o!=null&&p(e,["image"],pi(o)),e}function Cw(i,e){const o={},r=d(i,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const l=d(i,["baseSteps"]);e!==void 0&&l!=null&&p(e,["parameters","baseSteps"],l);const f=d(i,["outputGcsUri"]);e!==void 0&&f!=null&&p(e,["parameters","storageUri"],f);const h=d(i,["seed"]);e!==void 0&&h!=null&&p(e,["parameters","seed"],h);const m=d(i,["safetyFilterLevel"]);e!==void 0&&m!=null&&p(e,["parameters","safetySetting"],m);const y=d(i,["personGeneration"]);e!==void 0&&y!=null&&p(e,["parameters","personGeneration"],y);const _=d(i,["addWatermark"]);e!==void 0&&_!=null&&p(e,["parameters","addWatermark"],_);const T=d(i,["outputMimeType"]);e!==void 0&&T!=null&&p(e,["parameters","outputOptions","mimeType"],T);const E=d(i,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const w=d(i,["enhancePrompt"]);e!==void 0&&w!=null&&p(e,["parameters","enhancePrompt"],w);const C=d(i,["labels"]);return e!==void 0&&C!=null&&p(e,["labels"],C),o}function bw(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["source"]);l!=null&&Mw(l,o);const f=d(e,["config"]);return f!=null&&Cw(f,o),o}function Aw(i){const e={},o=d(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Ku(l))),p(e,["generatedImages"],r)}return e}function Mw(i,e){const o={},r=d(i,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const l=d(i,["personImage"]);e!==void 0&&l!=null&&p(e,["instances[0]","personImage","image"],pi(l));const f=d(i,["productImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>ww(m))),p(e,["instances[0]","productImages"],h)}return o}function Nw(i){const e={},o=d(i,["referenceImage"]);o!=null&&p(e,["referenceImage"],pi(o));const r=d(i,["referenceId"]);r!=null&&p(e,["referenceId"],r);const l=d(i,["referenceType"]);l!=null&&p(e,["referenceType"],l);const f=d(i,["maskImageConfig"]);f!=null&&p(e,["maskImageConfig"],xw(f));const h=d(i,["controlImageConfig"]);h!=null&&p(e,["controlImageConfig"],mE(h));const m=d(i,["styleImageConfig"]);m!=null&&p(e,["styleImageConfig"],m);const y=d(i,["subjectImageConfig"]);return y!=null&&p(e,["subjectImageConfig"],y),e}function rv(i){const e={},o=d(i,["safetyAttributes","categories"]);o!=null&&p(e,["categories"],o);const r=d(i,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const l=d(i,["contentType"]);return l!=null&&p(e,["contentType"],l),e}function lv(i){const e={},o=d(i,["safetyAttributes","categories"]);o!=null&&p(e,["categories"],o);const r=d(i,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const l=d(i,["contentType"]);return l!=null&&p(e,["contentType"],l),e}function Rw(i){const e={},o=d(i,["category"]);if(o!=null&&p(e,["category"],o),d(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(i,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function Iw(i){const e={},o=d(i,["image"]);return o!=null&&p(e,["image"],pi(o)),e}function kw(i,e){const o={},r=d(i,["mode"]);e!==void 0&&r!=null&&p(e,["parameters","mode"],r);const l=d(i,["maxPredictions"]);e!==void 0&&l!=null&&p(e,["parameters","maxPredictions"],l);const f=d(i,["confidenceThreshold"]);e!==void 0&&f!=null&&p(e,["parameters","confidenceThreshold"],f);const h=d(i,["maskDilation"]);e!==void 0&&h!=null&&p(e,["parameters","maskDilation"],h);const m=d(i,["binaryColorThreshold"]);e!==void 0&&m!=null&&p(e,["parameters","binaryColorThreshold"],m);const y=d(i,["labels"]);return e!==void 0&&y!=null&&p(e,["labels"],y),o}function Lw(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["source"]);l!=null&&Pw(l,o);const f=d(e,["config"]);return f!=null&&kw(f,o),o}function Dw(i){const e={},o=d(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>sw(l))),p(e,["generatedMasks"],r)}return e}function Pw(i,e){const o={},r=d(i,["prompt"]);e!==void 0&&r!=null&&p(e,["instances[0]","prompt"],r);const l=d(i,["image"]);e!==void 0&&l!=null&&p(e,["instances[0]","image"],pi(l));const f=d(i,["scribbleImage"]);return e!==void 0&&f!=null&&p(e,["instances[0]","scribble"],Iw(f)),o}function zw(i){const e={},o=d(i,["functionCallingConfig"]);o!=null&&p(e,["functionCallingConfig"],OE(o));const r=d(i,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],r),e}function Uw(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>E)),p(e,["functionDeclarations"],T)}if(d(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(i,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const l=d(i,["computerUse"]);l!=null&&p(e,["computerUse"],l);const f=d(i,["fileSearch"]);f!=null&&p(e,["fileSearch"],f);const h=d(i,["codeExecution"]);if(h!=null&&p(e,["codeExecution"],h),d(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(i,["googleMaps"]);m!=null&&p(e,["googleMaps"],fw(m));const y=d(i,["googleSearch"]);y!=null&&p(e,["googleSearch"],dw(y));const _=d(i,["urlContext"]);return _!=null&&p(e,["urlContext"],_),e}function uv(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(w=>BE(w))),p(e,["functionDeclarations"],E)}const r=d(i,["retrieval"]);r!=null&&p(e,["retrieval"],r);const l=d(i,["googleSearchRetrieval"]);l!=null&&p(e,["googleSearchRetrieval"],l);const f=d(i,["computerUse"]);if(f!=null&&p(e,["computerUse"],f),d(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const h=d(i,["codeExecution"]);h!=null&&p(e,["codeExecution"],h);const m=d(i,["enterpriseWebSearch"]);m!=null&&p(e,["enterpriseWebSearch"],m);const y=d(i,["googleMaps"]);y!=null&&p(e,["googleMaps"],y);const _=d(i,["googleSearch"]);_!=null&&p(e,["googleSearch"],_);const T=d(i,["urlContext"]);return T!=null&&p(e,["urlContext"],T),e}function Ow(i){const e={},o=d(i,["baseModel"]);o!=null&&p(e,["baseModel"],o);const r=d(i,["createTime"]);r!=null&&p(e,["createTime"],r);const l=d(i,["updateTime"]);return l!=null&&p(e,["updateTime"],l),e}function Bw(i){const e={},o=d(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&p(e,["baseModel"],o);const r=d(i,["createTime"]);r!=null&&p(e,["createTime"],r);const l=d(i,["updateTime"]);return l!=null&&p(e,["updateTime"],l),e}function Hw(i,e){const o={},r=d(i,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const l=d(i,["description"]);e!==void 0&&l!=null&&p(e,["description"],l);const f=d(i,["defaultCheckpointId"]);return e!==void 0&&f!=null&&p(e,["defaultCheckpointId"],f),o}function Gw(i,e){const o={},r=d(i,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const l=d(i,["description"]);e!==void 0&&l!=null&&p(e,["description"],l);const f=d(i,["defaultCheckpointId"]);return e!==void 0&&f!=null&&p(e,["defaultCheckpointId"],f),o}function qw(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","name"],ge(i,r));const l=d(e,["config"]);return l!=null&&Hw(l,o),o}function Vw(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["config"]);return l!=null&&Gw(l,o),o}function Fw(i,e){const o={},r=d(i,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const l=d(i,["safetyFilterLevel"]);e!==void 0&&l!=null&&p(e,["parameters","safetySetting"],l);const f=d(i,["personGeneration"]);e!==void 0&&f!=null&&p(e,["parameters","personGeneration"],f);const h=d(i,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const m=d(i,["outputMimeType"]);e!==void 0&&m!=null&&p(e,["parameters","outputOptions","mimeType"],m);const y=d(i,["outputCompressionQuality"]);e!==void 0&&y!=null&&p(e,["parameters","outputOptions","compressionQuality"],y);const _=d(i,["enhanceInputImage"]);e!==void 0&&_!=null&&p(e,["parameters","upscaleConfig","enhanceInputImage"],_);const T=d(i,["imagePreservationFactor"]);e!==void 0&&T!=null&&p(e,["parameters","upscaleConfig","imagePreservationFactor"],T);const E=d(i,["labels"]);e!==void 0&&E!=null&&p(e,["labels"],E);const w=d(i,["numberOfImages"]);e!==void 0&&w!=null&&p(e,["parameters","sampleCount"],w);const C=d(i,["mode"]);return e!==void 0&&C!=null&&p(e,["parameters","mode"],C),o}function Zw(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["_url","model"],ge(i,r));const l=d(e,["image"]);l!=null&&p(o,["instances[0]","image"],pi(l));const f=d(e,["upscaleFactor"]);f!=null&&p(o,["parameters","upscaleConfig","upscaleFactor"],f);const h=d(e,["config"]);return h!=null&&Fw(h,o),o}function Yw(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>Ku(f))),p(e,["generatedImages"],l)}return e}function Jw(i){const e={},o=d(i,["uri"]);o!=null&&p(e,["uri"],o);const r=d(i,["encodedVideo"]);r!=null&&p(e,["videoBytes"],Yo(r));const l=d(i,["encoding"]);return l!=null&&p(e,["mimeType"],l),e}function Kw(i){const e={},o=d(i,["gcsUri"]);o!=null&&p(e,["uri"],o);const r=d(i,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],Yo(r));const l=d(i,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function Xw(i){const e={},o=d(i,["image"]);o!=null&&p(e,["_self"],pi(o));const r=d(i,["maskMode"]);return r!=null&&p(e,["maskMode"],r),e}function Ww(i){const e={},o=d(i,["image"]);o!=null&&p(e,["image"],Xu(o));const r=d(i,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function Qw(i){const e={},o=d(i,["image"]);o!=null&&p(e,["image"],pi(o));const r=d(i,["referenceType"]);return r!=null&&p(e,["referenceType"],r),e}function cv(i){const e={},o=d(i,["uri"]);o!=null&&p(e,["uri"],o);const r=d(i,["videoBytes"]);r!=null&&p(e,["encodedVideo"],Yo(r));const l=d(i,["mimeType"]);return l!=null&&p(e,["encoding"],l),e}function fv(i){const e={},o=d(i,["uri"]);o!=null&&p(e,["gcsUri"],o);const r=d(i,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],Yo(r));const l=d(i,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $w(i,e){const o={},r=d(i,["displayName"]);return e!==void 0&&r!=null&&p(e,["displayName"],r),o}function jw(i){const e={},o=d(i,["config"]);return o!=null&&$w(o,e),e}function tC(i,e){const o={},r=d(i,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),o}function eC(i){const e={},o=d(i,["name"]);o!=null&&p(e,["_url","name"],o);const r=d(i,["config"]);return r!=null&&tC(r,e),e}function nC(i){const e={},o=d(i,["name"]);return o!=null&&p(e,["_url","name"],o),e}function iC(i,e){const o={},r=d(i,["customMetadata"]);if(e!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["customMetadata"],f)}const l=d(i,["chunkingConfig"]);return e!==void 0&&l!=null&&p(e,["chunkingConfig"],l),o}function oC(i){const e={},o=d(i,["name"]);o!=null&&p(e,["name"],o);const r=d(i,["metadata"]);r!=null&&p(e,["metadata"],r);const l=d(i,["done"]);l!=null&&p(e,["done"],l);const f=d(i,["error"]);f!=null&&p(e,["error"],f);const h=d(i,["response"]);return h!=null&&p(e,["response"],aC(h)),e}function sC(i){const e={},o=d(i,["fileSearchStoreName"]);o!=null&&p(e,["_url","file_search_store_name"],o);const r=d(i,["fileName"]);r!=null&&p(e,["fileName"],r);const l=d(i,["config"]);return l!=null&&iC(l,e),e}function aC(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["parent"]);r!=null&&p(e,["parent"],r);const l=d(i,["documentName"]);return l!=null&&p(e,["documentName"],l),e}function rC(i,e){const o={},r=d(i,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=d(i,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function lC(i){const e={},o=d(i,["config"]);return o!=null&&rC(o,e),e}function uC(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["fileSearchStores"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["fileSearchStores"],f)}return e}function dv(i,e){const o={},r=d(i,["mimeType"]);e!==void 0&&r!=null&&p(e,["mimeType"],r);const l=d(i,["displayName"]);e!==void 0&&l!=null&&p(e,["displayName"],l);const f=d(i,["customMetadata"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),p(e,["customMetadata"],m)}const h=d(i,["chunkingConfig"]);return e!==void 0&&h!=null&&p(e,["chunkingConfig"],h),o}function cC(i){const e={},o=d(i,["fileSearchStoreName"]);o!=null&&p(e,["_url","file_search_store_name"],o);const r=d(i,["config"]);return r!=null&&dv(r,e),e}function fC(i){const e={},o=d(i,["sdkHttpResponse"]);return o!=null&&p(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="Content-Type",hC="X-Server-Timeout",pC="User-Agent",pd="x-goog-api-client",mC="1.34.0",gC=`google-genai-sdk/${mC}`,_C="v1beta1",vC="v1beta";class yC{constructor(e){var o,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:_C,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:vC,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,r){const l=[this.getRequestUrlInternal(o)];return r&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,r);if(e.queryParams)for(const[h,m]of Object.entries(e.queryParams))l.searchParams.append(h,String(m));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,l.toString(),e.abortSignal),this.unaryApiCall(l,f,e.httpMethod)}patchHttpOptions(e,o){const r=JSON.parse(JSON.stringify(e));for(const[l,f]of Object.entries(o))typeof f=="object"?r[l]=Object.assign(Object.assign({},r[l]),f):f!==void 0&&(r[l]=f);return r}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,o,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,l.toString(),e.abortSignal),this.streamApiCall(l,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,r,l){if(o&&o.timeout||l){const f=new AbortController,h=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>f.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{f.abort()}),e.signal=h}return o&&o.extraBody!==null&&SC(e,o.extraBody),e.headers=await this.getHeadersInternal(o,r),e}async unaryApiCall(e,o,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:r})).then(async l=>(await f_(l),new ud(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,o,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:r})).then(async l=>(await f_(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return di(this,arguments,function*(){var r;const l=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),f=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let h="";const m="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:_,value:T}=yield Xt(l.read());if(_){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=f.decode(T,{stream:!0});try{const k=JSON.parse(E);if("error"in k){const M=JSON.parse(JSON.stringify(k.error)),I=M.status,D=M.code,B=`got status: ${I}. ${JSON.stringify(k)}`;if(D>=400&&D<600)throw new Yu({message:B,status:D})}}catch(k){if(k.name==="ApiError")throw k}h+=E;let w=-1,C=0;for(;;){w=-1,C=0;for(const I of y){const D=h.indexOf(I);D!==-1&&(w===-1||D<w)&&(w=D,C=I.length)}if(w===-1)break;const k=h.substring(0,w);h=h.substring(w+C);const M=k.trim();if(M.startsWith(m)){const I=M.substring(m.length).trim();try{const D=new Response(I,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Xt(new ud(D))}catch(D){throw new Error(`exception parsing stream chunk ${I}. ${D}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},o=gC+" "+this.clientOptions.userAgentExtra;return e[pC]=o,e[pd]=o,e[dC]="application/json",e}async getHeadersInternal(e,o){const r=new Headers;if(e&&e.headers){for(const[l,f]of Object.entries(e.headers))r.append(l,f);e.timeout&&e.timeout>0&&r.append(hC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,o),r}getFileName(e){var o;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(o=r.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),r}async uploadFile(e,o){var r;const l={};o!=null&&(l.mimeType=o.mimeType,l.name=o.name,l.displayName=o.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const f=this.clientOptions.uploader,h=await f.stat(e);l.sizeBytes=String(h.size);const m=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:h.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=m;const y={file:l},_=this.getFileName(e),T=zt("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(T,l.sizeBytes,l.mimeType,_,y,o==null?void 0:o.httpOptions);return f.upload(e,E,this)}async uploadFileToFileSearchStore(e,o,r){var l;const f=this.clientOptions.uploader,h=await f.stat(o),m=String(h.size),y=(l=r==null?void 0:r.mimeType)!==null&&l!==void 0?l:h.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const _=`upload/v1beta/${e}:uploadToFileSearchStore`,T=this.getFileName(o),E={};r!=null&&dv(r,E);const w=await this.fetchUploadUrl(_,m,y,T,E,r==null?void 0:r.httpOptions);return f.uploadToFileSearchStore(o,w,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,r,l,f,h){var m;let y={};h?y=h:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${r}`},l?{"X-Goog-Upload-File-Name":l}:{})};const _=await this.request({path:e,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!_||!(_!=null&&_.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const T=(m=_==null?void 0:_.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(T===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return T}}async function f_(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let r;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await i.json():r={error:{message:await i.text(),code:i.status,status:i.statusText}};const l=JSON.stringify(r);throw o>=400&&o<600?new Yu({message:l,status:o}):new Error(l)}}function SC(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(f,h){const m=Object.assign({},f);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const _=h[y],T=m[y];_&&typeof _=="object"&&!Array.isArray(_)&&T&&typeof T=="object"&&!Array.isArray(T)?m[y]=r(T,_):(T&&_&&typeof T!=typeof _&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof T}, New type: ${typeof _}. Overwriting.`),m[y]=_)}return m}const l=r(o,e);i.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TC="mcp_used/unknown";let xC=!1;function hv(i){for(const e of i)if(EC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xC}function pv(i){var e;const o=(e=i[pd])!==null&&e!==void 0?e:"";i[pd]=(o+` ${TC}`).trimStart()}function EC(i){return i!==null&&typeof i=="object"&&i instanceof Ld}function wC(i){return di(this,arguments,function*(o,r=100){let l,f=0;for(;f<r;){const h=yield Xt(o.listTools({cursor:l}));for(const m of h.tools)yield yield Xt(m),f++;if(!h.nextCursor)break;l=h.nextCursor}})}class Ld{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new Ld(e,o)}async initialize(){var e,o,r,l;if(this.mcpTools.length>0)return;const f={},h=[];for(const T of this.mcpClients)try{for(var m=!0,y=(o=void 0,hi(wC(T))),_;_=await y.next(),e=_.done,!e;m=!0){l=_.value,m=!1;const E=l;h.push(E);const w=E.name;if(f[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);f[w]=T}}catch(E){o={error:E}}finally{try{!m&&!e&&(r=y.return)&&await r.call(y)}finally{if(o)throw o.error}}this.mcpTools=h,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),n1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[r.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const h=await l.callTool({name:r.name,arguments:r.args},void 0,f);o.push({functionResponse:{name:r.name,response:h.isError?{error:h}:h}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function CC(i,e,o){const r=new KT;let l;o.data instanceof Blob?l=JSON.parse(await o.data.text()):l=JSON.parse(o.data),Object.assign(r,l),e(r)}class bC{constructor(e,o,r){this.apiClient=e,this.auth=o,this.webSocketFactory=r}async connect(e){var o,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),h=NC(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${l}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${m}`;let _=()=>{};const T=new Promise(H=>{_=H}),E=e.callbacks,w=function(){_({})},C=this.apiClient,k={onopen:w,onmessage:H=>{CC(C,E.onmessage,H)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(H){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(H){}},M=this.webSocketFactory.create(y,MC(h),k);M.connect(),await T;const B={setup:{model:ge(this.apiClient,e.model)}};return M.send(JSON.stringify(B)),new AC(M,this.apiClient)}}class AC{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=jx(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=$x(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Ta.PLAY)}pause(){this.sendPlaybackControl(Ta.PAUSE)}stop(){this.sendPlaybackControl(Ta.STOP)}resetContext(){this.sendPlaybackControl(Ta.RESET_CONTEXT)}close(){this.conn.close()}}function MC(i){const e={};return i.forEach((o,r)=>{e[r]=o}),e}function NC(i){const e=new Headers;for(const[o,r]of Object.entries(i))e.append(o,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IC(i,e,o){const r=new JT;let l;o.data instanceof Blob?l=await o.data.text():o.data instanceof ArrayBuffer?l=new TextDecoder().decode(o.data):l=o.data;const f=JSON.parse(l);if(i.isVertexAI()){const h=nE(f);Object.assign(r,h)}else Object.assign(r,f);e(r)}class kC{constructor(e,o,r){this.apiClient=e,this.auth=o,this.webSocketFactory=r,this.music=new bC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,r,l,f,h,m;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),_=this.apiClient.getApiVersion();let T;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&hv(e.config.tools)&&pv(E);const w=zC(E);if(this.apiClient.isVertexAI())T=`${y}/ws/google.cloud.aiplatform.${_}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w,T);else{const W=this.apiClient.getApiKey();let yt="BidiGenerateContent",Mt="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),_!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),yt="BidiGenerateContentConstrained",Mt="access_token"),T=`${y}/ws/google.ai.generativelanguage.${_}.GenerativeService.${yt}?${Mt}=${W}`}let C=()=>{};const k=new Promise(W=>{C=W}),M=e.callbacks,I=function(){var W;(W=M==null?void 0:M.onopen)===null||W===void 0||W.call(M),C({})},D=this.apiClient,B={onopen:I,onmessage:W=>{IC(D,M.onmessage,W)},onerror:(o=M==null?void 0:M.onerror)!==null&&o!==void 0?o:function(W){},onclose:(r=M==null?void 0:M.onclose)!==null&&r!==void 0?r:function(W){}},H=this.webSocketFactory.create(T,PC(w),B);H.connect(),await k;let Y=ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&Y.startsWith("publishers/")){const W=this.apiClient.getProject(),yt=this.apiClient.getLocation();Y=`projects/${W}/locations/${yt}/`+Y}let V={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lu.AUDIO]}:e.config.responseModalities=[Lu.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(m=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&m!==void 0?m:[],K=[];for(const W of j)if(this.isCallableTool(W)){const yt=W;K.push(await yt.tool())}else K.push(W);K.length>0&&(e.config.tools=K);const pt={model:Y,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=Qx(this.apiClient,pt):V=Wx(this.apiClient,pt),delete V.config,H.send(JSON.stringify(V)),new DC(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const LC={turnComplete:!0};class DC{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let r=[];try{r=jn(o.turns),e.isVertexAI()||(r=r.map(l=>Ju(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:r,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let r=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?r=o.functionResponses:r=[o.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const f of r){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(RC)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},LC),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:eE(e)}:o={realtimeInput:tE(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function PC(i){const e={};return i.forEach((o,r)=>{e[r]=o}),e}function zC(i){const e=new Headers;for(const[o,r]of Object.entries(i))e.append(o,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d_=10;function h_(i){var e,o,r;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const h of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ca(h)){l=!0;break}if(!l)return!0;const f=(r=i==null?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Ca(i){return"callTool"in i&&typeof i.callTool=="function"}function UC(i){var e,o,r;return(r=(o=(e=i.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(l=>Ca(l)))!==null&&r!==void 0?r:!1}function p_(i){var e;const o=[];return!((e=i==null?void 0:i.config)===null||e===void 0)&&e.tools&&i.config.tools.forEach((r,l)=>{if(Ca(r))return;const f=r;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(l)}),o}function m_(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC extends so{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var r,l,f,h,m;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!UC(o)||h_(o.config))return await this.generateContentInternal(y);const _=p_(o);if(_.length>0){const M=_.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let T,E;const w=jn(y.contents),C=(f=(l=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&f!==void 0?f:d_;let k=0;for(;k<C&&(T=await this.generateContentInternal(y),!(!T.functionCalls||T.functionCalls.length===0));){const M=T.candidates[0].content,I=[];for(const D of(m=(h=o.config)===null||h===void 0?void 0:h.tools)!==null&&m!==void 0?m:[])if(Ca(D)){const H=await D.callTool(T.functionCalls);I.push(...H)}k++,E={role:"user",parts:I},y.contents=jn(y.contents),y.contents.push(M),y.contents.push(E),m_(y.config)&&(w.push(M),w.push(E))}return m_(y.config)&&(T.automaticFunctionCallingHistory=w),T},this.generateContentStream=async o=>{var r,l,f,h,m;if(this.maybeMoveToResponseJsonSchem(o),h_(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const y=p_(o);if(y.length>0){const E=y.map(w=>`tools[${w}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const _=(f=(l=(r=o==null?void 0:o.config)===null||r===void 0?void 0:r.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,T=(m=(h=o==null?void 0:o.config)===null||h===void 0?void 0:h.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(_&&!T)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(r=>{var l;let f;const h=[];if(r!=null&&r.generatedImages)for(const y of r.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((l=y==null?void 0:y.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:h.push(y);let m;return f?m={generatedImages:h,positivePromptSafetyAttributes:f,sdkHttpResponse:r.sdkHttpResponse}:m={generatedImages:h,sdkHttpResponse:r.sdkHttpResponse},m}),this.list=async o=>{var r;const h={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((r=h.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Is(oo.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(h),h)},this.editImage=async o=>{const r={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(r.referenceImages=o.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async o=>{let r={numberOfImages:1,mode:"upscale"};o.config&&(r=Object.assign(Object.assign({},r),o.config));const l={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:r};return await this.upscaleImageInternal(l)},this.generateVideos=async o=>{var r,l,f,h,m,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=o.video)===null||r===void 0)&&r.uri&&(!((l=o.video)===null||l===void 0)&&l.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((h=(f=o.source)===null||f===void 0?void 0:f.video)===null||h===void 0)&&h.uri&&(!((y=(m=o.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,r,l;const f=(o=e.config)===null||o===void 0?void 0:o.tools;if(!f)return e;const h=await Promise.all(f.map(async y=>Ca(y)?await y.tool():y)),m={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(m.config.tools=h,e.config&&e.config.tools&&hv(e.config.tools)){const y=(l=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&l!==void 0?l:{};let _=Object.assign({},y);Object.keys(_).length===0&&(_=this.apiClient.getDefaultHeaders()),pv(_),m.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:_})}return m}async initAfcToolsMap(e){var o,r,l;const f=new Map;for(const h of(r=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[])if(Ca(h)){const m=h,y=await m.tool();for(const _ of(l=y.functionDeclarations)!==null&&l!==void 0?l:[]){if(!_.name)throw new Error("Function declaration name is required.");if(f.has(_.name))throw new Error(`Duplicate tool declaration name: ${_.name}`);f.set(_.name,m)}}return f}async processAfcStream(e){var o,r,l;const f=(l=(r=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:d_;let h=!1,m=0;const y=await this.initAfcToolsMap(e);return(function(_,T,E){return di(this,arguments,function*(){for(var w,C,k,M,I,D;m<f;){h&&(m++,h=!1);const V=yield Xt(_.processParamsMaybeAddMcpUsage(E)),j=yield Xt(_.generateContentStreamInternal(V)),K=[],pt=[];try{for(var B=!0,H=(C=void 0,hi(j)),Y;Y=yield Xt(H.next()),w=Y.done,!w;B=!0){M=Y.value,B=!1;const W=M;if(yield yield Xt(W),W.candidates&&(!((I=W.candidates[0])===null||I===void 0)&&I.content)){pt.push(W.candidates[0].content);for(const yt of(D=W.candidates[0].content.parts)!==null&&D!==void 0?D:[])if(m<f&&yt.functionCall){if(!yt.functionCall.name)throw new Error("Function call name was not returned by the model.");if(T.has(yt.functionCall.name)){const Mt=yield Xt(T.get(yt.functionCall.name).callTool([yt.functionCall]));K.push(...Mt)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${T.keys()}, mising tool: ${yt.functionCall.name}`)}}}}catch(W){C={error:W}}finally{try{!B&&!w&&(k=H.return)&&(yield Xt(k.call(H)))}finally{if(C)throw C.error}}if(K.length>0){h=!0;const W=new Gr;W.candidates=[{content:{role:"user",parts:K}}],yield yield Xt(W);const yt=[];yt.push(...pt),yt.push({role:"user",parts:K});const Mt=jn(E.contents).concat(yt);E.contents=Mt}else break}})})(this,y,e)}async generateContentInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=l_(this.apiClient,e);return m=zt("{model}:generateContent",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=c_(T),w=new Gr;return Object.assign(w,E),w})}else{const _=r_(this.apiClient,e);return m=zt("{model}:generateContent",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=u_(T),w=new Gr;return Object.assign(w,E),w})}}async generateContentStreamInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=l_(this.apiClient,e);return m=zt("{model}:streamGenerateContent?alt=sse",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),h.then(function(E){return di(this,arguments,function*(){var w,C,k,M;try{for(var I=!0,D=hi(E),B;B=yield Xt(D.next()),w=B.done,!w;I=!0){M=B.value,I=!1;const H=M,Y=c_(yield Xt(H.json()));Y.sdkHttpResponse={headers:H.headers};const V=new Gr;Object.assign(V,Y),yield yield Xt(V)}}catch(H){C={error:H}}finally{try{!I&&!w&&(k=D.return)&&(yield Xt(k.call(D)))}finally{if(C)throw C.error}}})})}else{const _=r_(this.apiClient,e);return m=zt("{model}:streamGenerateContent?alt=sse",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),h.then(function(E){return di(this,arguments,function*(){var w,C,k,M;try{for(var I=!0,D=hi(E),B;B=yield Xt(D.next()),w=B.done,!w;I=!0){M=B.value,I=!1;const H=M,Y=u_(yield Xt(H.json()));Y.sdkHttpResponse={headers:H.headers};const V=new Gr;Object.assign(V,Y),yield yield Xt(V)}}catch(H){C={error:H}}finally{try{!I&&!w&&(k=D.return)&&(yield Xt(k.call(D)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=kE(this.apiClient,e);return m=zt("{model}:predict",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=DE(T),w=new Fg;return Object.assign(w,E),w})}else{const _=IE(this.apiClient,e);return m=zt("{model}:batchEmbedContents",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=LE(T),w=new Fg;return Object.assign(w,E),w})}}async generateImagesInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=ZE(this.apiClient,e);return m=zt("{model}:predict",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=JE(T),w=new Zg;return Object.assign(w,E),w})}else{const _=FE(this.apiClient,e);return m=zt("{model}:predict",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=YE(T),w=new Zg;return Object.assign(w,E),w})}}async editImageInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=AE(this.apiClient,e);return f=zt("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const _=ME(y),T=new zT;return Object.assign(T,_),T})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=Zw(this.apiClient,e);return f=zt("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const _=Yw(y),T=new UT;return Object.assign(T,_),T})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=bw(this.apiClient,e);return f=zt("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const _=Aw(y),T=new OT;return Object.assign(T,_),T})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=Lw(this.apiClient,e);return f=zt("{model}:predict",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const _=Dw(y),T=new BT;return Object.assign(T,_),T})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=cw(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>hd(T))}else{const _=uw(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>dd(T))}}async listInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=yw(this.apiClient,e);return m=zt("{models_url}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=Tw(T),w=new Yg;return Object.assign(w,E),w})}else{const _=vw(this.apiClient,e);return m=zt("{models_url}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=Sw(T),w=new Yg;return Object.assign(w,E),w})}}async update(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=Vw(this.apiClient,e);return m=zt("{model}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>hd(T))}else{const _=qw(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>dd(T))}}async delete(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=EE(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=CE(T),w=new Jg;return Object.assign(w,E),w})}else{const _=xE(this.apiClient,e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=wE(T),w=new Jg;return Object.assign(w,E),w})}}async countTokens(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=yE(this.apiClient,e);return m=zt("{model}:countTokens",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=TE(T),w=new Kg;return Object.assign(w,E),w})}else{const _=vE(this.apiClient,e);return m=zt("{model}:countTokens",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=SE(T),w=new Kg;return Object.assign(w,E),w})}}async computeTokens(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=fE(this.apiClient,e);return f=zt("{model}:computeTokens",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>{const _=dE(y),T=new HT;return Object.assign(T,_),T})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=jE(this.apiClient,e);return m=zt("{model}:predictLongRunning",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h.then(T=>{const E=QE(T),w=new Du;return Object.assign(w,E),w})}else{const _=$E(this.apiClient,e);return m=zt("{model}:predictLongRunning",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h.then(T=>{const E=WE(T),w=new Du;return Object.assign(w,E),w})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC extends so{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,r=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const o=e.operation,r=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:l,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:h,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=RT(e);return m=zt("{operationName}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json()),h}else{const _=NT(e);return m=zt("{operationName}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json()),h}}async fetchPredictVideosOperationInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=xT(e);return f=zt("{resourceName}:fetchPredictOperation",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HC(i){const e={},o=d(i,["data"]);if(o!=null&&p(e,["data"],o),d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function GC(i){const e={},o=d(i,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(f=>WC(f))),p(e,["parts"],l)}const r=d(i,["role"]);return r!=null&&p(e,["role"],r),e}function qC(i,e,o){const r={},l=d(e,["expireTime"]);o!==void 0&&l!=null&&p(o,["expireTime"],l);const f=d(e,["newSessionExpireTime"]);o!==void 0&&f!=null&&p(o,["newSessionExpireTime"],f);const h=d(e,["uses"]);o!==void 0&&h!=null&&p(o,["uses"],h);const m=d(e,["liveConnectConstraints"]);o!==void 0&&m!=null&&p(o,["bidiGenerateContentSetup"],XC(i,m));const y=d(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&p(o,["fieldMask"],y),r}function VC(i,e){const o={},r=d(e,["config"]);return r!=null&&p(o,["config"],qC(i,r,o)),o}function FC(i){const e={};if(d(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(i,["fileUri"]);o!=null&&p(e,["fileUri"],o);const r=d(i,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function ZC(i){const e={},o=d(i,["id"]);o!=null&&p(e,["id"],o);const r=d(i,["args"]);r!=null&&p(e,["args"],r);const l=d(i,["name"]);if(l!=null&&p(e,["name"],l),d(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YC(i){const e={};if(d(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(i,["enableWidget"]);return o!=null&&p(e,["enableWidget"],o),e}function JC(i){const e={};if(d(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(i,["timeRangeFilter"]);return o!=null&&p(e,["timeRangeFilter"],o),e}function KC(i,e){const o={},r=d(i,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const l=d(i,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const f=d(i,["temperature"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","temperature"],f);const h=d(i,["topP"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","topP"],h);const m=d(i,["topK"]);e!==void 0&&m!=null&&p(e,["setup","generationConfig","topK"],m);const y=d(i,["maxOutputTokens"]);e!==void 0&&y!=null&&p(e,["setup","generationConfig","maxOutputTokens"],y);const _=d(i,["mediaResolution"]);e!==void 0&&_!=null&&p(e,["setup","generationConfig","mediaResolution"],_);const T=d(i,["seed"]);e!==void 0&&T!=null&&p(e,["setup","generationConfig","seed"],T);const E=d(i,["speechConfig"]);e!==void 0&&E!=null&&p(e,["setup","generationConfig","speechConfig"],kd(E));const w=d(i,["thinkingConfig"]);e!==void 0&&w!=null&&p(e,["setup","generationConfig","thinkingConfig"],w);const C=d(i,["enableAffectiveDialog"]);e!==void 0&&C!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],C);const k=d(i,["systemInstruction"]);e!==void 0&&k!=null&&p(e,["setup","systemInstruction"],GC(fn(k)));const M=d(i,["tools"]);if(e!==void 0&&M!=null){let j=La(M);Array.isArray(j)&&(j=j.map(K=>$C(ka(K)))),p(e,["setup","tools"],j)}const I=d(i,["sessionResumption"]);e!==void 0&&I!=null&&p(e,["setup","sessionResumption"],QC(I));const D=d(i,["inputAudioTranscription"]);e!==void 0&&D!=null&&p(e,["setup","inputAudioTranscription"],D);const B=d(i,["outputAudioTranscription"]);e!==void 0&&B!=null&&p(e,["setup","outputAudioTranscription"],B);const H=d(i,["realtimeInputConfig"]);e!==void 0&&H!=null&&p(e,["setup","realtimeInputConfig"],H);const Y=d(i,["contextWindowCompression"]);e!==void 0&&Y!=null&&p(e,["setup","contextWindowCompression"],Y);const V=d(i,["proactivity"]);if(e!==void 0&&V!=null&&p(e,["setup","proactivity"],V),d(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function XC(i,e){const o={},r=d(e,["model"]);r!=null&&p(o,["setup","model"],ge(i,r));const l=d(e,["config"]);return l!=null&&p(o,["config"],KC(l,o)),o}function WC(i){const e={},o=d(i,["mediaResolution"]);o!=null&&p(e,["mediaResolution"],o);const r=d(i,["codeExecutionResult"]);r!=null&&p(e,["codeExecutionResult"],r);const l=d(i,["executableCode"]);l!=null&&p(e,["executableCode"],l);const f=d(i,["fileData"]);f!=null&&p(e,["fileData"],FC(f));const h=d(i,["functionCall"]);h!=null&&p(e,["functionCall"],ZC(h));const m=d(i,["functionResponse"]);m!=null&&p(e,["functionResponse"],m);const y=d(i,["inlineData"]);y!=null&&p(e,["inlineData"],HC(y));const _=d(i,["text"]);_!=null&&p(e,["text"],_);const T=d(i,["thought"]);T!=null&&p(e,["thought"],T);const E=d(i,["thoughtSignature"]);E!=null&&p(e,["thoughtSignature"],E);const w=d(i,["videoMetadata"]);return w!=null&&p(e,["videoMetadata"],w),e}function QC(i){const e={},o=d(i,["handle"]);if(o!=null&&p(e,["handle"],o),d(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $C(i){const e={},o=d(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>E)),p(e,["functionDeclarations"],T)}if(d(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(i,["googleSearchRetrieval"]);r!=null&&p(e,["googleSearchRetrieval"],r);const l=d(i,["computerUse"]);l!=null&&p(e,["computerUse"],l);const f=d(i,["fileSearch"]);f!=null&&p(e,["fileSearch"],f);const h=d(i,["codeExecution"]);if(h!=null&&p(e,["codeExecution"],h),d(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=d(i,["googleMaps"]);m!=null&&p(e,["googleMaps"],YC(m));const y=d(i,["googleSearch"]);y!=null&&p(e,["googleSearch"],JC(y));const _=d(i,["urlContext"]);return _!=null&&p(e,["urlContext"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(i){const e=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const r=i[o];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const l=Object.keys(r).map(f=>`${o}.${f}`);e.push(...l)}else e.push(o)}return e.join(",")}function tb(i,e){let o=null;const r=i.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const f=r.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else r!==void 0&&delete i.bidiGenerateContentSetup;const l=i.fieldMask;if(o){const f=jC(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];l.length>0&&(m=l.map(_=>h.includes(_)?`generationConfig.${_}`:_));const y=[];f&&y.push(f),m.length>0&&y.push(...m),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?i.fieldMask=l.join(","):delete i.fieldMask;return i}class eb extends so{constructor(e){super(),this.apiClient=e}async create(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=VC(this.apiClient,e);f=zt("auth_tokens",m._url),h=m._query,delete m.config,delete m._url,delete m._query;const y=tb(m,e.config);return l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),l.then(_=>_)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nb(i,e){const o={},r=d(i,["force"]);return e!==void 0&&r!=null&&p(e,["_query","force"],r),o}function ib(i){const e={},o=d(i,["name"]);o!=null&&p(e,["_url","name"],o);const r=d(i,["config"]);return r!=null&&nb(r,e),e}function ob(i){const e={},o=d(i,["name"]);return o!=null&&p(e,["_url","name"],o),e}function sb(i,e){const o={},r=d(i,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=d(i,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),o}function ab(i){const e={},o=d(i,["parent"]);o!=null&&p(e,["_url","parent"],o);const r=d(i,["config"]);return r!=null&&sb(r,e),e}function rb(i){const e={},o=d(i,["sdkHttpResponse"]);o!=null&&p(e,["sdkHttpResponse"],o);const r=d(i,["nextPageToken"]);r!=null&&p(e,["nextPageToken"],r);const l=d(i,["documents"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>h)),p(e,["documents"],f)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends so{constructor(e){super(),this.apiClient=e,this.list=async o=>new Is(oo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:o.parent,config:r.config}),await this.listInternal(o),o)}async get(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ob(e);return f=zt("{name}",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,r;let l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ib(e);l=zt("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=ab(e);return f=zt("{parent}/documents",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const _=rb(y),T=new GT;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ub extends so{constructor(e,o=new lb(e)){super(),this.apiClient=e,this.documents=o,this.list=async(r={})=>new Is(oo.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=jw(e);return f=zt("fileSearchStores",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async get(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=nC(e);return f=zt("{name}",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>y)}}async delete(e){var o,r;let l="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=eC(e);l=zt("{name}",h._url),f=h._query,delete h._url,delete h._query,await this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=lC(e);return f=zt("fileSearchStores",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const _=uC(y),T=new qT;return Object.assign(T,_),T})}}async uploadToFileSearchStoreInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=cC(e);return f=zt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const _=fC(y),T=new VT;return Object.assign(T,_),T})}}async importFile(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=sC(e);return f=zt("{file_search_store_name}:importFile",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),l.then(y=>{const _=oC(y),T=new Ad;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mv=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return mv=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),o=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^o()&15>>+r/4).toString(16))};const cb=()=>mv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function md(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const gd=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ti extends Error{}class vn extends ti{constructor(e,o,r,l){super(`${vn.makeMessage(e,o,r)}`),this.status=e,this.headers=l,this.error=o}static makeMessage(e,o,r){const l=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):r;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,o,r,l){if(!e||!l)return new Wu({message:r,cause:gd(o)});const f=o;return e===400?new _v(e,f,r,l):e===401?new vv(e,f,r,l):e===403?new yv(e,f,r,l):e===404?new Sv(e,f,r,l):e===409?new Tv(e,f,r,l):e===422?new xv(e,f,r,l):e===429?new Ev(e,f,r,l):e>=500?new wv(e,f,r,l):new vn(e,f,r,l)}}class _d extends vn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Wu extends vn{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class gv extends Wu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class _v extends vn{}class vv extends vn{}class yv extends vn{}class Sv extends vn{}class Tv extends vn{}class xv extends vn{}class Ev extends vn{}class wv extends vn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fb=/^[a-z][a-z0-9+.-]*:/i,db=i=>fb.test(i);let vd=i=>(vd=Array.isArray,vd(i));const hb=vd;let pb=hb;const g_=pb;function mb(i){if(!i)return!0;for(const e in i)return!1;return!0}function gb(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const _b=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new ti(`${i} must be an integer`);if(e<0)throw new ti(`${i} must be a positive integer`);return e},vb=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yb=i=>new Promise(e=>setTimeout(e,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sa="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sb(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Tb=()=>{var i,e,o,r,l;const f=Sb();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sa,"X-Stainless-OS":v_(Deno.build.os),"X-Stainless-Arch":__(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sa,"X-Stainless-OS":v_((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":__((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const h=xb();return h?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${h.browser}`,"X-Stainless-Runtime-Version":h.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Sa,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function xb(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of i){const r=o.exec(navigator.userAgent);if(r){const l=r[1]||0,f=r[2]||0,h=r[3]||0;return{browser:e,version:`${l}.${f}.${h}`}}}return null}const __=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",v_=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let yu;const Eb=()=>yu??(yu=Tb());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wb(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Cv(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function Cb(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Cv({start(){},async pull(o){const{done:r,value:l}=await e.next();r?o.close():o.enqueue(l)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function bv(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function bb(i){var e,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(e=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const r=i.getReader(),l=r.cancel();r.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ab=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Av=()=>{var i;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((i=e==null?void 0:e.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function td(i,e,o){return Av(),new File(i,e??"unknown_file",o)}function Mb(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const Nb=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mv=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",Rb=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Mv(i),Ib=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function kb(i,e,o){if(Av(),i=await i,Rb(i))return i instanceof File?i:td([await i.arrayBuffer()],i.name);if(Ib(i)){const l=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),td(await yd(l),e,o)}const r=await yd(i);if(e||(e=Mb(i)),!(o!=null&&o.type)){const l=r.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof l=="string"&&(o=Object.assign(Object.assign({},o),{type:l}))}return td(r,e,o)}async function yd(i){var e,o,r,l,f;let h=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)h.push(i);else if(Mv(i))h.push(i instanceof Blob?i:await i.arrayBuffer());else if(Nb(i))try{for(var m=!0,y=hi(i),_;_=await y.next(),e=_.done,!e;m=!0){l=_.value,m=!1;const T=l;h.push(...await yd(T))}}catch(T){o={error:T}}finally{try{!m&&!e&&(r=y.return)&&await r.call(y)}finally{if(o)throw o.error}}else{const T=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${T?`; constructor: ${T}`:""}${Lb(i)}`)}return h}function Lb(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nv{constructor(e){this._client=e}}Nv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rv(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const y_=Object.freeze(Object.create(null)),Db=(i=Rv)=>(function(o,...r){if(o.length===1)return o[0];let l=!1;const f=[],h=o.reduce((T,E,w)=>{var C,k,M;/[?#]/.test(E)&&(l=!0);const I=r[w];let D=(l?encodeURIComponent:i)(""+I);return w!==r.length&&(I==null||typeof I=="object"&&I.toString===((M=Object.getPrototypeOf((k=Object.getPrototypeOf((C=I.hasOwnProperty)!==null&&C!==void 0?C:y_))!==null&&k!==void 0?k:y_))===null||M===void 0?void 0:M.toString))&&(D=I+"",f.push({start:T.length+E.length,length:D.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),T+E+(w===r.length?"":D)},""),m=h.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let _;for(;(_=y.exec(m))!==null;)f.push({start:_.index,length:_[0].length,error:`Value "${_[0]}" can't be safely passed as a path parameter`});if(f.sort((T,E)=>T.start-E.start),f.length>0){let T=0;const E=f.reduce((w,C)=>{const k=" ".repeat(C.start-T),M="^".repeat(C.length);return T=C.start+C.length,w+k+M},"");throw new ti(`Path parameters result in path with invalid segments:
${f.map(w=>w.error).join(`
`)}
${h}
${E}`)}return h}),Su=Db(Rv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iv extends Nv{create(e,o){var r;const{api_version:l=this._client.apiVersion}=e,f=zu(e,["api_version"]);if("model"in f&&"agent_config"in f)throw new ti("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new ti("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Su`/${l}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,o={},r){const{api_version:l=this._client.apiVersion}=o??{};return this._client.delete(Su`/${l}/interactions/${e}`,r)}cancel(e,o={},r){const{api_version:l=this._client.apiVersion}=o??{};return this._client.post(Su`/${l}/interactions/${e}/cancel`,r)}get(e,o={},r){var l;const f=o??{},{api_version:h=this._client.apiVersion}=f,m=zu(f,["api_version"]);return this._client.get(Su`/${h}/interactions/${e}`,Object.assign(Object.assign({query:m},r),{stream:(l=o==null?void 0:o.stream)!==null&&l!==void 0?l:!1}))}}Iv._key=Object.freeze(["interactions"]);class kv extends Iv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pb(i){let e=0;for(const l of i)e+=l.length;const o=new Uint8Array(e);let r=0;for(const l of i)o.set(l,r),r+=l.length;return o}let Tu;function Dd(i){let e;return(Tu??(e=new globalThis.TextEncoder,Tu=e.encode.bind(e)))(i)}let xu;function S_(i){let e;return(xu??(e=new globalThis.TextDecoder,xu=e.decode.bind(e)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Dd(e):e;this.buffer=Pb([this.buffer,o]);const r=[];let l;for(;(l=zb(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){r.push(S_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,h=S_(this.buffer.subarray(0,f));r.push(h),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Qu.NEWLINE_CHARS=new Set([`
`,"\r"]);Qu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function zb(i,e){for(let l=e??0;l<i.length;l++){if(i[l]===10)return{preceding:l,index:l+1,carriage:!1};if(i[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function Ub(i){for(let r=0;r<i.length-1;r++){if(i[r]===10&&i[r+1]===10||i[r]===13&&i[r+1]===13)return r+2;if(i[r]===13&&i[r+1]===10&&r+3<i.length&&i[r+2]===13&&i[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uu={off:0,error:200,warn:300,info:400,debug:500},T_=(i,e,o)=>{if(i){if(gb(Uu,i))return i;_n(o).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Uu))}`)}};function Zr(){}function Eu(i,e,o){return!e||Uu[i]>Uu[o]?Zr:e[i].bind(e)}const Ob={error:Zr,warn:Zr,info:Zr,debug:Zr};let x_=new WeakMap;function _n(i){var e;const o=i.logger,r=(e=i.logLevel)!==null&&e!==void 0?e:"off";if(!o)return Ob;const l=x_.get(o);if(l&&l[0]===r)return l[1];const f={error:Eu("error",o,r),warn:Eu("warn",o,r),info:Eu("info",o,r),debug:Eu("debug",o,r)};return x_.set(o,[r,f]),f}const Ns=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xa{constructor(e,o,r){this.iterator=e,this.controller=o,this.client=r}static fromSSEResponse(e,o,r){let l=!1;const f=r?_n(r):console;function h(){return di(this,arguments,function*(){var y,_,T,E;if(l)throw new ti("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let w=!1;try{try{for(var C=!0,k=hi(Bb(e,o)),M;M=yield Xt(k.next()),y=M.done,!y;C=!0){E=M.value,C=!1;const I=E;if(!w)if(I.data.startsWith("[DONE]")){w=!0;continue}else try{yield yield Xt(JSON.parse(I.data))}catch(D){throw f.error("Could not parse message into JSON:",I.data),f.error("From chunk:",I.raw),D}}}catch(I){_={error:I}}finally{try{!C&&!y&&(T=k.return)&&(yield Xt(T.call(k)))}finally{if(_)throw _.error}}w=!0}catch(I){if(md(I))return yield Xt(void 0);throw I}finally{w||o.abort()}})}return new xa(h,o,r)}static fromReadableStream(e,o,r){let l=!1;function f(){return di(this,arguments,function*(){var y,_,T,E;const w=new Qu,C=bv(e);try{for(var k=!0,M=hi(C),I;I=yield Xt(M.next()),y=I.done,!y;k=!0){E=I.value,k=!1;const D=E;for(const B of w.decode(D))yield yield Xt(B)}}catch(D){_={error:D}}finally{try{!k&&!y&&(T=M.return)&&(yield Xt(T.call(M)))}finally{if(_)throw _.error}}for(const D of w.flush())yield yield Xt(D)})}function h(){return di(this,arguments,function*(){var y,_,T,E;if(l)throw new ti("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let w=!1;try{try{for(var C=!0,k=hi(f()),M;M=yield Xt(k.next()),y=M.done,!y;C=!0){E=M.value,C=!1;const I=E;w||I&&(yield yield Xt(JSON.parse(I)))}}catch(I){_={error:I}}finally{try{!C&&!y&&(T=k.return)&&(yield Xt(T.call(k)))}finally{if(_)throw _.error}}w=!0}catch(I){if(md(I))return yield Xt(void 0);throw I}finally{w||o.abort()}})}return new xa(h,o,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],r=this.iterator(),l=f=>({next:()=>{if(f.length===0){const h=r.next();e.push(h),o.push(h)}return f.shift()}});return[new xa(()=>l(e),this.controller,this.client),new xa(()=>l(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return Cv({async start(){o=e[Symbol.asyncIterator]()},async pull(r){try{const{value:l,done:f}=await o.next();if(f)return r.close();const h=Dd(JSON.stringify(l)+`
`);r.enqueue(h)}catch(l){r.error(l)}},async cancel(){var r;await((r=o.return)===null||r===void 0?void 0:r.call(o))}})}}function Bb(i,e){return di(this,arguments,function*(){var r,l,f,h;if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ti("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ti("Attempted to iterate over a response with no body");const m=new Gb,y=new Qu,_=bv(i.body);try{for(var T=!0,E=hi(Hb(_)),w;w=yield Xt(E.next()),r=w.done,!r;T=!0){h=w.value,T=!1;const C=h;for(const k of y.decode(C)){const M=m.decode(k);M&&(yield yield Xt(M))}}}catch(C){l={error:C}}finally{try{!T&&!r&&(f=E.return)&&(yield Xt(f.call(E)))}finally{if(l)throw l.error}}for(const C of y.flush()){const k=m.decode(C);k&&(yield yield Xt(k))}})}function Hb(i){return di(this,arguments,function*(){var o,r,l,f;let h=new Uint8Array;try{for(var m=!0,y=hi(i),_;_=yield Xt(y.next()),o=_.done,!o;m=!0){f=_.value,m=!1;const T=f;if(T==null)continue;const E=T instanceof ArrayBuffer?new Uint8Array(T):typeof T=="string"?Dd(T):T;let w=new Uint8Array(h.length+E.length);w.set(h),w.set(E,h.length),h=w;let C;for(;(C=Ub(h))!==-1;)yield yield Xt(h.slice(0,C)),h=h.slice(C)}}catch(T){r={error:T}}finally{try{!m&&!o&&(l=y.return)&&(yield Xt(l.call(y)))}finally{if(r)throw r.error}}h.length>0&&(yield yield Xt(h))})}class Gb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,r,l]=qb(e,":");return l.startsWith(" ")&&(l=l.substring(1)),o==="event"?this.event=l:o==="data"&&this.data.push(l),null}}function qb(i,e){const o=i.indexOf(e);return o!==-1?[i.substring(0,o),e,i.substring(o+e.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Vb(i,e){const{response:o,requestLogID:r,retryOfRequestLogID:l,startTime:f}=e,h=await(async()=>{var m;if(e.options.stream)return _n(i).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,i):xa.fromSSEResponse(o,e.controller,i);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const y=o.headers.get("content-type"),_=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(_==null?void 0:_.includes("application/json"))||(_==null?void 0:_.endsWith("+json"))?await o.json():await o.text()})();return _n(i).debug(`[${r}] response parsed`,Ns({retryOfRequestLogID:l,url:o.url,status:o.status,body:h,durationMs:Date.now()-f})),h}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pd extends Promise{constructor(e,o,r=Vb){super(l=>{l(null)}),this.responsePromise=o,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Pd(this.client,this.responsePromise,async(o,r)=>e(await this.parseResponse(o,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lv=Symbol("brand.privateNullableHeaders");function*Fb(i){if(!i)return;if(Lv in i){const{values:r,nulls:l}=i;yield*r.entries();for(const f of l)yield[f,null];return}let e=!1,o;i instanceof Headers?o=i.entries():g_(i)?o=i:(e=!0,o=Object.entries(i??{}));for(let r of o){const l=r[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const f=g_(r[1])?r[1]:[r[1]];let h=!1;for(const m of f)m!==void 0&&(e&&!h&&(h=!0,yield[l,null]),yield[l,m])}}const qr=i=>{const e=new Headers,o=new Set;for(const r of i){const l=new Set;for(const[f,h]of Fb(r)){const m=f.toLowerCase();l.has(m)||(e.delete(f),l.add(m)),h===null?(e.delete(f),o.add(m)):(e.append(f,h),o.delete(m))}}return{[Lv]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ed=i=>{var e,o,r,l,f,h;if(typeof globalThis.process<"u")return(r=(o=(e=gT)===null||e===void 0?void 0:e[i])===null||o===void 0?void 0:o.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(h=(f=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||f===void 0?void 0:f.call(l,i))===null||h===void 0?void 0:h.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dv;class $u{constructor(e){var o,r,l,f,h,m,y,{baseURL:_=ed("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:T=(o=ed("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=e,w=zu(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:T,apiVersion:E},w),{baseURL:_||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(r=C.timeout)!==null&&r!==void 0?r:$u.DEFAULT_TIMEOUT,this.logger=(l=C.logger)!==null&&l!==void 0?l:console;const k="warn";this.logLevel=k,this.logLevel=(h=(f=T_(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:T_(ed("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&h!==void 0?h:k,this.fetchOptions=C.fetchOptions,this.maxRetries=(m=C.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:wb(),this.encoder=Ab,this._options=C,this.apiKey=T,this.apiVersion=E,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=qr([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return qr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return qr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new ti(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Sa}`}defaultIdempotencyKey(){return`stainless-node-retry-${cb()}`}makeStatusError(e,o,r,l){return vn.generate(e,o,r,l)}buildURL(e,o,r){const l=!this.baseURLOverridden()&&r||this.baseURL,f=db(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),h=this.defaultQuery();return mb(h)||(o=Object.assign(Object.assign({},h),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:r}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,r){return this.request(Promise.resolve(r).then(l=>Object.assign({method:e,path:o},l)))}request(e,o=null){return new Pd(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,r){var l,f,h;const m=await e,y=(l=m.maxRetries)!==null&&l!==void 0?l:this.maxRetries;o==null&&(o=y),await this.prepareOptions(m);const{req:_,url:T,timeout:E}=await this.buildRequest(m,{retryCount:y-o});await this.prepareRequest(_,{url:T,options:m});const w="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=r===void 0?"":`, retryOf: ${r}`,k=Date.now();if(_n(this).debug(`[${w}] sending request`,Ns({retryOfRequestLogID:r,method:m.method,url:T,options:m,headers:_.headers})),!((f=m.signal)===null||f===void 0)&&f.aborted)throw new _d;const M=new AbortController,I=await this.fetchWithTimeout(T,_,E,M).catch(gd),D=Date.now();if(I instanceof globalThis.Error){const H=`retrying, ${o} attempts remaining`;if(!((h=m.signal)===null||h===void 0)&&h.aborted)throw new _d;const Y=md(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(o)return _n(this).info(`[${w}] connection ${Y?"timed out":"failed"} - ${H}`),_n(this).debug(`[${w}] connection ${Y?"timed out":"failed"} (${H})`,Ns({retryOfRequestLogID:r,url:T,durationMs:D-k,message:I.message})),this.retryRequest(m,o,r??w);throw _n(this).info(`[${w}] connection ${Y?"timed out":"failed"} - error; no more retries left`),_n(this).debug(`[${w}] connection ${Y?"timed out":"failed"} (error; no more retries left)`,Ns({retryOfRequestLogID:r,url:T,durationMs:D-k,message:I.message})),Y?new gv:new Wu({cause:I})}const B=`[${w}${C}] ${_.method} ${T} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${D-k}ms`;if(!I.ok){const H=await this.shouldRetry(I);if(o&&H){const W=`retrying, ${o} attempts remaining`;return await bb(I.body),_n(this).info(`${B} - ${W}`),_n(this).debug(`[${w}] response error (${W})`,Ns({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,durationMs:D-k})),this.retryRequest(m,o,r??w,I.headers)}const Y=H?"error; no more retries left":"error; not retryable";_n(this).info(`${B} - ${Y}`);const V=await I.text().catch(W=>gd(W).message),j=vb(V),K=j?void 0:V;throw _n(this).debug(`[${w}] response error (${Y})`,Ns({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,message:K,durationMs:Date.now()-k})),this.makeStatusError(I.status,j,K,I.headers)}return _n(this).info(B),_n(this).debug(`[${w}] response start`,Ns({retryOfRequestLogID:r,url:I.url,status:I.status,headers:I.headers,durationMs:D-k})),{response:I,options:m,controller:M,requestLogID:w,retryOfRequestLogID:r,startTime:k}}async fetchWithTimeout(e,o,r,l){const f=o||{},{signal:h,method:m}=f,y=zu(f,["signal","method"]);h&&h.addEventListener("abort",()=>l.abort());const _=setTimeout(()=>l.abort(),r),T=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:l.signal},T?{duplex:"half"}:{}),{method:"GET"}),y);m&&(E.method=m.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(_)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,r,l){var f;let h;const m=l==null?void 0:l.get("retry-after-ms");if(m){const _=parseFloat(m);Number.isNaN(_)||(h=_)}const y=l==null?void 0:l.get("retry-after");if(y&&!h){const _=parseFloat(y);Number.isNaN(_)?h=Date.parse(y)-Date.now():h=_*1e3}if(!(h&&0<=h&&h<60*1e3)){const _=(f=e.maxRetries)!==null&&f!==void 0?f:this.maxRetries;h=this.calculateDefaultRetryTimeoutMillis(o,_)}return await yb(h),this.makeRequest(e,o-1,r)}calculateDefaultRetryTimeoutMillis(e,o){const f=o-e,h=Math.min(.5*Math.pow(2,f),8),m=1-Math.random()*.25;return h*m*1e3}async buildRequest(e,{retryCount:o=0}={}){var r,l,f;const h=Object.assign({},e),{method:m,path:y,query:_,defaultBaseURL:T}=h,E=this.buildURL(y,_,T);"timeout"in h&&_b("timeout",h.timeout),h.timeout=(r=h.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:w,body:C}=this.buildBody({options:h}),k=await this.buildHeaders({options:e,method:m,bodyHeaders:w,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:k},h.signal&&{signal:h.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(f=h.fetchOptions)!==null&&f!==void 0?f:{}),url:E,timeout:h.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:r,retryCount:l}){let f={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=e.idempotencyKey);const h=await this.authHeaders(e);let m=qr([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),Eb()),this._options.defaultHeaders,r,e.headers,h]);return this.validateHeaders(m),m.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=qr([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Cb(e)}:this.encoder({body:e,headers:r})}}$u.DEFAULT_TIMEOUT=6e4;class en extends $u{constructor(){super(...arguments),this.interactions=new kv(this)}}Dv=en;en.GeminiNextGenAPIClient=Dv;en.GeminiNextGenAPIClientError=ti;en.APIError=vn;en.APIConnectionError=Wu;en.APIConnectionTimeoutError=gv;en.APIUserAbortError=_d;en.NotFoundError=Sv;en.ConflictError=Tv;en.RateLimitError=Ev;en.BadRequestError=_v;en.AuthenticationError=vv;en.InternalServerError=wv;en.PermissionDeniedError=yv;en.UnprocessableEntityError=xv;en.toFile=kb;en.Interactions=kv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(i,e){const o={},r=d(i,["name"]);return r!=null&&p(o,["_url","name"],r),o}function Yb(i,e){const o={},r=d(i,["name"]);return r!=null&&p(o,["_url","name"],r),o}function Jb(i,e){const o={},r=d(i,["sdkHttpResponse"]);return r!=null&&p(o,["sdkHttpResponse"],r),o}function Kb(i,e){const o={},r=d(i,["sdkHttpResponse"]);return r!=null&&p(o,["sdkHttpResponse"],r),o}function Xb(i,e,o){const r={};if(d(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=d(i,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&p(e,["displayName"],l),d(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=d(i,["epochCount"]);e!==void 0&&f!=null&&p(e,["tuningTask","hyperparameters","epochCount"],f);const h=d(i,["learningRateMultiplier"]);if(h!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],h),d(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=d(i,["batchSize"]);e!==void 0&&m!=null&&p(e,["tuningTask","hyperparameters","batchSize"],m);const y=d(i,["learningRate"]);if(e!==void 0&&y!=null&&p(e,["tuningTask","hyperparameters","learningRate"],y),d(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Wb(i,e,o){const r={};let l=d(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const C=d(i,["validationDataset"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec"],E_(C))}else if(l==="PREFERENCE_TUNING"){const C=d(i,["validationDataset"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec"],E_(C))}const f=d(i,["tunedModelDisplayName"]);e!==void 0&&f!=null&&p(e,["tunedModelDisplayName"],f);const h=d(i,["description"]);e!==void 0&&h!=null&&p(e,["description"],h);let m=d(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const C=d(i,["epochCount"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(m==="PREFERENCE_TUNING"){const C=d(i,["epochCount"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=d(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=d(i,["learningRateMultiplier"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=d(i,["learningRateMultiplier"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let _=d(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const C=d(i,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(_==="PREFERENCE_TUNING"){const C=d(i,["exportLastCheckpointOnly"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let T=d(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const C=d(i,["adapterSize"]);e!==void 0&&C!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(T==="PREFERENCE_TUNING"){const C=d(i,["adapterSize"]);e!==void 0&&C!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(d(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=d(i,["labels"]);e!==void 0&&E!=null&&p(e,["labels"],E);const w=d(i,["beta"]);return e!==void 0&&w!=null&&p(e,["preferenceOptimizationSpec","hyperParameters","beta"],w),r}function Qb(i,e){const o={},r=d(i,["baseModel"]);r!=null&&p(o,["baseModel"],r);const l=d(i,["preTunedModel"]);l!=null&&p(o,["preTunedModel"],l);const f=d(i,["trainingDataset"]);f!=null&&lA(f);const h=d(i,["config"]);return h!=null&&Xb(h,o),o}function $b(i,e){const o={},r=d(i,["baseModel"]);r!=null&&p(o,["baseModel"],r);const l=d(i,["preTunedModel"]);l!=null&&p(o,["preTunedModel"],l);const f=d(i,["trainingDataset"]);f!=null&&uA(f,o,e);const h=d(i,["config"]);return h!=null&&Wb(h,o,e),o}function jb(i,e){const o={},r=d(i,["name"]);return r!=null&&p(o,["_url","name"],r),o}function tA(i,e){const o={},r=d(i,["name"]);return r!=null&&p(o,["_url","name"],r),o}function eA(i,e,o){const r={},l=d(i,["pageSize"]);e!==void 0&&l!=null&&p(e,["_query","pageSize"],l);const f=d(i,["pageToken"]);e!==void 0&&f!=null&&p(e,["_query","pageToken"],f);const h=d(i,["filter"]);return e!==void 0&&h!=null&&p(e,["_query","filter"],h),r}function nA(i,e,o){const r={},l=d(i,["pageSize"]);e!==void 0&&l!=null&&p(e,["_query","pageSize"],l);const f=d(i,["pageToken"]);e!==void 0&&f!=null&&p(e,["_query","pageToken"],f);const h=d(i,["filter"]);return e!==void 0&&h!=null&&p(e,["_query","filter"],h),r}function iA(i,e){const o={},r=d(i,["config"]);return r!=null&&eA(r,o),o}function oA(i,e){const o={},r=d(i,["config"]);return r!=null&&nA(r,o),o}function sA(i,e){const o={},r=d(i,["sdkHttpResponse"]);r!=null&&p(o,["sdkHttpResponse"],r);const l=d(i,["nextPageToken"]);l!=null&&p(o,["nextPageToken"],l);const f=d(i,["tunedModels"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>Pv(m))),p(o,["tuningJobs"],h)}return o}function aA(i,e){const o={},r=d(i,["sdkHttpResponse"]);r!=null&&p(o,["sdkHttpResponse"],r);const l=d(i,["nextPageToken"]);l!=null&&p(o,["nextPageToken"],l);const f=d(i,["tuningJobs"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>Sd(m))),p(o,["tuningJobs"],h)}return o}function rA(i,e){const o={},r=d(i,["name"]);r!=null&&p(o,["model"],r);const l=d(i,["name"]);return l!=null&&p(o,["endpoint"],l),o}function lA(i,e){const o={};if(d(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(i,["examples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(f=>f)),p(o,["examples","examples"],l)}return o}function uA(i,e,o){const r={};let l=d(o,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const h=d(i,["gcsUri"]);e!==void 0&&h!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(l==="PREFERENCE_TUNING"){const h=d(i,["gcsUri"]);e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],h)}let f=d(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=d(i,["vertexDatasetResource"]);e!==void 0&&h!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],h)}else if(f==="PREFERENCE_TUNING"){const h=d(i,["vertexDatasetResource"]);e!==void 0&&h!=null&&p(e,["preferenceOptimizationSpec","trainingDatasetUri"],h)}if(d(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Pv(i,e){const o={},r=d(i,["sdkHttpResponse"]);r!=null&&p(o,["sdkHttpResponse"],r);const l=d(i,["name"]);l!=null&&p(o,["name"],l);const f=d(i,["state"]);f!=null&&p(o,["state"],Q_(f));const h=d(i,["createTime"]);h!=null&&p(o,["createTime"],h);const m=d(i,["tuningTask","startTime"]);m!=null&&p(o,["startTime"],m);const y=d(i,["tuningTask","completeTime"]);y!=null&&p(o,["endTime"],y);const _=d(i,["updateTime"]);_!=null&&p(o,["updateTime"],_);const T=d(i,["description"]);T!=null&&p(o,["description"],T);const E=d(i,["baseModel"]);E!=null&&p(o,["baseModel"],E);const w=d(i,["_self"]);return w!=null&&p(o,["tunedModel"],rA(w)),o}function Sd(i,e){const o={},r=d(i,["sdkHttpResponse"]);r!=null&&p(o,["sdkHttpResponse"],r);const l=d(i,["name"]);l!=null&&p(o,["name"],l);const f=d(i,["state"]);f!=null&&p(o,["state"],Q_(f));const h=d(i,["createTime"]);h!=null&&p(o,["createTime"],h);const m=d(i,["startTime"]);m!=null&&p(o,["startTime"],m);const y=d(i,["endTime"]);y!=null&&p(o,["endTime"],y);const _=d(i,["updateTime"]);_!=null&&p(o,["updateTime"],_);const T=d(i,["error"]);T!=null&&p(o,["error"],T);const E=d(i,["description"]);E!=null&&p(o,["description"],E);const w=d(i,["baseModel"]);w!=null&&p(o,["baseModel"],w);const C=d(i,["tunedModel"]);C!=null&&p(o,["tunedModel"],C);const k=d(i,["preTunedModel"]);k!=null&&p(o,["preTunedModel"],k);const M=d(i,["supervisedTuningSpec"]);M!=null&&p(o,["supervisedTuningSpec"],M);const I=d(i,["preferenceOptimizationSpec"]);I!=null&&p(o,["preferenceOptimizationSpec"],I);const D=d(i,["tuningDataStats"]);D!=null&&p(o,["tuningDataStats"],D);const B=d(i,["encryptionSpec"]);B!=null&&p(o,["encryptionSpec"],B);const H=d(i,["partnerModelTuningSpec"]);H!=null&&p(o,["partnerModelTuningSpec"],H);const Y=d(i,["customBaseModel"]);Y!=null&&p(o,["customBaseModel"],Y);const V=d(i,["experiment"]);V!=null&&p(o,["experiment"],V);const j=d(i,["labels"]);j!=null&&p(o,["labels"],j);const K=d(i,["outputUri"]);K!=null&&p(o,["outputUri"],K);const pt=d(i,["pipelineJob"]);pt!=null&&p(o,["pipelineJob"],pt);const W=d(i,["serviceAccount"]);W!=null&&p(o,["serviceAccount"],W);const yt=d(i,["tunedModelDisplayName"]);yt!=null&&p(o,["tunedModelDisplayName"],yt);const Mt=d(i,["veoTuningSpec"]);return Mt!=null&&p(o,["veoTuningSpec"],Mt),o}function cA(i,e){const o={},r=d(i,["sdkHttpResponse"]);r!=null&&p(o,["sdkHttpResponse"],r);const l=d(i,["name"]);l!=null&&p(o,["name"],l);const f=d(i,["metadata"]);f!=null&&p(o,["metadata"],f);const h=d(i,["done"]);h!=null&&p(o,["done"],h);const m=d(i,["error"]);return m!=null&&p(o,["error"],m),o}function E_(i,e){const o={},r=d(i,["gcsUri"]);r!=null&&p(o,["validationDatasetUri"],r);const l=d(i,["vertexDatasetResource"]);return l!=null&&p(o,["validationDatasetUri"],l),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fA extends so{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Is(oo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var r;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel};!((r=o.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(l.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:l});return f.baseModel=void 0,await this.tuneInternal(f)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),f=await this.tuneMldevInternal(l);let h="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?h=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(h=f.name.split("/operations/")[0]),{name:h,state:ld.JOB_STATE_QUEUED}}}}async getInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=tA(e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>Sd(T))}else{const _=jb(e);return m=zt("{name}",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>Pv(T))}}async listInternal(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=oA(e);return m=zt("tuningJobs",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=aA(T),w=new Xg;return Object.assign(w,E),w})}else{const _=iA(e);return m=zt("tunedModels",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=sA(T),w=new Xg;return Object.assign(w,E),w})}}async cancel(e){var o,r,l,f;let h,m="",y={};if(this.apiClient.isVertexAI()){const _=Yb(e);return m=zt("{name}:cancel",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=Kb(T),w=new Wg;return Object.assign(w,E),w})}else{const _=Zb(e);return m=zt("{name}:cancel",_._url),y=_._query,delete _._url,delete _._query,h=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(_),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(T=>T.json().then(E=>{const w=E;return w.sdkHttpResponse={headers:T.headers},w})),h.then(T=>{const E=Jb(T),w=new Wg;return Object.assign(w,E),w})}}async tuneInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI()){const m=$b(e,e);return f=zt("tuningJobs",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>Sd(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,r;let l,f="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Qb(e);return f=zt("tunedModels",m._url),h=m._query,delete m._url,delete m._query,l=this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:y.headers},T})),l.then(y=>cA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dA{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hA=1024*1024*8,pA=3,mA=1e3,gA=2,Ou="x-goog-upload-status";async function _A(i,e,o){var r;const l=await zv(i,e,o),f=await(l==null?void 0:l.json());if(((r=l==null?void 0:l.headers)===null||r===void 0?void 0:r[Ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function vA(i,e,o){var r;const l=await zv(i,e,o),f=await(l==null?void 0:l.json());if(((r=l==null?void 0:l.headers)===null||r===void 0?void 0:r[Ou])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const h=Z_(f),m=new Md;return Object.assign(m,h),m}async function zv(i,e,o){var r,l;let f=0,h=0,m=new ud(new Response),y="upload";for(f=i.size;h<f;){const _=Math.min(hA,f-h),T=i.slice(h,h+_);h+_>=f&&(y+=", finalize");let E=0,w=mA;for(;E<pA&&(m=await o.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(h),"Content-Length":String(_)}}}),!(!((r=m==null?void 0:m.headers)===null||r===void 0)&&r[Ou]));)E++,await SA(w),w=w*gA;if(h+=_,((l=m==null?void 0:m.headers)===null||l===void 0?void 0:l[Ou])!=="active")break;if(f<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function yA(i){return{size:i.size,type:i.type}}function SA(i){return new Promise(e=>setTimeout(e,i))}class TA{async upload(e,o,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await _A(e,o,r)}async uploadToFileSearchStore(e,o,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vA(e,o,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yA(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xA{create(e,o,r){return new EA(e,o,r)}}class EA{constructor(e,o,r){this.url=e,this.headers=o,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const w_="x-goog-api-key";class wA{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(w_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(w_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CA="gl-node/";class bA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new en({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const r=ST(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new wA(this.apiKey);this.apiClient=new yC({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:CA+"web",uploader:new TA,downloader:new dA}),this.models=new OC(this.apiClient),this.live=new kC(this.apiClient,l,new xA),this.batches=new X1(this.apiClient),this.chats=new Rx(this.models,this.apiClient),this.caches=new Ax(this.apiClient),this.files=new Hx(this.apiClient),this.operations=new BC(this.apiClient),this.authTokens=new eb(this.apiClient),this.tunings=new fA(this.apiClient),this.fileSearchStores=new ub(this.apiClient)}}const AA=i=>{const e=i.split(","),o=atob(e[1]),r=e[0].split(":")[1].split(";")[0],l=new ArrayBuffer(o.length),f=new Uint8Array(l);for(let h=0;h<o.length;h++)f[h]=o.charCodeAt(h);return new Blob([l],{type:r})},MA=({pole:i,siteName:e,companyName:o,onUpdate:r,onDelete:l,onClose:f})=>{const h=bt.useRef(null),[m,y]=bt.useState(!1),[_,T]=bt.useState(!1),[E,w]=bt.useState(navigator.onLine),[C,k]=bt.useState(null),[M,I]=bt.useState(null);bt.useEffect(()=>{const V=()=>w(!0),j=()=>w(!1);return window.addEventListener("online",V),window.addEventListener("offline",j),()=>{window.removeEventListener("online",V),window.removeEventListener("offline",j)}},[]);const D=i.photos.find(V=>V.id===C);bt.useEffect(()=>{C?ku(C).then(V=>{if(V){const j=URL.createObjectURL(V);return I(j),()=>URL.revokeObjectURL(j)}}):I(null)},[C]);const B=async V=>{var yt;const j=(yt=V.target.files)==null?void 0:yt[0];if(!j)return;y(!0);let K,pt;try{const Mt=await new Promise((F,st)=>navigator.geolocation.getCurrentPosition(F,st,{timeout:3e3}));K=Mt.coords.latitude,pt=Mt.coords.longitude}catch{}const W=new FileReader;W.onload=async Mt=>{var st;const F=(st=Mt.target)==null?void 0:st.result;try{const{processed:R,thumbnail:St}=await cT(F,i,e,o,K,pt),Q=crypto.randomUUID();await mT(Q,AA(R));const tt={id:Q,thumbnail:St,timestamp:new Date().toISOString(),status:"PENDING",capturedLat:K,capturedLng:pt,isStoredInDB:!0};r({photos:[...i.photos||[],tt]})}catch(R){console.error("Processing failed",R)}finally{y(!1)}},W.readAsDataURL(j),h.current&&(h.current.value="")},H=(V,j,K)=>{const pt=i.photos.map(W=>W.id===V?{...W,status:j,remarks:K??W.remarks}:W);r({photos:pt})},Y=async V=>{if(!E)return alert("AI analysis requires an active internet connection.");T(!0);try{const j=await ku(V);if(!j)throw new Error("Binary evidence not found in temporary store.");const K=new FileReader,pt=await new Promise(Mt=>{K.onloadend=()=>Mt(K.result.split(",")[1]),K.readAsDataURL(j)}),yt=await new bA({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-flash-preview",contents:[{parts:[{inlineData:{data:pt,mimeType:"image/jpeg"}},{text:"Analyze this pole structurally. Max 15 words."}]}]});H(V,"PENDING",yt.text||"AI analysis completed.")}catch{alert("AI Service Unavailable")}finally{T(!1)}};return P.jsxs("div",{className:"flex flex-col h-full bg-white",children:[C&&D&&P.jsxs("div",{className:"fixed inset-0 z-[6000] bg-slate-950/98 backdrop-blur-2xl flex flex-col overflow-y-auto",children:[P.jsxs("div",{className:"w-full flex justify-between items-center p-6 shrink-0 pt-[env(safe-area-inset-top)]",children:[P.jsx("h3",{className:"text-white text-xs font-black uppercase tracking-widest",children:"Evidence Review"}),P.jsx("button",{onClick:()=>k(null),className:"p-3 text-white bg-white/10 rounded-full active:scale-90 transition-transform",children:P.jsx(ba,{className:"w-6 h-6"})})]}),P.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4",children:M?P.jsx("img",{src:M,className:"max-w-full max-h-[60vh] object-contain rounded-2xl shadow-2xl",alt:"Full Evidence"}):P.jsx(bu,{className:"w-12 h-12 text-indigo-500 animate-spin"})}),P.jsxs("div",{className:"w-full max-w-2xl mx-auto bg-white rounded-t-[40px] p-8 space-y-6 shadow-2xl pb-[calc(2rem+env(safe-area-inset-bottom))]",children:[P.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[P.jsx("h3",{className:"text-xl font-black text-slate-900 uppercase",children:"QA Assessment"}),P.jsxs("button",{onClick:()=>Y(C),disabled:_||!E,className:`flex items-center gap-2 px-5 py-3 rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg transition-all
                  ${E?"bg-indigo-600 text-white shadow-indigo-500/20":"bg-slate-100 text-slate-400 shadow-none grayscale"}
                `,children:[_?P.jsx(bu,{className:"w-4 h-4 animate-spin"}):E?P.jsx(_S,{className:"w-4 h-4"}):P.jsx(Iu,{className:"w-4 h-4"}),_?"ANALYZING...":E?"AI ASSESS":"OFFLINE"]})]}),!E&&P.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-4 rounded-2xl flex items-center gap-3",children:[P.jsx(Iu,{className:"w-5 h-5 text-amber-600 shrink-0"}),P.jsx("p",{className:"text-[10px] font-bold text-amber-700 uppercase tracking-tight",children:"AI features are disabled while offline. Manual review still active."})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsxs("button",{onClick:()=>H(C,"PASSED"),className:`flex flex-col items-center gap-3 p-6 rounded-3xl transition-all border-2 ${D.status==="PASSED"?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-white border-slate-100 text-slate-400"}`,children:[P.jsx(od,{className:"w-8 h-8"}),P.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Pass"})]}),P.jsxs("button",{onClick:()=>H(C,"RETAKE"),className:`flex flex-col items-center gap-3 p-6 rounded-3xl transition-all border-2 ${D.status==="RETAKE"?"bg-rose-50 border-rose-500 text-rose-700":"bg-white border-slate-100 text-slate-400"}`,children:[P.jsx(Gm,{className:"w-8 h-8"}),P.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Retake"})]})]}),P.jsx("textarea",{value:D.remarks||"",onChange:V=>H(C,D.status||"PENDING",V.target.value),placeholder:"Technical remarks...",className:"w-full p-5 bg-slate-50 border border-slate-100 rounded-3xl h-28 resize-none text-sm"}),P.jsx("button",{onClick:()=>k(null),className:"w-full p-5 bg-slate-900 text-white rounded-[24px] font-black text-xs uppercase tracking-widest",children:"Done"})]})]}),P.jsxs("div",{className:"px-6 py-6 border-b app-border-light flex items-center justify-between bg-slate-50/50",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("button",{onClick:f,className:"p-3 bg-white rounded-2xl border border-slate-200 shadow-sm",children:P.jsx(I_,{className:"w-6 h-6 text-slate-700"})}),P.jsxs("div",{className:"flex flex-col",children:[P.jsx("h2",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Edit Pin"}),P.jsx("p",{className:"text-[9px] font-black text-indigo-500 uppercase tracking-widest",children:i.id.substring(0,8)})]})]}),P.jsx("button",{onClick:()=>window.confirm(`DELETE ${i.name}?`)&&(l(),f()),className:"p-4 bg-rose-50 text-rose-500 rounded-2xl border border-rose-100 active:scale-90 transition-transform shadow-sm",children:P.jsx(ad,{className:"w-6 h-6"})})]}),P.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-8 space-y-10",children:[P.jsxs("div",{className:"space-y-3",children:[P.jsx("label",{className:"text-[11px] font-black uppercase text-slate-400 tracking-[0.2em]",children:"Asset Reference"}),P.jsx("input",{type:"text",value:i.name,onChange:V=>r({name:V.target.value.toUpperCase()}),className:"w-full p-6 bg-slate-100 border border-slate-200 rounded-[28px] font-black text-slate-800 text-xl uppercase shadow-inner"})]}),P.jsxs("div",{className:"space-y-5",children:[P.jsx("label",{className:"text-[11px] font-black uppercase text-slate-400 tracking-[0.2em]",children:"Evidence Portfolio"}),P.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[i.photos.map(V=>P.jsxs("div",{className:"group relative aspect-square rounded-[32px] overflow-hidden bg-slate-100 border-2 border-slate-200",onClick:()=>k(V.id),children:[P.jsx("img",{src:V.thumbnail,className:"w-full h-full object-cover blur-[0.5px]",alt:"UI Thumb"}),P.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:P.jsx(Oy,{className:"text-white w-6 h-6"})}),V.status&&V.status!=="PENDING"&&P.jsx("div",{className:`absolute top-3 left-3 p-1.5 rounded-xl ${V.status==="PASSED"?"bg-emerald-500":"bg-rose-500"} text-white shadow-lg`,children:V.status==="PASSED"?P.jsx(od,{className:"w-3.5 h-3.5"}):P.jsx(Gm,{className:"w-3.5 h-3.5"})}),V.isStoredInDB&&P.jsx("div",{className:"absolute top-3 right-3 p-1 rounded-full bg-white/90 text-indigo-600 shadow-sm",children:P.jsx(L_,{className:"w-3 h-3"})})]},V.id)),P.jsxs("button",{onClick:()=>{var V;return(V=h.current)==null?void 0:V.click()},disabled:m,className:`aspect-square rounded-[32px] border-2 border-dashed flex flex-col items-center justify-center gap-2 transition-all ${m?"bg-slate-50 border-slate-200 cursor-wait":"border-slate-300 hover:bg-indigo-50 hover:border-indigo-300 text-slate-400"}`,children:[m?P.jsx(bu,{className:"w-8 h-8 animate-spin text-indigo-500"}):P.jsx(R_,{className:"w-8 h-8"}),P.jsx("span",{className:"text-[9px] font-black uppercase",children:"Add Entry"})]})]}),P.jsx("input",{type:"file",ref:h,onChange:B,accept:"image/*",capture:"environment",className:"hidden"})]}),P.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[40px] shadow-2xl relative overflow-hidden",children:[P.jsx(z_,{className:"absolute top-0 right-0 p-6 opacity-10 w-24 h-24"}),P.jsxs("div",{className:"relative z-10 space-y-4",children:[P.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 font-black text-[10px] uppercase tracking-widest",children:[P.jsx(Au,{className:"w-4 h-4"})," Metadata"]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-[8px] opacity-40 uppercase font-black",children:"Coordinates"}),P.jsxs("p",{className:"text-xs monospaced font-bold",children:[i.latitude.toFixed(6),", ",i.longitude.toFixed(6)]})]}),P.jsxs("div",{children:[P.jsx("p",{className:"text-[8px] opacity-40 uppercase font-black",children:"Altitude"}),P.jsx("p",{className:"text-xs font-bold",children:i.altitude?`${i.altitude.toFixed(2)}m`:"Detecting..."})]})]})]})]}),P.jsxs("div",{className:"space-y-3 pb-16",children:[P.jsx("label",{className:"text-[11px] font-black uppercase text-slate-400 tracking-[0.2em]",children:"Field Notes"}),P.jsx("textarea",{value:i.notes,onChange:V=>r({notes:V.target.value}),className:"w-full p-6 bg-slate-100 border border-slate-200 rounded-[32px] h-32 resize-none text-sm",placeholder:"Engineering observations..."})]})]}),P.jsx("div",{className:"p-6 border-t app-border-light bg-white pb-[calc(1.5rem+env(safe-area-inset-bottom))] shadow-xl",children:P.jsxs("button",{onClick:f,className:"w-full p-6 bg-slate-900 text-white rounded-[28px] font-black text-sm uppercase tracking-widest flex items-center justify-center gap-3 active:scale-95 transition-transform",children:[P.jsx(lS,{className:"w-5 h-5"})," Save Changes"]})})]})},NA="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",RA=30,Ea="osp_survey_pro_expiry",wu="osp_survey_pro_device_id",Bu="osp_survey_pro_consumed_keys",ju=async()=>{let i=await Cd(wu);return i||(i=localStorage.getItem(wu)),i||(i=Math.random().toString(36).substring(2,8).toUpperCase()),await Zu(wu,i),localStorage.setItem(wu,i),i},Uv=async()=>{let i=await Cd(Bu);if(!Array.isArray(i)){const e=localStorage.getItem(Bu);try{i=e?JSON.parse(e):[]}catch{i=[]}}return i},IA=async i=>{const e=await Uv();e.includes(i)||(e.push(i),await Zu(Bu,e),localStorage.setItem(Bu,JSON.stringify(e)))},C_=(i,e)=>{let o=0;for(let r=0;r<i.length;r++){const l=NA.indexOf(i[r]);l!==-1?o+=l*e[r%e.length]:o+=i.charCodeAt(r)*e[r%e.length]}return o},kA=(i,e)=>{if(!i||i.length!==6)return!1;const o=i.toUpperCase(),r=e.toUpperCase(),l=[3,7,13,17,19,23],f=C_(o,l),h=C_(r,l);return(f+h)%19===7},Ov=async()=>{let i=await Cd(Ea);if(i?localStorage.setItem(Ea,i):(i=localStorage.getItem(Ea),i&&await Zu(Ea,i)),!i)return{active:!1,daysLeft:0};const e=parseInt(i,10),o=Date.now();if(isNaN(e)||o>e)return{active:!1,daysLeft:0};const r=e-o;return{active:!0,daysLeft:Math.max(0,Math.ceil(r/(1e3*60*60*24)))}},LA=async i=>{const e=await ju(),o=i.toUpperCase();if((await Uv()).includes(o))return"ALREADY_USED";if(kA(o,e)){const f=(Date.now()+RA*24*60*60*1e3).toString();return await Zu(Ea,f),localStorage.setItem(Ea,f),await IA(o),"SUCCESS"}return"INVALID"},DA=({onClose:i,hideHeader:e=!1})=>{const[o,r]=bt.useState("..."),[l,f]=bt.useState(null),[h,m]=bt.useState(null);bt.useEffect(()=>{ju().then(r),Ov().then(f),F_().then(m)},[]);const y=h?(h.usage/(1024*1024*1024)).toFixed(2):"0.00",_=h?(h.quota/(1024*1024*1024)).toFixed(0):"0";return P.jsxs("div",{className:`w-full bg-white ${e?"":"rounded-[40px] shadow-2xl"} flex flex-col md:flex-row relative overflow-hidden`,children:[!e&&i&&P.jsx("div",{className:"absolute top-6 right-6 lg:top-10 lg:right-10 z-20",children:P.jsx("button",{onClick:i,className:"p-3 text-slate-400 hover:text-slate-900 hover:bg-slate-50 rounded-2xl transition-all btn-active border border-transparent hover:border-slate-100 group shadow-sm bg-white md:bg-transparent",children:P.jsx(ba,{className:"w-6 h-6 group-hover:rotate-90 transition-transform duration-300"})})}),P.jsxs("div",{className:"w-full md:w-80 lg:w-[380px] bg-slate-900 text-white p-8 sm:p-10 lg:p-14 flex flex-col relative shrink-0 border-b md:border-b-0 md:border-r border-white/5",children:[P.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[P.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-72 h-72 bg-indigo-500 rounded-full blur-[100px]"}),P.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-72 h-72 bg-emerald-500 rounded-full blur-[100px]"})]}),P.jsxs("div",{className:"relative z-10",children:[P.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-2xl flex items-center justify-center mb-8 shadow-2xl shadow-indigo-500/30",children:P.jsx(N_,{className:"w-8 h-8 text-white"})}),P.jsxs("h1",{className:"text-3xl lg:text-4xl font-black leading-none tracking-tighter uppercase mb-3",children:["OSP Survey",P.jsx("br",{}),"Engine ",P.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),P.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-white/5 rounded-full border border-white/10 mb-10",children:[P.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),P.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-white/60 uppercase",children:"V5.0.0 Enterprise Build"})]}),P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"flex items-center gap-4 group cursor-default",children:[P.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center border border-white/10 shrink-0 group-hover:bg-indigo-600/20 transition-all duration-300",children:P.jsx(wS,{className:"w-6 h-6 text-indigo-400"})}),P.jsxs("div",{children:[P.jsx("p",{className:"text-[8px] text-white/30 font-black uppercase tracking-widest mb-0.5",children:"Senior Architect"}),P.jsx("p",{className:"text-xs font-black uppercase tracking-tight text-white/90",children:"Engr. John Carlo Rabanes, ECE"})]})]}),P.jsxs("div",{className:"flex items-center gap-4 group cursor-default",children:[P.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center border border-white/10 shrink-0 group-hover:bg-emerald-600/20 transition-all duration-300",children:P.jsx(P_,{className:"w-6 h-6 text-emerald-400"})}),P.jsxs("div",{children:[P.jsx("p",{className:"text-[8px] text-white/30 font-black uppercase tracking-widest mb-0.5",children:"Field Support"}),P.jsx("p",{className:"text-xs font-black monospaced text-white/90",children:"09669343065"})]})]})]}),P.jsxs("div",{className:"mt-12 bg-white/5 rounded-3xl p-6 border border-white/10 space-y-4",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx(Hy,{className:"w-5 h-5 text-indigo-400"}),P.jsxs("div",{children:[P.jsx("p",{className:"text-[8px] text-white/30 font-black uppercase tracking-widest mb-0.5",children:"Identity"}),P.jsx("p",{className:"text-xs font-black monospaced text-indigo-200 tracking-wider",children:o})]})]}),P.jsx("div",{className:"flex items-center gap-2",children:P.jsx(Gu,{className:"w-4 h-4 text-emerald-500"})})]}),P.jsxs("div",{className:"pt-4 border-t border-white/5",children:[P.jsxs("div",{className:"flex items-center justify-between mb-2",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(sd,{className:"w-4 h-4 text-slate-500"}),P.jsx("span",{className:"text-[8px] font-black text-white/50 uppercase tracking-widest",children:"Storage (5GB Target)"})]}),P.jsxs("span",{className:"text-[9px] font-bold text-indigo-400 uppercase",children:[y,"GB / ",_,"GB"]})]}),P.jsx("div",{className:"w-full h-1.5 bg-white/5 rounded-full overflow-hidden",children:P.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-1000",style:{width:`${Math.min(100,(h==null?void 0:h.percent)||0)}%`}})})]})]}),P.jsxs("div",{className:"mt-8 pt-8 border-t border-white/10 space-y-4",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx(k_,{className:"w-4 h-4 text-indigo-500"}),P.jsx("span",{className:"text-[9px] font-black uppercase text-white/40 tracking-widest",children:"Core Intelligence Active"})]}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx(Fy,{className:"w-4 h-4 text-emerald-500"}),P.jsx("span",{className:"text-[9px] font-black uppercase text-white/40 tracking-widest",children:"Enterprise Sync Locked"})]})]})]})]}),P.jsx("div",{className:"flex-1 bg-white p-8 sm:p-12 lg:p-16 relative overflow-y-auto",children:P.jsxs("div",{className:"max-w-3xl space-y-16 lg:space-y-20 pb-12",children:[P.jsxs("section",{children:[P.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[P.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-600"}),P.jsx("h2",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.3em]",children:"Field Operations v5"})]}),P.jsx("p",{className:"text-2xl lg:text-3xl font-black text-slate-900 leading-tight mb-6 tracking-tight",children:"Enterprise Storage. High Frequency Field Surveys."}),P.jsx("p",{className:"text-slate-600 leading-relaxed text-base font-medium",children:"V5.0 is built to handle massive datasets. Optimized for 5GB+ local storage, the app can reliably host over 500+ processed field photos without performance degradation, using raw binary management directly within the device's secure vault."})]}),P.jsxs("section",{children:[P.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[P.jsx(xd,{className:"w-5 h-5 text-amber-500"}),P.jsx("h2",{className:"text-[10px] font-black text-slate-900 uppercase tracking-[0.3em]",children:"Why OSP Pro?"})]}),P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-12",children:[P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{className:"w-12 h-12 bg-indigo-50 rounded-2xl flex items-center justify-center",children:P.jsx(R_,{className:"w-6 h-6 text-indigo-600"})}),P.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Optimized OSP Capture"}),P.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-medium",children:"Unlike generic GIS apps, our engine automatically stamps every photo with precise map tiles, GPS coordinates, and project metadata directly into the image binary for instant documentation."})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-2xl flex items-center justify-center",children:P.jsx(sd,{className:"w-6 h-6 text-emerald-600"})}),P.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"5GB+ Binary Vault"}),P.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-medium",children:"Standard GIS tools often crash when handling large batches of photos. OSP Pro uses a specialized IndexedDB vault to store 500+ high-res evidence photos without slowing down the UI."})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-2xl flex items-center justify-center",children:P.jsx(Ry,{className:"w-6 h-6 text-amber-600"})}),P.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Integrated QA Workflow"}),P.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-medium",children:"Assign 'Pass' or 'Retake' status to photos while still on-site. Eliminate revisit costs by ensuring all engineering evidence meets standards before you leave the field."})]}),P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center",children:P.jsx(Iu,{className:"w-6 h-6 text-slate-600"})}),P.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Zero-Data Independence"}),P.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-medium",children:"Operate in remote dead zones with zero latency. Navigate offline maps and manage your inventory without a cloud connectiondata syncs only when you choose."})]})]})]}),P.jsxs("footer",{className:"pt-10 border-t border-slate-100 flex flex-col md:flex-row justify-between gap-6",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Core Architecture"}),P.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"React 19 / Leaflet v1.9 / Binary IDB Engine"})]}),P.jsxs("div",{className:"text-left md:text-right space-y-2",children:[P.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"System Health"}),P.jsxs("p",{className:"text-xs text-slate-400 font-medium",children:[h?h.percent.toFixed(1):0,"% Disk Utilization"]})]})]})]})})]})},Vr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",ya=[3,7,13,17,19,23],PA=({onClose:i})=>{const[e,o]=bt.useState(""),[r,l]=bt.useState([]),[f,h]=bt.useState(!1);bt.useEffect(()=>{ju().then(o)},[]);const m=T=>{let E=0;for(let w=0;w<T.length;w++){const C=Vr.indexOf(T[w]);C!==-1?E+=C*ya[w%ya.length]:E+=T.charCodeAt(w)*ya[w%ya.length]}return E},y=T=>{const E=T.toUpperCase(),w=m(E);let C="",k=0;for(let H=0;H<5;H++){const Y=Math.floor(Math.random()*Vr.length);C+=Vr[Y],k+=Y*ya[H]}const M=7,I=(k+w)%19,D=(M-I+19)%19,B=[];for(let H=0;H<Vr.length;H++)H*ya[5]%19===D&&B.push(H);if(B.length>0){const H=B[Math.floor(Math.random()*B.length)];return C+Vr[H]}return null},_=()=>{!e||e.length<4||(h(!0),setTimeout(()=>{const T=[];for(;T.length<3;){const E=y(e);E&&!T.includes(E)&&T.push(E)}l(T),h(!1)},600))};return P.jsx("div",{className:"fixed inset-0 z-[11000] bg-slate-900 flex items-center justify-center p-4",children:P.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-[40px] shadow-2xl overflow-hidden animate-slide-up",children:[P.jsxs("div",{className:"bg-slate-900 p-8 flex items-center justify-between border-b border-white/5",children:[P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-500/20",children:P.jsx(D_,{className:"w-6 h-6 text-white"})}),P.jsxs("div",{children:[P.jsx("h2",{className:"text-white font-black uppercase tracking-tight text-lg",children:"Key Management Console"}),P.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-[0.2em]",children:"Authorized Personnel Only"})]})]}),P.jsx("button",{onClick:i,className:"p-4 text-slate-500 hover:text-white transition-colors",children:P.jsx(ba,{className:"w-6 h-6"})})]}),P.jsxs("div",{className:"p-10 space-y-10",children:[P.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"space-y-3",children:[P.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:"Target Device ID"}),P.jsxs("div",{className:"relative",children:[P.jsx(U_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),P.jsx("input",{type:"text",value:e,onChange:T=>o(T.target.value.toUpperCase()),className:"w-full bg-slate-100 border-2 border-transparent focus:border-indigo-500 rounded-2xl py-4 pl-12 pr-4 text-sm font-black tracking-widest outline-none transition-all",placeholder:"DEVICE-ID"})]})]}),P.jsxs("button",{onClick:_,disabled:f||!e,className:"w-full px-8 py-5 bg-slate-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-[0.2em] shadow-xl hover:bg-black active:scale-95 transition-all flex items-center justify-center gap-3 disabled:opacity-30",children:[f?P.jsx(aS,{className:"w-4 h-4 animate-spin"}):P.jsx(xd,{className:"w-4 h-4 text-amber-300"}),"Generate 30-Day Key"]})]}),P.jsxs("div",{className:"space-y-3",children:[P.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:"Active Batch"}),r.length===0?P.jsxs("div",{className:"h-full min-h-[160px] border-2 border-dashed border-slate-200 rounded-[32px] flex flex-col items-center justify-center text-slate-300",children:[P.jsx(TS,{className:"w-8 h-8 mb-2 opacity-50"}),P.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Idle System"})]}):P.jsx("div",{className:"space-y-3 animate-fade-in",children:r.map((T,E)=>P.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 border border-slate-100 rounded-2xl group transition-all hover:bg-white hover:shadow-lg",children:[P.jsx("span",{className:"text-sm monospaced font-black tracking-[0.2em] text-indigo-600",children:T}),P.jsx("button",{onClick:()=>navigator.clipboard.writeText(T),className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:P.jsx(ky,{className:"w-4 h-4"})})]},E))})]})]}),P.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{icon:P.jsx(Gu,{}),label:"Secured"},{icon:P.jsx(k_,{}),label:"Device-Lock"},{icon:P.jsx(L_,{}),label:"Single-Use"}].map((T,E)=>P.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl flex flex-col items-center gap-2 border border-slate-100",children:[P.jsx("div",{className:"text-slate-400",children:T.icon}),P.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-slate-500",children:T.label})]},E))})]})]})})},zA=({onActivated:i,onOpenGenerator:e,onClose:o})=>{const[r,l]=bt.useState(""),[f,h]=bt.useState(null),[m,y]=bt.useState(!1),[_,T]=bt.useState(""),[E,w]=bt.useState(!1),[C,k]=bt.useState(""),[M,I]=bt.useState(!1);bt.useEffect(()=>{ju().then(T)},[]);const D=async()=>{const H=await LA(r);H==="SUCCESS"?(y(!0),h(null),setTimeout(()=>i(),1500)):(h(H),y(!1))},B=H=>{H.preventDefault(),C==="07141994"?(I(!1),w(!1),k(""),e()):(I(!0),setTimeout(()=>I(!1),2e3))};return P.jsx("div",{className:"fixed inset-0 z-[9000] bg-slate-900/80 backdrop-blur-xl overflow-y-auto pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:P.jsxs("div",{className:"min-h-full flex flex-col items-center p-4 sm:p-8 space-y-16 pb-32",children:[P.jsxs("div",{className:"w-full max-w-md bg-white rounded-[40px] shadow-2xl overflow-hidden relative animate-slide-up mt-8 shrink-0",children:[o&&P.jsx("button",{onClick:o,className:"absolute top-6 right-6 z-10 p-3 bg-slate-100 hover:bg-slate-200 text-slate-500 rounded-full transition-colors active:scale-90",children:P.jsx(ba,{className:"w-5 h-5"})}),E&&P.jsxs("div",{className:"absolute inset-0 z-50 bg-slate-900 flex flex-col items-center justify-center p-8 animate-fade-in",children:[P.jsx("button",{onClick:()=>w(!1),className:"absolute top-6 right-6 p-2 text-slate-500 hover:text-white transition-colors",children:P.jsx(ba,{className:"w-6 h-6"})}),P.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center mb-6 border border-white/10",children:P.jsx($y,{className:"w-8 h-8 text-indigo-400"})}),P.jsx("h3",{className:"text-white font-black uppercase tracking-widest text-sm mb-2",children:"Administrative Gate"}),P.jsx("p",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-[0.2em] mb-8 text-center text-balance",children:"Authorization Required"}),P.jsxs("form",{onSubmit:B,className:"w-full space-y-4",children:[P.jsx("input",{type:"password",value:C,onChange:H=>k(H.target.value),autoFocus:!0,placeholder:"ENTER ACCESS KEY",className:`w-full bg-white/5 border-2 rounded-2xl p-4 text-center text-white font-black tracking-[0.3em] outline-none transition-all
                    ${M?"border-red-500 animate-shake":"border-white/10 focus:border-indigo-500"}
                  `}),P.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white p-4 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] flex items-center justify-center gap-2 hover:bg-indigo-50 transition-all",children:["Authenticate ",P.jsx(Sy,{className:"w-4 h-4"})]})]})]}),P.jsxs("div",{className:"bg-slate-900 p-10 text-center relative border-b app-border-dark",children:[P.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[30px] mx-auto flex items-center justify-center mb-6 shadow-2xl border border-white/10",children:m?P.jsx(od,{className:"w-10 h-10 text-white"}):P.jsx(dS,{className:"w-10 h-10 text-white"})}),P.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter mb-1",children:"Sync Activation"}),P.jsx("p",{className:"text-indigo-400 text-[10px] font-black uppercase tracking-[0.3em]",children:"Required for Professional KMZ and Photo Compilation Export"})]}),P.jsxs("div",{className:"p-10 space-y-8",children:[P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex items-center justify-between px-1",children:[P.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 tracking-[0.2em]",children:"Activation Code"}),P.jsx(D_,{className:"w-4 h-4 text-slate-300"})]}),P.jsx("input",{type:"text",maxLength:6,value:r,onChange:H=>{l(H.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),h(null)},className:`w-full p-7 bg-slate-50 border-2 rounded-3xl text-center text-4xl font-black uppercase tracking-[0.3em] outline-none transition-all
                  ${f?"border-red-500 bg-red-50 text-red-900 animate-shake":"border-transparent focus:border-indigo-500 focus:bg-white text-slate-900"}
                  ${m?"border-emerald-500 bg-emerald-50 text-emerald-900":""}
                `,placeholder:"XXXXXX"}),P.jsxs("div",{className:"bg-indigo-50/50 p-5 rounded-2xl flex items-center justify-between border border-indigo-100",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx(U_,{className:"w-4 h-4 text-indigo-600"}),P.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Device ID:"})]}),P.jsx("span",{className:"text-xs font-black monospaced tracking-widest text-indigo-900",children:_})]})]}),P.jsxs("button",{onClick:D,disabled:r.length!==6||m,className:`w-full p-6 rounded-3xl font-black text-xs uppercase tracking-[0.2em] shadow-xl transition-all btn-active flex items-center justify-center gap-3
                ${m?"bg-emerald-500 text-white shadow-emerald-200":"bg-slate-900 text-white hover:bg-black active:scale-95 disabled:opacity-30 disabled:pointer-events-none shadow-slate-200"}
              `,children:[m?"Verified":"Unlock Project Sync",!m&&P.jsx(xd,{className:"w-4 h-4 text-amber-400"})]}),!m&&P.jsxs("div",{className:"bg-slate-50 p-6 rounded-[24px] border border-slate-100 flex flex-col items-center text-center gap-3",children:[P.jsx("p",{className:"text-[11px] font-medium text-slate-600 leading-relaxed uppercase tracking-tighter",children:"Contact developer for your device license key."}),P.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full",children:[P.jsxs("a",{href:"tel:09669343065",className:"py-4 bg-white text-indigo-600 rounded-2xl text-[9px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-2 border border-indigo-100 shadow-sm",children:[P.jsx(P_,{className:"w-3 h-3"}),"Call Support"]}),o&&P.jsxs("button",{onClick:o,className:"py-4 bg-white text-slate-400 rounded-2xl text-[9px] font-black uppercase tracking-[0.2em] flex items-center justify-center gap-2 border border-slate-200",children:[P.jsx(I_,{className:"w-3 h-3"}),"Keep Working"]})]})]})]}),P.jsxs("div",{className:"bg-slate-50 p-6 border-t app-border-light flex items-center justify-between px-8",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx(Gu,{className:"w-3 h-3 text-emerald-500"}),P.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Secured Enterprise App"})]}),P.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 text-slate-400 hover:text-indigo-600 transition-colors group",children:[P.jsx(cS,{className:"w-3 h-3 group-hover:rotate-45 transition-transform"}),P.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Admin"})]})]})]}),P.jsx("div",{className:"w-full max-w-5xl px-4"})]})})};function Cu(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nd={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var b_;function UA(){return b_||(b_=1,(function(i,e){(function(o){i.exports=o()})(function(){return(function o(r,l,f){function h(_,T){if(!l[_]){if(!r[_]){var E=typeof Cu=="function"&&Cu;if(!T&&E)return E(_,!0);if(m)return m(_,!0);var w=new Error("Cannot find module '"+_+"'");throw w.code="MODULE_NOT_FOUND",w}var C=l[_]={exports:{}};r[_][0].call(C.exports,function(k){var M=r[_][1][k];return h(M||k)},C,C.exports,o,r,l,f)}return l[_].exports}for(var m=typeof Cu=="function"&&Cu,y=0;y<f.length;y++)h(f[y]);return h})({1:[function(o,r,l){var f=o("./utils"),h=o("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(y){for(var _,T,E,w,C,k,M,I=[],D=0,B=y.length,H=B,Y=f.getTypeOf(y)!=="string";D<y.length;)H=B-D,E=Y?(_=y[D++],T=D<B?y[D++]:0,D<B?y[D++]:0):(_=y.charCodeAt(D++),T=D<B?y.charCodeAt(D++):0,D<B?y.charCodeAt(D++):0),w=_>>2,C=(3&_)<<4|T>>4,k=1<H?(15&T)<<2|E>>6:64,M=2<H?63&E:64,I.push(m.charAt(w)+m.charAt(C)+m.charAt(k)+m.charAt(M));return I.join("")},l.decode=function(y){var _,T,E,w,C,k,M=0,I=0,D="data:";if(y.substr(0,D.length)===D)throw new Error("Invalid base64 input, it looks like a data url.");var B,H=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===m.charAt(64)&&H--,y.charAt(y.length-2)===m.charAt(64)&&H--,H%1!=0)throw new Error("Invalid base64 input, bad content length.");for(B=h.uint8array?new Uint8Array(0|H):new Array(0|H);M<y.length;)_=m.indexOf(y.charAt(M++))<<2|(w=m.indexOf(y.charAt(M++)))>>4,T=(15&w)<<4|(C=m.indexOf(y.charAt(M++)))>>2,E=(3&C)<<6|(k=m.indexOf(y.charAt(M++))),B[I++]=_,C!==64&&(B[I++]=T),k!==64&&(B[I++]=E);return B}},{"./support":30,"./utils":32}],2:[function(o,r,l){var f=o("./external"),h=o("./stream/DataWorker"),m=o("./stream/Crc32Probe"),y=o("./stream/DataLengthProbe");function _(T,E,w,C,k){this.compressedSize=T,this.uncompressedSize=E,this.crc32=w,this.compression=C,this.compressedContent=k}_.prototype={getContentWorker:function(){var T=new h(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),E=this;return T.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),T},getCompressedWorker:function(){return new h(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(T,E,w){return T.pipe(new m).pipe(new y("uncompressedSize")).pipe(E.compressWorker(w)).pipe(new y("compressedSize")).withStreamInfo("compression",E)},r.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,r,l){var f=o("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},l.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,r,l){var f=o("./utils"),h=(function(){for(var m,y=[],_=0;_<256;_++){m=_;for(var T=0;T<8;T++)m=1&m?3988292384^m>>>1:m>>>1;y[_]=m}return y})();r.exports=function(m,y){return m!==void 0&&m.length?f.getTypeOf(m)!=="string"?(function(_,T,E,w){var C=h,k=w+E;_^=-1;for(var M=w;M<k;M++)_=_>>>8^C[255&(_^T[M])];return-1^_})(0|y,m,m.length,0):(function(_,T,E,w){var C=h,k=w+E;_^=-1;for(var M=w;M<k;M++)_=_>>>8^C[255&(_^T.charCodeAt(M))];return-1^_})(0|y,m,m.length,0):0}},{"./utils":32}],5:[function(o,r,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(o,r,l){var f=null;f=typeof Promise<"u"?Promise:o("lie"),r.exports={Promise:f}},{lie:37}],7:[function(o,r,l){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=o("pako"),m=o("./utils"),y=o("./stream/GenericWorker"),_=f?"uint8array":"array";function T(E,w){y.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=w,this.meta={}}l.magic="\b\0",m.inherits(T,y),T.prototype.processChunk=function(E){this.meta=E.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(_,E.data),!1)},T.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(w){E.push({data:w,meta:E.meta})}},l.compressWorker=function(E){return new T("Deflate",E)},l.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,r,l){function f(C,k){var M,I="";for(M=0;M<k;M++)I+=String.fromCharCode(255&C),C>>>=8;return I}function h(C,k,M,I,D,B){var H,Y,V=C.file,j=C.compression,K=B!==_.utf8encode,pt=m.transformTo("string",B(V.name)),W=m.transformTo("string",_.utf8encode(V.name)),yt=V.comment,Mt=m.transformTo("string",B(yt)),F=m.transformTo("string",_.utf8encode(yt)),st=W.length!==V.name.length,R=F.length!==yt.length,St="",Q="",tt="",gt=V.dir,lt=V.date,mt={crc32:0,compressedSize:0,uncompressedSize:0};k&&!M||(mt.crc32=C.crc32,mt.compressedSize=C.compressedSize,mt.uncompressedSize=C.uncompressedSize);var z=0;k&&(z|=8),K||!st&&!R||(z|=2048);var G=0,ct=0;gt&&(G|=16),D==="UNIX"?(ct=798,G|=(function(at,Rt){var Gt=at;return at||(Gt=Rt?16893:33204),(65535&Gt)<<16})(V.unixPermissions,gt)):(ct=20,G|=(function(at){return 63&(at||0)})(V.dosPermissions)),H=lt.getUTCHours(),H<<=6,H|=lt.getUTCMinutes(),H<<=5,H|=lt.getUTCSeconds()/2,Y=lt.getUTCFullYear()-1980,Y<<=4,Y|=lt.getUTCMonth()+1,Y<<=5,Y|=lt.getUTCDate(),st&&(Q=f(1,1)+f(T(pt),4)+W,St+="up"+f(Q.length,2)+Q),R&&(tt=f(1,1)+f(T(Mt),4)+F,St+="uc"+f(tt.length,2)+tt);var ot="";return ot+=`
\0`,ot+=f(z,2),ot+=j.magic,ot+=f(H,2),ot+=f(Y,2),ot+=f(mt.crc32,4),ot+=f(mt.compressedSize,4),ot+=f(mt.uncompressedSize,4),ot+=f(pt.length,2),ot+=f(St.length,2),{fileRecord:E.LOCAL_FILE_HEADER+ot+pt+St,dirRecord:E.CENTRAL_FILE_HEADER+f(ct,2)+ot+f(Mt.length,2)+"\0\0\0\0"+f(G,4)+f(I,4)+pt+St+Mt}}var m=o("../utils"),y=o("../stream/GenericWorker"),_=o("../utf8"),T=o("../crc32"),E=o("../signature");function w(C,k,M,I){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=M,this.encodeFileName=I,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(w,y),w.prototype.push=function(C){var k=C.meta.percent||0,M=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,y.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:M?(k+100*(M-I-1))/M:100}}))},w.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var k=this.streamFiles&&!C.file.dir;if(k){var M=h(C,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:M.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(C){this.accumulate=!1;var k=this.streamFiles&&!C.file.dir,M=h(C,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(M.dirRecord),k)this.push({data:(function(I){return E.DATA_DESCRIPTOR+f(I.crc32,4)+f(I.compressedSize,4)+f(I.uncompressedSize,4)})(C),meta:{percent:100}});else for(this.push({data:M.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var C=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var M=this.bytesWritten-C,I=(function(D,B,H,Y,V){var j=m.transformTo("string",V(Y));return E.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(D,2)+f(D,2)+f(B,4)+f(H,4)+f(j.length,2)+j})(this.dirRecords.length,M,C,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(C){this._sources.push(C);var k=this;return C.on("data",function(M){k.processChunk(M)}),C.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),C.on("error",function(M){k.error(M)}),this},w.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(C){var k=this._sources;if(!y.prototype.error.call(this,C))return!1;for(var M=0;M<k.length;M++)try{k[M].error(C)}catch{}return!0},w.prototype.lock=function(){y.prototype.lock.call(this);for(var C=this._sources,k=0;k<C.length;k++)C[k].lock()},r.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,r,l){var f=o("../compressions"),h=o("./ZipFileWorker");l.generateWorker=function(m,y,_){var T=new h(y.streamFiles,_,y.platform,y.encodeFileName),E=0;try{m.forEach(function(w,C){E++;var k=(function(B,H){var Y=B||H,V=f[Y];if(!V)throw new Error(Y+" is not a valid compression method !");return V})(C.options.compression,y.compression),M=C.options.compressionOptions||y.compressionOptions||{},I=C.dir,D=C.date;C._compressWorker(k,M).withStreamInfo("file",{name:w,dir:I,date:D,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(T)}),T.entriesCount=E}catch(w){T.error(w)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,r,l){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new f;for(var m in this)typeof this[m]!="function"&&(h[m]=this[m]);return h}}(f.prototype=o("./object")).loadAsync=o("./load"),f.support=o("./support"),f.defaults=o("./defaults"),f.version="3.10.1",f.loadAsync=function(h,m){return new f().loadAsync(h,m)},f.external=o("./external"),r.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,r,l){var f=o("./utils"),h=o("./external"),m=o("./utf8"),y=o("./zipEntries"),_=o("./stream/Crc32Probe"),T=o("./nodejsUtils");function E(w){return new h.Promise(function(C,k){var M=w.decompressed.getContentWorker().pipe(new _);M.on("error",function(I){k(I)}).on("end",function(){M.streamInfo.crc32!==w.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):C()}).resume()})}r.exports=function(w,C){var k=this;return C=f.extend(C||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),T.isNode&&T.isStream(w)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",w,!0,C.optimizedBinaryString,C.base64).then(function(M){var I=new y(C);return I.load(M),I}).then(function(M){var I=[h.Promise.resolve(M)],D=M.files;if(C.checkCRC32)for(var B=0;B<D.length;B++)I.push(E(D[B]));return h.Promise.all(I)}).then(function(M){for(var I=M.shift(),D=I.files,B=0;B<D.length;B++){var H=D[B],Y=H.fileNameStr,V=f.resolve(H.fileNameStr);k.file(V,H.decompressed,{binary:!0,optimizedBinaryString:!0,date:H.date,dir:H.dir,comment:H.fileCommentStr.length?H.fileCommentStr:null,unixPermissions:H.unixPermissions,dosPermissions:H.dosPermissions,createFolders:C.createFolders}),H.dir||(k.file(V).unsafeOriginalName=Y)}return I.zipComment.length&&(k.comment=I.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,r,l){var f=o("../utils"),h=o("../stream/GenericWorker");function m(y,_){h.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(_)}f.inherits(m,h),m.prototype._bindStream=function(y){var _=this;(this._stream=y).pause(),y.on("data",function(T){_.push({data:T,meta:{percent:0}})}).on("error",function(T){_.isPaused?this.generatedError=T:_.error(T)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},m.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,r,l){var f=o("readable-stream").Readable;function h(m,y,_){f.call(this,y),this._helper=m;var T=this;m.on("data",function(E,w){T.push(E)||T._helper.pause(),_&&_(w)}).on("error",function(E){T.emit("error",E)}).on("end",function(){T.push(null)})}o("../utils").inherits(h,f),h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(o,r,l){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,h);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,h)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var h=new Buffer(f);return h.fill(0),h},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(o,r,l){function f(V,j,K){var pt,W=m.getTypeOf(j),yt=m.extend(K||{},T);yt.date=yt.date||new Date,yt.compression!==null&&(yt.compression=yt.compression.toUpperCase()),typeof yt.unixPermissions=="string"&&(yt.unixPermissions=parseInt(yt.unixPermissions,8)),yt.unixPermissions&&16384&yt.unixPermissions&&(yt.dir=!0),yt.dosPermissions&&16&yt.dosPermissions&&(yt.dir=!0),yt.dir&&(V=D(V)),yt.createFolders&&(pt=I(V))&&B.call(this,pt,!0);var Mt=W==="string"&&yt.binary===!1&&yt.base64===!1;K&&K.binary!==void 0||(yt.binary=!Mt),(j instanceof E&&j.uncompressedSize===0||yt.dir||!j||j.length===0)&&(yt.base64=!1,yt.binary=!0,j="",yt.compression="STORE",W="string");var F=null;F=j instanceof E||j instanceof y?j:k.isNode&&k.isStream(j)?new M(V,j):m.prepareContent(V,j,yt.binary,yt.optimizedBinaryString,yt.base64);var st=new w(V,F,yt);this.files[V]=st}var h=o("./utf8"),m=o("./utils"),y=o("./stream/GenericWorker"),_=o("./stream/StreamHelper"),T=o("./defaults"),E=o("./compressedObject"),w=o("./zipObject"),C=o("./generate"),k=o("./nodejsUtils"),M=o("./nodejs/NodejsStreamInputAdapter"),I=function(V){V.slice(-1)==="/"&&(V=V.substring(0,V.length-1));var j=V.lastIndexOf("/");return 0<j?V.substring(0,j):""},D=function(V){return V.slice(-1)!=="/"&&(V+="/"),V},B=function(V,j){return j=j!==void 0?j:T.createFolders,V=D(V),this.files[V]||f.call(this,V,null,{dir:!0,createFolders:j}),this.files[V]};function H(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var Y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var j,K,pt;for(j in this.files)pt=this.files[j],(K=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&V(K,pt)},filter:function(V){var j=[];return this.forEach(function(K,pt){V(K,pt)&&j.push(pt)}),j},file:function(V,j,K){if(arguments.length!==1)return V=this.root+V,f.call(this,V,j,K),this;if(H(V)){var pt=V;return this.filter(function(yt,Mt){return!Mt.dir&&pt.test(yt)})}var W=this.files[this.root+V];return W&&!W.dir?W:null},folder:function(V){if(!V)return this;if(H(V))return this.filter(function(W,yt){return yt.dir&&V.test(W)});var j=this.root+V,K=B.call(this,j),pt=this.clone();return pt.root=K.name,pt},remove:function(V){V=this.root+V;var j=this.files[V];if(j||(V.slice(-1)!=="/"&&(V+="/"),j=this.files[V]),j&&!j.dir)delete this.files[V];else for(var K=this.filter(function(W,yt){return yt.name.slice(0,V.length)===V}),pt=0;pt<K.length;pt++)delete this.files[K[pt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var j,K={};try{if((K=m.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=K.type.toLowerCase(),K.compression=K.compression.toUpperCase(),K.type==="binarystring"&&(K.type="string"),!K.type)throw new Error("No output type specified.");m.checkSupport(K.type),K.platform!=="darwin"&&K.platform!=="freebsd"&&K.platform!=="linux"&&K.platform!=="sunos"||(K.platform="UNIX"),K.platform==="win32"&&(K.platform="DOS");var pt=K.comment||this.comment||"";j=C.generateWorker(this,K,pt)}catch(W){(j=new y("error")).error(W)}return new _(j,K.type||"string",K.mimeType)},generateAsync:function(V,j){return this.generateInternalStream(V).accumulate(j)},generateNodeStream:function(V,j){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream(j)}};r.exports=Y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,r,l){r.exports=o("stream")},{stream:void 0}],17:[function(o,r,l){var f=o("./DataReader");function h(m){f.call(this,m);for(var y=0;y<this.data.length;y++)m[y]=255&m[y]}o("../utils").inherits(h,f),h.prototype.byteAt=function(m){return this.data[this.zero+m]},h.prototype.lastIndexOfSignature=function(m){for(var y=m.charCodeAt(0),_=m.charCodeAt(1),T=m.charCodeAt(2),E=m.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===y&&this.data[w+1]===_&&this.data[w+2]===T&&this.data[w+3]===E)return w-this.zero;return-1},h.prototype.readAndCheckSignature=function(m){var y=m.charCodeAt(0),_=m.charCodeAt(1),T=m.charCodeAt(2),E=m.charCodeAt(3),w=this.readData(4);return y===w[0]&&_===w[1]&&T===w[2]&&E===w[3]},h.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,y},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(o,r,l){var f=o("../utils");function h(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var y,_=0;for(this.checkOffset(m),y=this.index+m-1;y>=this.index;y--)_=(_<<8)+this.byteAt(y);return this.index+=m,_},readString:function(m){return f.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},r.exports=h},{"../utils":32}],19:[function(o,r,l){var f=o("./Uint8ArrayReader");function h(m){f.call(this,m)}o("../utils").inherits(h,f),h.prototype.readData=function(m){this.checkOffset(m);var y=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,y},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,r,l){var f=o("./DataReader");function h(m){f.call(this,m)}o("../utils").inherits(h,f),h.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},h.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},h.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},h.prototype.readData=function(m){this.checkOffset(m);var y=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,y},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(o,r,l){var f=o("./ArrayReader");function h(m){f.call(this,m)}o("../utils").inherits(h,f),h.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,y},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(o,r,l){var f=o("../utils"),h=o("../support"),m=o("./ArrayReader"),y=o("./StringReader"),_=o("./NodeBufferReader"),T=o("./Uint8ArrayReader");r.exports=function(E){var w=f.getTypeOf(E);return f.checkSupport(w),w!=="string"||h.uint8array?w==="nodebuffer"?new _(E):h.uint8array?new T(f.transformTo("uint8array",E)):new m(f.transformTo("array",E)):new y(E)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,r,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,r,l){var f=o("./GenericWorker"),h=o("../utils");function m(y){f.call(this,"ConvertWorker to "+y),this.destType=y}h.inherits(m,f),m.prototype.processChunk=function(y){this.push({data:h.transformTo(this.destType,y.data),meta:y.meta})},r.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(o,r,l){var f=o("./GenericWorker"),h=o("../crc32");function m(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(m,f),m.prototype.processChunk=function(y){this.streamInfo.crc32=h(y.data,this.streamInfo.crc32||0),this.push(y)},r.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,r,l){var f=o("../utils"),h=o("./GenericWorker");function m(y){h.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}f.inherits(m,h),m.prototype.processChunk=function(y){if(y){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+y.data.length}h.prototype.processChunk.call(this,y)},r.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(o,r,l){var f=o("../utils"),h=o("./GenericWorker");function m(y){h.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(T){_.dataIsReady=!0,_.data=T,_.max=T&&T.length||0,_.type=f.getTypeOf(T),_.isPaused||_._tickAndRepeat()},function(T){_.error(T)})}f.inherits(m,h),m.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,_);break;case"uint8array":y=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":y=this.data.slice(this.index,_)}return this.index=_,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(o,r,l){function f(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,m){return this._listeners[h].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,m){if(this._listeners[h])for(var y=0;y<this._listeners[h].length;y++)this._listeners[h][y].call(this,m)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var m=this;return h.on("data",function(y){m.processChunk(y)}),h.on("end",function(){m.end()}),h.on("error",function(y){m.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,m){return this.extraStreamInfo[h]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},r.exports=f},{}],29:[function(o,r,l){var f=o("../utils"),h=o("./ConvertWorker"),m=o("./GenericWorker"),y=o("../base64"),_=o("../support"),T=o("../external"),E=null;if(_.nodestream)try{E=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(k,M){return new T.Promise(function(I,D){var B=[],H=k._internalType,Y=k._outputType,V=k._mimeType;k.on("data",function(j,K){B.push(j),M&&M(K)}).on("error",function(j){B=[],D(j)}).on("end",function(){try{var j=(function(K,pt,W){switch(K){case"blob":return f.newBlob(f.transformTo("arraybuffer",pt),W);case"base64":return y.encode(pt);default:return f.transformTo(K,pt)}})(Y,(function(K,pt){var W,yt=0,Mt=null,F=0;for(W=0;W<pt.length;W++)F+=pt[W].length;switch(K){case"string":return pt.join("");case"array":return Array.prototype.concat.apply([],pt);case"uint8array":for(Mt=new Uint8Array(F),W=0;W<pt.length;W++)Mt.set(pt[W],yt),yt+=pt[W].length;return Mt;case"nodebuffer":return Buffer.concat(pt);default:throw new Error("concat : unsupported type '"+K+"'")}})(H,B),V);I(j)}catch(K){D(K)}B=[]}).resume()})}function C(k,M,I){var D=M;switch(M){case"blob":case"arraybuffer":D="uint8array";break;case"base64":D="string"}try{this._internalType=D,this._outputType=M,this._mimeType=I,f.checkSupport(D),this._worker=k.pipe(new h(D)),k.lock()}catch(B){this._worker=new m("error"),this._worker.error(B)}}C.prototype={accumulate:function(k){return w(this,k)},on:function(k,M){var I=this;return k==="data"?this._worker.on(k,function(D){M.call(I,D.data,D.meta)}):this._worker.on(k,function(){f.delay(M,arguments,I)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new E(this,{objectMode:this._outputType!=="nodebuffer"},k)}},r.exports=C},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,r,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var f=new ArrayBuffer(0);try{l.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(f),l.blob=h.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!o("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(o,r,l){for(var f=o("./utils"),h=o("./support"),m=o("./nodejsUtils"),y=o("./stream/GenericWorker"),_=new Array(256),T=0;T<256;T++)_[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;_[254]=_[254]=1;function E(){y.call(this,"utf-8 decode"),this.leftOver=null}function w(){y.call(this,"utf-8 encode")}l.utf8encode=function(C){return h.nodebuffer?m.newBufferFrom(C,"utf-8"):(function(k){var M,I,D,B,H,Y=k.length,V=0;for(B=0;B<Y;B++)(64512&(I=k.charCodeAt(B)))==55296&&B+1<Y&&(64512&(D=k.charCodeAt(B+1)))==56320&&(I=65536+(I-55296<<10)+(D-56320),B++),V+=I<128?1:I<2048?2:I<65536?3:4;for(M=h.uint8array?new Uint8Array(V):new Array(V),B=H=0;H<V;B++)(64512&(I=k.charCodeAt(B)))==55296&&B+1<Y&&(64512&(D=k.charCodeAt(B+1)))==56320&&(I=65536+(I-55296<<10)+(D-56320),B++),I<128?M[H++]=I:(I<2048?M[H++]=192|I>>>6:(I<65536?M[H++]=224|I>>>12:(M[H++]=240|I>>>18,M[H++]=128|I>>>12&63),M[H++]=128|I>>>6&63),M[H++]=128|63&I);return M})(C)},l.utf8decode=function(C){return h.nodebuffer?f.transformTo("nodebuffer",C).toString("utf-8"):(function(k){var M,I,D,B,H=k.length,Y=new Array(2*H);for(M=I=0;M<H;)if((D=k[M++])<128)Y[I++]=D;else if(4<(B=_[D]))Y[I++]=65533,M+=B-1;else{for(D&=B===2?31:B===3?15:7;1<B&&M<H;)D=D<<6|63&k[M++],B--;1<B?Y[I++]=65533:D<65536?Y[I++]=D:(D-=65536,Y[I++]=55296|D>>10&1023,Y[I++]=56320|1023&D)}return Y.length!==I&&(Y.subarray?Y=Y.subarray(0,I):Y.length=I),f.applyFromCharCode(Y)})(C=f.transformTo(h.uint8array?"uint8array":"array",C))},f.inherits(E,y),E.prototype.processChunk=function(C){var k=f.transformTo(h.uint8array?"uint8array":"array",C.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var M=k;(k=new Uint8Array(M.length+this.leftOver.length)).set(this.leftOver,0),k.set(M,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var I=(function(B,H){var Y;for((H=H||B.length)>B.length&&(H=B.length),Y=H-1;0<=Y&&(192&B[Y])==128;)Y--;return Y<0||Y===0?H:Y+_[B[Y]]>H?Y:H})(k),D=k;I!==k.length&&(h.uint8array?(D=k.subarray(0,I),this.leftOver=k.subarray(I,k.length)):(D=k.slice(0,I),this.leftOver=k.slice(I,k.length))),this.push({data:l.utf8decode(D),meta:C.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=E,f.inherits(w,y),w.prototype.processChunk=function(C){this.push({data:l.utf8encode(C.data),meta:C.meta})},l.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,r,l){var f=o("./support"),h=o("./base64"),m=o("./nodejsUtils"),y=o("./external");function _(M){return M}function T(M,I){for(var D=0;D<M.length;++D)I[D]=255&M.charCodeAt(D);return I}o("setimmediate"),l.newBlob=function(M,I){l.checkSupport("blob");try{return new Blob([M],{type:I})}catch{try{var D=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return D.append(M),D.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var E={stringifyByChunk:function(M,I,D){var B=[],H=0,Y=M.length;if(Y<=D)return String.fromCharCode.apply(null,M);for(;H<Y;)I==="array"||I==="nodebuffer"?B.push(String.fromCharCode.apply(null,M.slice(H,Math.min(H+D,Y)))):B.push(String.fromCharCode.apply(null,M.subarray(H,Math.min(H+D,Y)))),H+=D;return B.join("")},stringifyByChar:function(M){for(var I="",D=0;D<M.length;D++)I+=String.fromCharCode(M[D]);return I},applyCanBeUsed:{uint8array:(function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}})()}};function w(M){var I=65536,D=l.getTypeOf(M),B=!0;if(D==="uint8array"?B=E.applyCanBeUsed.uint8array:D==="nodebuffer"&&(B=E.applyCanBeUsed.nodebuffer),B)for(;1<I;)try{return E.stringifyByChunk(M,D,I)}catch{I=Math.floor(I/2)}return E.stringifyByChar(M)}function C(M,I){for(var D=0;D<M.length;D++)I[D]=M[D];return I}l.applyFromCharCode=w;var k={};k.string={string:_,array:function(M){return T(M,new Array(M.length))},arraybuffer:function(M){return k.string.uint8array(M).buffer},uint8array:function(M){return T(M,new Uint8Array(M.length))},nodebuffer:function(M){return T(M,m.allocBuffer(M.length))}},k.array={string:w,array:_,arraybuffer:function(M){return new Uint8Array(M).buffer},uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return m.newBufferFrom(M)}},k.arraybuffer={string:function(M){return w(new Uint8Array(M))},array:function(M){return C(new Uint8Array(M),new Array(M.byteLength))},arraybuffer:_,uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return m.newBufferFrom(new Uint8Array(M))}},k.uint8array={string:w,array:function(M){return C(M,new Array(M.length))},arraybuffer:function(M){return M.buffer},uint8array:_,nodebuffer:function(M){return m.newBufferFrom(M)}},k.nodebuffer={string:w,array:function(M){return C(M,new Array(M.length))},arraybuffer:function(M){return k.nodebuffer.uint8array(M).buffer},uint8array:function(M){return C(M,new Uint8Array(M.length))},nodebuffer:_},l.transformTo=function(M,I){if(I=I||"",!M)return I;l.checkSupport(M);var D=l.getTypeOf(I);return k[D][M](I)},l.resolve=function(M){for(var I=M.split("/"),D=[],B=0;B<I.length;B++){var H=I[B];H==="."||H===""&&B!==0&&B!==I.length-1||(H===".."?D.pop():D.push(H))}return D.join("/")},l.getTypeOf=function(M){return typeof M=="string"?"string":Object.prototype.toString.call(M)==="[object Array]"?"array":f.nodebuffer&&m.isBuffer(M)?"nodebuffer":f.uint8array&&M instanceof Uint8Array?"uint8array":f.arraybuffer&&M instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(M){if(!f[M.toLowerCase()])throw new Error(M+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(M){var I,D,B="";for(D=0;D<(M||"").length;D++)B+="\\x"+((I=M.charCodeAt(D))<16?"0":"")+I.toString(16).toUpperCase();return B},l.delay=function(M,I,D){setImmediate(function(){M.apply(D||null,I||[])})},l.inherits=function(M,I){function D(){}D.prototype=I.prototype,M.prototype=new D},l.extend=function(){var M,I,D={};for(M=0;M<arguments.length;M++)for(I in arguments[M])Object.prototype.hasOwnProperty.call(arguments[M],I)&&D[I]===void 0&&(D[I]=arguments[M][I]);return D},l.prepareContent=function(M,I,D,B,H){return y.Promise.resolve(I).then(function(Y){return f.blob&&(Y instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Y))!==-1)&&typeof FileReader<"u"?new y.Promise(function(V,j){var K=new FileReader;K.onload=function(pt){V(pt.target.result)},K.onerror=function(pt){j(pt.target.error)},K.readAsArrayBuffer(Y)}):Y}).then(function(Y){var V=l.getTypeOf(Y);return V?(V==="arraybuffer"?Y=l.transformTo("uint8array",Y):V==="string"&&(H?Y=h.decode(Y):D&&B!==!0&&(Y=(function(j){return T(j,f.uint8array?new Uint8Array(j.length):new Array(j.length))})(Y))),Y):y.Promise.reject(new Error("Can't read the data of '"+M+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,r,l){var f=o("./reader/readerFor"),h=o("./utils"),m=o("./signature"),y=o("./zipEntry"),_=o("./support");function T(E){this.files=[],this.loadOptions=E}T.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(w)+", expected "+h.pretty(E)+")")}},isSignature:function(E,w){var C=this.reader.index;this.reader.setIndex(E);var k=this.reader.readString(4)===w;return this.reader.setIndex(C),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),w=_.uint8array?"uint8array":"array",C=h.transformTo(w,E);this.zipComment=this.loadOptions.decodeFileName(C)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,w,C,k=this.zip64EndOfCentralSize-44;0<k;)E=this.reader.readInt(2),w=this.reader.readInt(4),C=this.reader.readData(w),this.zip64ExtensibleData[E]={id:E,length:w,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,w;for(E=0;E<this.files.length;E++)w=this.files[E],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(E=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var w=E;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var k=w-C;if(0<k)this.isSignature(w,m.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(E){this.reader=f(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,r,l){var f=o("./reader/readerFor"),h=o("./utils"),m=o("./compressedObject"),y=o("./crc32"),_=o("./utf8"),T=o("./compressions"),E=o("./support");function w(C,k){this.options=C,this.loadOptions=k}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(C){var k,M;if(C.skip(22),this.fileNameLength=C.readInt(2),M=C.readInt(2),this.fileName=C.readData(this.fileNameLength),C.skip(M),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=(function(I){for(var D in T)if(Object.prototype.hasOwnProperty.call(T,D)&&T[D].magic===I)return T[D];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,k,C.readData(this.compressedSize))},readCentralPart:function(C){this.versionMadeBy=C.readInt(2),C.skip(2),this.bitFlag=C.readInt(2),this.compressionMethod=C.readString(2),this.date=C.readDate(),this.crc32=C.readInt(4),this.compressedSize=C.readInt(4),this.uncompressedSize=C.readInt(4);var k=C.readInt(2);if(this.extraFieldsLength=C.readInt(2),this.fileCommentLength=C.readInt(2),this.diskNumberStart=C.readInt(2),this.internalFileAttributes=C.readInt(2),this.externalFileAttributes=C.readInt(4),this.localHeaderOffset=C.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");C.skip(k),this.readExtraFields(C),this.parseZIP64ExtraField(C),this.fileComment=C.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var C=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),C==0&&(this.dosPermissions=63&this.externalFileAttributes),C==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var C=f(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=C.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=C.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=C.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=C.readInt(4))}},readExtraFields:function(C){var k,M,I,D=C.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});C.index+4<D;)k=C.readInt(2),M=C.readInt(2),I=C.readData(M),this.extraFields[k]={id:k,length:M,value:I};C.setIndex(D)},handleUTF8:function(){var C=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var M=h.transformTo(C,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(M)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var D=h.transformTo(C,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var C=this.extraFields[28789];if(C){var k=f(C.value);return k.readInt(1)!==1||y(this.fileName)!==k.readInt(4)?null:_.utf8decode(k.readData(C.length-5))}return null},findExtraFieldUnicodeComment:function(){var C=this.extraFields[25461];if(C){var k=f(C.value);return k.readInt(1)!==1||y(this.fileComment)!==k.readInt(4)?null:_.utf8decode(k.readData(C.length-5))}return null}},r.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,r,l){function f(k,M,I){this.name=k,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=M,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var h=o("./stream/StreamHelper"),m=o("./stream/DataWorker"),y=o("./utf8"),_=o("./compressedObject"),T=o("./stream/GenericWorker");f.prototype={internalStream:function(k){var M=null,I="string";try{if(!k)throw new Error("No output type specified.");var D=(I=k.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),M=this._decompressWorker();var B=!this._dataBinary;B&&!D&&(M=M.pipe(new y.Utf8EncodeWorker)),!B&&D&&(M=M.pipe(new y.Utf8DecodeWorker))}catch(H){(M=new T("error")).error(H)}return new h(M,I,"")},async:function(k,M){return this.internalStream(k).accumulate(M)},nodeStream:function(k,M){return this.internalStream(k||"nodebuffer").toNodejsStream(M)},_compressWorker:function(k,M){if(this._data instanceof _&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new y.Utf8EncodeWorker)),_.createWorkerFrom(I,k,M)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof T?this._data:new m(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},C=0;C<E.length;C++)f.prototype[E[C]]=w;r.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,r,l){(function(f){var h,m,y=f.MutationObserver||f.WebKitMutationObserver;if(y){var _=0,T=new y(k),E=f.document.createTextNode("");T.observe(E,{characterData:!0}),h=function(){E.data=_=++_%2}}else if(f.setImmediate||f.MessageChannel===void 0)h="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var M=f.document.createElement("script");M.onreadystatechange=function(){k(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},f.document.documentElement.appendChild(M)}:function(){setTimeout(k,0)};else{var w=new f.MessageChannel;w.port1.onmessage=k,h=function(){w.port2.postMessage(0)}}var C=[];function k(){var M,I;m=!0;for(var D=C.length;D;){for(I=C,C=[],M=-1;++M<D;)I[M]();D=C.length}m=!1}r.exports=function(M){C.push(M)!==1||m||h()}}).call(this,typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,r,l){var f=o("immediate");function h(){}var m={},y=["REJECTED"],_=["FULFILLED"],T=["PENDING"];function E(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,D!==h&&M(this,D)}function w(D,B,H){this.promise=D,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof H=="function"&&(this.onRejected=H,this.callRejected=this.otherCallRejected)}function C(D,B,H){f(function(){var Y;try{Y=B(H)}catch(V){return m.reject(D,V)}Y===D?m.reject(D,new TypeError("Cannot resolve promise with itself")):m.resolve(D,Y)})}function k(D){var B=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof B=="function")return function(){B.apply(D,arguments)}}function M(D,B){var H=!1;function Y(K){H||(H=!0,m.reject(D,K))}function V(K){H||(H=!0,m.resolve(D,K))}var j=I(function(){B(V,Y)});j.status==="error"&&Y(j.value)}function I(D,B){var H={};try{H.value=D(B),H.status="success"}catch(Y){H.status="error",H.value=Y}return H}(r.exports=E).prototype.finally=function(D){if(typeof D!="function")return this;var B=this.constructor;return this.then(function(H){return B.resolve(D()).then(function(){return H})},function(H){return B.resolve(D()).then(function(){throw H})})},E.prototype.catch=function(D){return this.then(null,D)},E.prototype.then=function(D,B){if(typeof D!="function"&&this.state===_||typeof B!="function"&&this.state===y)return this;var H=new this.constructor(h);return this.state!==T?C(H,this.state===_?D:B,this.outcome):this.queue.push(new w(H,D,B)),H},w.prototype.callFulfilled=function(D){m.resolve(this.promise,D)},w.prototype.otherCallFulfilled=function(D){C(this.promise,this.onFulfilled,D)},w.prototype.callRejected=function(D){m.reject(this.promise,D)},w.prototype.otherCallRejected=function(D){C(this.promise,this.onRejected,D)},m.resolve=function(D,B){var H=I(k,B);if(H.status==="error")return m.reject(D,H.value);var Y=H.value;if(Y)M(D,Y);else{D.state=_,D.outcome=B;for(var V=-1,j=D.queue.length;++V<j;)D.queue[V].callFulfilled(B)}return D},m.reject=function(D,B){D.state=y,D.outcome=B;for(var H=-1,Y=D.queue.length;++H<Y;)D.queue[H].callRejected(B);return D},E.resolve=function(D){return D instanceof this?D:m.resolve(new this(h),D)},E.reject=function(D){var B=new this(h);return m.reject(B,D)},E.all=function(D){var B=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var H=D.length,Y=!1;if(!H)return this.resolve([]);for(var V=new Array(H),j=0,K=-1,pt=new this(h);++K<H;)W(D[K],K);return pt;function W(yt,Mt){B.resolve(yt).then(function(F){V[Mt]=F,++j!==H||Y||(Y=!0,m.resolve(pt,V))},function(F){Y||(Y=!0,m.reject(pt,F))})}},E.race=function(D){var B=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var H=D.length,Y=!1;if(!H)return this.resolve([]);for(var V=-1,j=new this(h);++V<H;)K=D[V],B.resolve(K).then(function(pt){Y||(Y=!0,m.resolve(j,pt))},function(pt){Y||(Y=!0,m.reject(j,pt))});var K;return j}},{immediate:36}],38:[function(o,r,l){var f={};(0,o("./lib/utils/common").assign)(f,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),r.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,r,l){var f=o("./zlib/deflate"),h=o("./utils/common"),m=o("./utils/strings"),y=o("./zlib/messages"),_=o("./zlib/zstream"),T=Object.prototype.toString,E=0,w=-1,C=0,k=8;function M(D){if(!(this instanceof M))return new M(D);this.options=h.assign({level:w,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:C,to:""},D||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var H=f.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(H!==E)throw new Error(y[H]);if(B.header&&f.deflateSetHeader(this.strm,B.header),B.dictionary){var Y;if(Y=typeof B.dictionary=="string"?m.string2buf(B.dictionary):T.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(H=f.deflateSetDictionary(this.strm,Y))!==E)throw new Error(y[H]);this._dict_set=!0}}function I(D,B){var H=new M(B);if(H.push(D,!0),H.err)throw H.msg||y[H.err];return H.result}M.prototype.push=function(D,B){var H,Y,V=this.strm,j=this.options.chunkSize;if(this.ended)return!1;Y=B===~~B?B:B===!0?4:0,typeof D=="string"?V.input=m.string2buf(D):T.call(D)==="[object ArrayBuffer]"?V.input=new Uint8Array(D):V.input=D,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new h.Buf8(j),V.next_out=0,V.avail_out=j),(H=f.deflate(V,Y))!==1&&H!==E)return this.onEnd(H),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||Y!==4&&Y!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(h.shrinkBuf(V.output,V.next_out))):this.onData(h.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&H!==1);return Y===4?(H=f.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===E):Y!==2||(this.onEnd(E),!(V.avail_out=0))},M.prototype.onData=function(D){this.chunks.push(D)},M.prototype.onEnd=function(D){D===E&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},l.Deflate=M,l.deflate=I,l.deflateRaw=function(D,B){return(B=B||{}).raw=!0,I(D,B)},l.gzip=function(D,B){return(B=B||{}).gzip=!0,I(D,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,r,l){var f=o("./zlib/inflate"),h=o("./utils/common"),m=o("./utils/strings"),y=o("./zlib/constants"),_=o("./zlib/messages"),T=o("./zlib/zstream"),E=o("./zlib/gzheader"),w=Object.prototype.toString;function C(M){if(!(this instanceof C))return new C(M);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},M||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||M&&M.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var D=f.inflateInit2(this.strm,I.windowBits);if(D!==y.Z_OK)throw new Error(_[D]);this.header=new E,f.inflateGetHeader(this.strm,this.header)}function k(M,I){var D=new C(I);if(D.push(M,!0),D.err)throw D.msg||_[D.err];return D.result}C.prototype.push=function(M,I){var D,B,H,Y,V,j,K=this.strm,pt=this.options.chunkSize,W=this.options.dictionary,yt=!1;if(this.ended)return!1;B=I===~~I?I:I===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof M=="string"?K.input=m.binstring2buf(M):w.call(M)==="[object ArrayBuffer]"?K.input=new Uint8Array(M):K.input=M,K.next_in=0,K.avail_in=K.input.length;do{if(K.avail_out===0&&(K.output=new h.Buf8(pt),K.next_out=0,K.avail_out=pt),(D=f.inflate(K,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&W&&(j=typeof W=="string"?m.string2buf(W):w.call(W)==="[object ArrayBuffer]"?new Uint8Array(W):W,D=f.inflateSetDictionary(this.strm,j)),D===y.Z_BUF_ERROR&&yt===!0&&(D=y.Z_OK,yt=!1),D!==y.Z_STREAM_END&&D!==y.Z_OK)return this.onEnd(D),!(this.ended=!0);K.next_out&&(K.avail_out!==0&&D!==y.Z_STREAM_END&&(K.avail_in!==0||B!==y.Z_FINISH&&B!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(H=m.utf8border(K.output,K.next_out),Y=K.next_out-H,V=m.buf2string(K.output,H),K.next_out=Y,K.avail_out=pt-Y,Y&&h.arraySet(K.output,K.output,H,Y,0),this.onData(V)):this.onData(h.shrinkBuf(K.output,K.next_out)))),K.avail_in===0&&K.avail_out===0&&(yt=!0)}while((0<K.avail_in||K.avail_out===0)&&D!==y.Z_STREAM_END);return D===y.Z_STREAM_END&&(B=y.Z_FINISH),B===y.Z_FINISH?(D=f.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===y.Z_OK):B!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(K.avail_out=0))},C.prototype.onData=function(M){this.chunks.push(M)},C.prototype.onEnd=function(M){M===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},l.Inflate=C,l.inflate=k,l.inflateRaw=function(M,I){return(I=I||{}).raw=!0,k(M,I)},l.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,r,l){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(y){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var T=_.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var E in T)T.hasOwnProperty(E)&&(y[E]=T[E])}}return y},l.shrinkBuf=function(y,_){return y.length===_?y:y.subarray?y.subarray(0,_):(y.length=_,y)};var h={arraySet:function(y,_,T,E,w){if(_.subarray&&y.subarray)y.set(_.subarray(T,T+E),w);else for(var C=0;C<E;C++)y[w+C]=_[T+C]},flattenChunks:function(y){var _,T,E,w,C,k;for(_=E=0,T=y.length;_<T;_++)E+=y[_].length;for(k=new Uint8Array(E),_=w=0,T=y.length;_<T;_++)C=y[_],k.set(C,w),w+=C.length;return k}},m={arraySet:function(y,_,T,E,w){for(var C=0;C<E;C++)y[w+C]=_[T+C]},flattenChunks:function(y){return[].concat.apply([],y)}};l.setTyped=function(y){y?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,h)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,m))},l.setTyped(f)},{}],42:[function(o,r,l){var f=o("./common"),h=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var y=new f.Buf8(256),_=0;_<256;_++)y[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function T(E,w){if(w<65537&&(E.subarray&&m||!E.subarray&&h))return String.fromCharCode.apply(null,f.shrinkBuf(E,w));for(var C="",k=0;k<w;k++)C+=String.fromCharCode(E[k]);return C}y[254]=y[254]=1,l.string2buf=function(E){var w,C,k,M,I,D=E.length,B=0;for(M=0;M<D;M++)(64512&(C=E.charCodeAt(M)))==55296&&M+1<D&&(64512&(k=E.charCodeAt(M+1)))==56320&&(C=65536+(C-55296<<10)+(k-56320),M++),B+=C<128?1:C<2048?2:C<65536?3:4;for(w=new f.Buf8(B),M=I=0;I<B;M++)(64512&(C=E.charCodeAt(M)))==55296&&M+1<D&&(64512&(k=E.charCodeAt(M+1)))==56320&&(C=65536+(C-55296<<10)+(k-56320),M++),C<128?w[I++]=C:(C<2048?w[I++]=192|C>>>6:(C<65536?w[I++]=224|C>>>12:(w[I++]=240|C>>>18,w[I++]=128|C>>>12&63),w[I++]=128|C>>>6&63),w[I++]=128|63&C);return w},l.buf2binstring=function(E){return T(E,E.length)},l.binstring2buf=function(E){for(var w=new f.Buf8(E.length),C=0,k=w.length;C<k;C++)w[C]=E.charCodeAt(C);return w},l.buf2string=function(E,w){var C,k,M,I,D=w||E.length,B=new Array(2*D);for(C=k=0;C<D;)if((M=E[C++])<128)B[k++]=M;else if(4<(I=y[M]))B[k++]=65533,C+=I-1;else{for(M&=I===2?31:I===3?15:7;1<I&&C<D;)M=M<<6|63&E[C++],I--;1<I?B[k++]=65533:M<65536?B[k++]=M:(M-=65536,B[k++]=55296|M>>10&1023,B[k++]=56320|1023&M)}return T(B,k)},l.utf8border=function(E,w){var C;for((w=w||E.length)>E.length&&(w=E.length),C=w-1;0<=C&&(192&E[C])==128;)C--;return C<0||C===0?w:C+y[E[C]]>w?C:w}},{"./common":41}],43:[function(o,r,l){r.exports=function(f,h,m,y){for(var _=65535&f|0,T=f>>>16&65535|0,E=0;m!==0;){for(m-=E=2e3<m?2e3:m;T=T+(_=_+h[y++]|0)|0,--E;);_%=65521,T%=65521}return _|T<<16|0}},{}],44:[function(o,r,l){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,r,l){var f=(function(){for(var h,m=[],y=0;y<256;y++){h=y;for(var _=0;_<8;_++)h=1&h?3988292384^h>>>1:h>>>1;m[y]=h}return m})();r.exports=function(h,m,y,_){var T=f,E=_+y;h^=-1;for(var w=_;w<E;w++)h=h>>>8^T[255&(h^m[w])];return-1^h}},{}],46:[function(o,r,l){var f,h=o("../utils/common"),m=o("./trees"),y=o("./adler32"),_=o("./crc32"),T=o("./messages"),E=0,w=4,C=0,k=-2,M=-1,I=4,D=2,B=8,H=9,Y=286,V=30,j=19,K=2*Y+1,pt=15,W=3,yt=258,Mt=yt+W+1,F=42,st=113,R=1,St=2,Q=3,tt=4;function gt(N,xt){return N.msg=T[xt],xt}function lt(N){return(N<<1)-(4<N?9:0)}function mt(N){for(var xt=N.length;0<=--xt;)N[xt]=0}function z(N){var xt=N.state,_t=xt.pending;_t>N.avail_out&&(_t=N.avail_out),_t!==0&&(h.arraySet(N.output,xt.pending_buf,xt.pending_out,_t,N.next_out),N.next_out+=_t,xt.pending_out+=_t,N.total_out+=_t,N.avail_out-=_t,xt.pending-=_t,xt.pending===0&&(xt.pending_out=0))}function G(N,xt){m._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,xt),N.block_start=N.strstart,z(N.strm)}function ct(N,xt){N.pending_buf[N.pending++]=xt}function ot(N,xt){N.pending_buf[N.pending++]=xt>>>8&255,N.pending_buf[N.pending++]=255&xt}function at(N,xt){var _t,Z,q=N.max_chain_length,et=N.strstart,At=N.prev_length,Nt=N.nice_match,ft=N.strstart>N.w_size-Mt?N.strstart-(N.w_size-Mt):0,It=N.window,Lt=N.w_mask,kt=N.prev,Vt=N.strstart+yt,fe=It[et+At-1],jt=It[et+At];N.prev_length>=N.good_match&&(q>>=2),Nt>N.lookahead&&(Nt=N.lookahead);do if(It[(_t=xt)+At]===jt&&It[_t+At-1]===fe&&It[_t]===It[et]&&It[++_t]===It[et+1]){et+=2,_t++;do;while(It[++et]===It[++_t]&&It[++et]===It[++_t]&&It[++et]===It[++_t]&&It[++et]===It[++_t]&&It[++et]===It[++_t]&&It[++et]===It[++_t]&&It[++et]===It[++_t]&&It[++et]===It[++_t]&&et<Vt);if(Z=yt-(Vt-et),et=Vt-yt,At<Z){if(N.match_start=xt,Nt<=(At=Z))break;fe=It[et+At-1],jt=It[et+At]}}while((xt=kt[xt&Lt])>ft&&--q!=0);return At<=N.lookahead?At:N.lookahead}function Rt(N){var xt,_t,Z,q,et,At,Nt,ft,It,Lt,kt=N.w_size;do{if(q=N.window_size-N.lookahead-N.strstart,N.strstart>=kt+(kt-Mt)){for(h.arraySet(N.window,N.window,kt,kt,0),N.match_start-=kt,N.strstart-=kt,N.block_start-=kt,xt=_t=N.hash_size;Z=N.head[--xt],N.head[xt]=kt<=Z?Z-kt:0,--_t;);for(xt=_t=kt;Z=N.prev[--xt],N.prev[xt]=kt<=Z?Z-kt:0,--_t;);q+=kt}if(N.strm.avail_in===0)break;if(At=N.strm,Nt=N.window,ft=N.strstart+N.lookahead,It=q,Lt=void 0,Lt=At.avail_in,It<Lt&&(Lt=It),_t=Lt===0?0:(At.avail_in-=Lt,h.arraySet(Nt,At.input,At.next_in,Lt,ft),At.state.wrap===1?At.adler=y(At.adler,Nt,Lt,ft):At.state.wrap===2&&(At.adler=_(At.adler,Nt,Lt,ft)),At.next_in+=Lt,At.total_in+=Lt,Lt),N.lookahead+=_t,N.lookahead+N.insert>=W)for(et=N.strstart-N.insert,N.ins_h=N.window[et],N.ins_h=(N.ins_h<<N.hash_shift^N.window[et+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[et+W-1])&N.hash_mask,N.prev[et&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=et,et++,N.insert--,!(N.lookahead+N.insert<W)););}while(N.lookahead<Mt&&N.strm.avail_in!==0)}function Gt(N,xt){for(var _t,Z;;){if(N.lookahead<Mt){if(Rt(N),N.lookahead<Mt&&xt===E)return R;if(N.lookahead===0)break}if(_t=0,N.lookahead>=W&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+W-1])&N.hash_mask,_t=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),_t!==0&&N.strstart-_t<=N.w_size-Mt&&(N.match_length=at(N,_t)),N.match_length>=W)if(Z=m._tr_tally(N,N.strstart-N.match_start,N.match_length-W),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=W){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+W-1])&N.hash_mask,_t=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else Z=m._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(Z&&(G(N,!1),N.strm.avail_out===0))return R}return N.insert=N.strstart<W-1?N.strstart:W-1,xt===w?(G(N,!0),N.strm.avail_out===0?Q:tt):N.last_lit&&(G(N,!1),N.strm.avail_out===0)?R:St}function Ot(N,xt){for(var _t,Z,q;;){if(N.lookahead<Mt){if(Rt(N),N.lookahead<Mt&&xt===E)return R;if(N.lookahead===0)break}if(_t=0,N.lookahead>=W&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+W-1])&N.hash_mask,_t=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=W-1,_t!==0&&N.prev_length<N.max_lazy_match&&N.strstart-_t<=N.w_size-Mt&&(N.match_length=at(N,_t),N.match_length<=5&&(N.strategy===1||N.match_length===W&&4096<N.strstart-N.match_start)&&(N.match_length=W-1)),N.prev_length>=W&&N.match_length<=N.prev_length){for(q=N.strstart+N.lookahead-W,Z=m._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-W),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=q&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+W-1])&N.hash_mask,_t=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=W-1,N.strstart++,Z&&(G(N,!1),N.strm.avail_out===0))return R}else if(N.match_available){if((Z=m._tr_tally(N,0,N.window[N.strstart-1]))&&G(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return R}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(Z=m._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<W-1?N.strstart:W-1,xt===w?(G(N,!0),N.strm.avail_out===0?Q:tt):N.last_lit&&(G(N,!1),N.strm.avail_out===0)?R:St}function Zt(N,xt,_t,Z,q){this.good_length=N,this.max_lazy=xt,this.nice_length=_t,this.max_chain=Z,this.func=q}function Pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*K),this.dyn_dtree=new h.Buf16(2*(2*V+1)),this.bl_tree=new h.Buf16(2*(2*j+1)),mt(this.dyn_ltree),mt(this.dyn_dtree),mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(pt+1),this.heap=new h.Buf16(2*Y+1),mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*Y+1),mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Bt(N){var xt;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=D,(xt=N.state).pending=0,xt.pending_out=0,xt.wrap<0&&(xt.wrap=-xt.wrap),xt.status=xt.wrap?F:st,N.adler=xt.wrap===2?0:1,xt.last_flush=E,m._tr_init(xt),C):gt(N,k)}function ce(N){var xt=Bt(N);return xt===C&&(function(_t){_t.window_size=2*_t.w_size,mt(_t.head),_t.max_lazy_match=f[_t.level].max_lazy,_t.good_match=f[_t.level].good_length,_t.nice_match=f[_t.level].nice_length,_t.max_chain_length=f[_t.level].max_chain,_t.strstart=0,_t.block_start=0,_t.lookahead=0,_t.insert=0,_t.match_length=_t.prev_length=W-1,_t.match_available=0,_t.ins_h=0})(N.state),xt}function be(N,xt,_t,Z,q,et){if(!N)return k;var At=1;if(xt===M&&(xt=6),Z<0?(At=0,Z=-Z):15<Z&&(At=2,Z-=16),q<1||H<q||_t!==B||Z<8||15<Z||xt<0||9<xt||et<0||I<et)return gt(N,k);Z===8&&(Z=9);var Nt=new Pt;return(N.state=Nt).strm=N,Nt.wrap=At,Nt.gzhead=null,Nt.w_bits=Z,Nt.w_size=1<<Nt.w_bits,Nt.w_mask=Nt.w_size-1,Nt.hash_bits=q+7,Nt.hash_size=1<<Nt.hash_bits,Nt.hash_mask=Nt.hash_size-1,Nt.hash_shift=~~((Nt.hash_bits+W-1)/W),Nt.window=new h.Buf8(2*Nt.w_size),Nt.head=new h.Buf16(Nt.hash_size),Nt.prev=new h.Buf16(Nt.w_size),Nt.lit_bufsize=1<<q+6,Nt.pending_buf_size=4*Nt.lit_bufsize,Nt.pending_buf=new h.Buf8(Nt.pending_buf_size),Nt.d_buf=1*Nt.lit_bufsize,Nt.l_buf=3*Nt.lit_bufsize,Nt.level=xt,Nt.strategy=et,Nt.method=_t,ce(N)}f=[new Zt(0,0,0,0,function(N,xt){var _t=65535;for(_t>N.pending_buf_size-5&&(_t=N.pending_buf_size-5);;){if(N.lookahead<=1){if(Rt(N),N.lookahead===0&&xt===E)return R;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var Z=N.block_start+_t;if((N.strstart===0||N.strstart>=Z)&&(N.lookahead=N.strstart-Z,N.strstart=Z,G(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-Mt&&(G(N,!1),N.strm.avail_out===0))return R}return N.insert=0,xt===w?(G(N,!0),N.strm.avail_out===0?Q:tt):(N.strstart>N.block_start&&(G(N,!1),N.strm.avail_out),R)}),new Zt(4,4,8,4,Gt),new Zt(4,5,16,8,Gt),new Zt(4,6,32,32,Gt),new Zt(4,4,16,16,Ot),new Zt(8,16,32,32,Ot),new Zt(8,16,128,128,Ot),new Zt(8,32,128,256,Ot),new Zt(32,128,258,1024,Ot),new Zt(32,258,258,4096,Ot)],l.deflateInit=function(N,xt){return be(N,xt,B,15,8,0)},l.deflateInit2=be,l.deflateReset=ce,l.deflateResetKeep=Bt,l.deflateSetHeader=function(N,xt){return N&&N.state?N.state.wrap!==2?k:(N.state.gzhead=xt,C):k},l.deflate=function(N,xt){var _t,Z,q,et;if(!N||!N.state||5<xt||xt<0)return N?gt(N,k):k;if(Z=N.state,!N.output||!N.input&&N.avail_in!==0||Z.status===666&&xt!==w)return gt(N,N.avail_out===0?-5:k);if(Z.strm=N,_t=Z.last_flush,Z.last_flush=xt,Z.status===F)if(Z.wrap===2)N.adler=0,ct(Z,31),ct(Z,139),ct(Z,8),Z.gzhead?(ct(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(Z.gzhead.extra?4:0)+(Z.gzhead.name?8:0)+(Z.gzhead.comment?16:0)),ct(Z,255&Z.gzhead.time),ct(Z,Z.gzhead.time>>8&255),ct(Z,Z.gzhead.time>>16&255),ct(Z,Z.gzhead.time>>24&255),ct(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ct(Z,255&Z.gzhead.os),Z.gzhead.extra&&Z.gzhead.extra.length&&(ct(Z,255&Z.gzhead.extra.length),ct(Z,Z.gzhead.extra.length>>8&255)),Z.gzhead.hcrc&&(N.adler=_(N.adler,Z.pending_buf,Z.pending,0)),Z.gzindex=0,Z.status=69):(ct(Z,0),ct(Z,0),ct(Z,0),ct(Z,0),ct(Z,0),ct(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ct(Z,3),Z.status=st);else{var At=B+(Z.w_bits-8<<4)<<8;At|=(2<=Z.strategy||Z.level<2?0:Z.level<6?1:Z.level===6?2:3)<<6,Z.strstart!==0&&(At|=32),At+=31-At%31,Z.status=st,ot(Z,At),Z.strstart!==0&&(ot(Z,N.adler>>>16),ot(Z,65535&N.adler)),N.adler=1}if(Z.status===69)if(Z.gzhead.extra){for(q=Z.pending;Z.gzindex<(65535&Z.gzhead.extra.length)&&(Z.pending!==Z.pending_buf_size||(Z.gzhead.hcrc&&Z.pending>q&&(N.adler=_(N.adler,Z.pending_buf,Z.pending-q,q)),z(N),q=Z.pending,Z.pending!==Z.pending_buf_size));)ct(Z,255&Z.gzhead.extra[Z.gzindex]),Z.gzindex++;Z.gzhead.hcrc&&Z.pending>q&&(N.adler=_(N.adler,Z.pending_buf,Z.pending-q,q)),Z.gzindex===Z.gzhead.extra.length&&(Z.gzindex=0,Z.status=73)}else Z.status=73;if(Z.status===73)if(Z.gzhead.name){q=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>q&&(N.adler=_(N.adler,Z.pending_buf,Z.pending-q,q)),z(N),q=Z.pending,Z.pending===Z.pending_buf_size)){et=1;break}et=Z.gzindex<Z.gzhead.name.length?255&Z.gzhead.name.charCodeAt(Z.gzindex++):0,ct(Z,et)}while(et!==0);Z.gzhead.hcrc&&Z.pending>q&&(N.adler=_(N.adler,Z.pending_buf,Z.pending-q,q)),et===0&&(Z.gzindex=0,Z.status=91)}else Z.status=91;if(Z.status===91)if(Z.gzhead.comment){q=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>q&&(N.adler=_(N.adler,Z.pending_buf,Z.pending-q,q)),z(N),q=Z.pending,Z.pending===Z.pending_buf_size)){et=1;break}et=Z.gzindex<Z.gzhead.comment.length?255&Z.gzhead.comment.charCodeAt(Z.gzindex++):0,ct(Z,et)}while(et!==0);Z.gzhead.hcrc&&Z.pending>q&&(N.adler=_(N.adler,Z.pending_buf,Z.pending-q,q)),et===0&&(Z.status=103)}else Z.status=103;if(Z.status===103&&(Z.gzhead.hcrc?(Z.pending+2>Z.pending_buf_size&&z(N),Z.pending+2<=Z.pending_buf_size&&(ct(Z,255&N.adler),ct(Z,N.adler>>8&255),N.adler=0,Z.status=st)):Z.status=st),Z.pending!==0){if(z(N),N.avail_out===0)return Z.last_flush=-1,C}else if(N.avail_in===0&&lt(xt)<=lt(_t)&&xt!==w)return gt(N,-5);if(Z.status===666&&N.avail_in!==0)return gt(N,-5);if(N.avail_in!==0||Z.lookahead!==0||xt!==E&&Z.status!==666){var Nt=Z.strategy===2?(function(ft,It){for(var Lt;;){if(ft.lookahead===0&&(Rt(ft),ft.lookahead===0)){if(It===E)return R;break}if(ft.match_length=0,Lt=m._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++,Lt&&(G(ft,!1),ft.strm.avail_out===0))return R}return ft.insert=0,It===w?(G(ft,!0),ft.strm.avail_out===0?Q:tt):ft.last_lit&&(G(ft,!1),ft.strm.avail_out===0)?R:St})(Z,xt):Z.strategy===3?(function(ft,It){for(var Lt,kt,Vt,fe,jt=ft.window;;){if(ft.lookahead<=yt){if(Rt(ft),ft.lookahead<=yt&&It===E)return R;if(ft.lookahead===0)break}if(ft.match_length=0,ft.lookahead>=W&&0<ft.strstart&&(kt=jt[Vt=ft.strstart-1])===jt[++Vt]&&kt===jt[++Vt]&&kt===jt[++Vt]){fe=ft.strstart+yt;do;while(kt===jt[++Vt]&&kt===jt[++Vt]&&kt===jt[++Vt]&&kt===jt[++Vt]&&kt===jt[++Vt]&&kt===jt[++Vt]&&kt===jt[++Vt]&&kt===jt[++Vt]&&Vt<fe);ft.match_length=yt-(fe-Vt),ft.match_length>ft.lookahead&&(ft.match_length=ft.lookahead)}if(ft.match_length>=W?(Lt=m._tr_tally(ft,1,ft.match_length-W),ft.lookahead-=ft.match_length,ft.strstart+=ft.match_length,ft.match_length=0):(Lt=m._tr_tally(ft,0,ft.window[ft.strstart]),ft.lookahead--,ft.strstart++),Lt&&(G(ft,!1),ft.strm.avail_out===0))return R}return ft.insert=0,It===w?(G(ft,!0),ft.strm.avail_out===0?Q:tt):ft.last_lit&&(G(ft,!1),ft.strm.avail_out===0)?R:St})(Z,xt):f[Z.level].func(Z,xt);if(Nt!==Q&&Nt!==tt||(Z.status=666),Nt===R||Nt===Q)return N.avail_out===0&&(Z.last_flush=-1),C;if(Nt===St&&(xt===1?m._tr_align(Z):xt!==5&&(m._tr_stored_block(Z,0,0,!1),xt===3&&(mt(Z.head),Z.lookahead===0&&(Z.strstart=0,Z.block_start=0,Z.insert=0))),z(N),N.avail_out===0))return Z.last_flush=-1,C}return xt!==w?C:Z.wrap<=0?1:(Z.wrap===2?(ct(Z,255&N.adler),ct(Z,N.adler>>8&255),ct(Z,N.adler>>16&255),ct(Z,N.adler>>24&255),ct(Z,255&N.total_in),ct(Z,N.total_in>>8&255),ct(Z,N.total_in>>16&255),ct(Z,N.total_in>>24&255)):(ot(Z,N.adler>>>16),ot(Z,65535&N.adler)),z(N),0<Z.wrap&&(Z.wrap=-Z.wrap),Z.pending!==0?C:1)},l.deflateEnd=function(N){var xt;return N&&N.state?(xt=N.state.status)!==F&&xt!==69&&xt!==73&&xt!==91&&xt!==103&&xt!==st&&xt!==666?gt(N,k):(N.state=null,xt===st?gt(N,-3):C):k},l.deflateSetDictionary=function(N,xt){var _t,Z,q,et,At,Nt,ft,It,Lt=xt.length;if(!N||!N.state||(et=(_t=N.state).wrap)===2||et===1&&_t.status!==F||_t.lookahead)return k;for(et===1&&(N.adler=y(N.adler,xt,Lt,0)),_t.wrap=0,Lt>=_t.w_size&&(et===0&&(mt(_t.head),_t.strstart=0,_t.block_start=0,_t.insert=0),It=new h.Buf8(_t.w_size),h.arraySet(It,xt,Lt-_t.w_size,_t.w_size,0),xt=It,Lt=_t.w_size),At=N.avail_in,Nt=N.next_in,ft=N.input,N.avail_in=Lt,N.next_in=0,N.input=xt,Rt(_t);_t.lookahead>=W;){for(Z=_t.strstart,q=_t.lookahead-(W-1);_t.ins_h=(_t.ins_h<<_t.hash_shift^_t.window[Z+W-1])&_t.hash_mask,_t.prev[Z&_t.w_mask]=_t.head[_t.ins_h],_t.head[_t.ins_h]=Z,Z++,--q;);_t.strstart=Z,_t.lookahead=W-1,Rt(_t)}return _t.strstart+=_t.lookahead,_t.block_start=_t.strstart,_t.insert=_t.lookahead,_t.lookahead=0,_t.match_length=_t.prev_length=W-1,_t.match_available=0,N.next_in=Nt,N.input=ft,N.avail_in=At,_t.wrap=et,C},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,r,l){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,r,l){r.exports=function(f,h){var m,y,_,T,E,w,C,k,M,I,D,B,H,Y,V,j,K,pt,W,yt,Mt,F,st,R,St;m=f.state,y=f.next_in,R=f.input,_=y+(f.avail_in-5),T=f.next_out,St=f.output,E=T-(h-f.avail_out),w=T+(f.avail_out-257),C=m.dmax,k=m.wsize,M=m.whave,I=m.wnext,D=m.window,B=m.hold,H=m.bits,Y=m.lencode,V=m.distcode,j=(1<<m.lenbits)-1,K=(1<<m.distbits)-1;t:do{H<15&&(B+=R[y++]<<H,H+=8,B+=R[y++]<<H,H+=8),pt=Y[B&j];e:for(;;){if(B>>>=W=pt>>>24,H-=W,(W=pt>>>16&255)===0)St[T++]=65535&pt;else{if(!(16&W)){if((64&W)==0){pt=Y[(65535&pt)+(B&(1<<W)-1)];continue e}if(32&W){m.mode=12;break t}f.msg="invalid literal/length code",m.mode=30;break t}yt=65535&pt,(W&=15)&&(H<W&&(B+=R[y++]<<H,H+=8),yt+=B&(1<<W)-1,B>>>=W,H-=W),H<15&&(B+=R[y++]<<H,H+=8,B+=R[y++]<<H,H+=8),pt=V[B&K];n:for(;;){if(B>>>=W=pt>>>24,H-=W,!(16&(W=pt>>>16&255))){if((64&W)==0){pt=V[(65535&pt)+(B&(1<<W)-1)];continue n}f.msg="invalid distance code",m.mode=30;break t}if(Mt=65535&pt,H<(W&=15)&&(B+=R[y++]<<H,(H+=8)<W&&(B+=R[y++]<<H,H+=8)),C<(Mt+=B&(1<<W)-1)){f.msg="invalid distance too far back",m.mode=30;break t}if(B>>>=W,H-=W,(W=T-E)<Mt){if(M<(W=Mt-W)&&m.sane){f.msg="invalid distance too far back",m.mode=30;break t}if(st=D,(F=0)===I){if(F+=k-W,W<yt){for(yt-=W;St[T++]=D[F++],--W;);F=T-Mt,st=St}}else if(I<W){if(F+=k+I-W,(W-=I)<yt){for(yt-=W;St[T++]=D[F++],--W;);if(F=0,I<yt){for(yt-=W=I;St[T++]=D[F++],--W;);F=T-Mt,st=St}}}else if(F+=I-W,W<yt){for(yt-=W;St[T++]=D[F++],--W;);F=T-Mt,st=St}for(;2<yt;)St[T++]=st[F++],St[T++]=st[F++],St[T++]=st[F++],yt-=3;yt&&(St[T++]=st[F++],1<yt&&(St[T++]=st[F++]))}else{for(F=T-Mt;St[T++]=St[F++],St[T++]=St[F++],St[T++]=St[F++],2<(yt-=3););yt&&(St[T++]=St[F++],1<yt&&(St[T++]=St[F++]))}break}}break}}while(y<_&&T<w);y-=yt=H>>3,B&=(1<<(H-=yt<<3))-1,f.next_in=y,f.next_out=T,f.avail_in=y<_?_-y+5:5-(y-_),f.avail_out=T<w?w-T+257:257-(T-w),m.hold=B,m.bits=H}},{}],49:[function(o,r,l){var f=o("../utils/common"),h=o("./adler32"),m=o("./crc32"),y=o("./inffast"),_=o("./inftrees"),T=1,E=2,w=0,C=-2,k=1,M=852,I=592;function D(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function H(F){var st;return F&&F.state?(st=F.state,F.total_in=F.total_out=st.total=0,F.msg="",st.wrap&&(F.adler=1&st.wrap),st.mode=k,st.last=0,st.havedict=0,st.dmax=32768,st.head=null,st.hold=0,st.bits=0,st.lencode=st.lendyn=new f.Buf32(M),st.distcode=st.distdyn=new f.Buf32(I),st.sane=1,st.back=-1,w):C}function Y(F){var st;return F&&F.state?((st=F.state).wsize=0,st.whave=0,st.wnext=0,H(F)):C}function V(F,st){var R,St;return F&&F.state?(St=F.state,st<0?(R=0,st=-st):(R=1+(st>>4),st<48&&(st&=15)),st&&(st<8||15<st)?C:(St.window!==null&&St.wbits!==st&&(St.window=null),St.wrap=R,St.wbits=st,Y(F))):C}function j(F,st){var R,St;return F?(St=new B,(F.state=St).window=null,(R=V(F,st))!==w&&(F.state=null),R):C}var K,pt,W=!0;function yt(F){if(W){var st;for(K=new f.Buf32(512),pt=new f.Buf32(32),st=0;st<144;)F.lens[st++]=8;for(;st<256;)F.lens[st++]=9;for(;st<280;)F.lens[st++]=7;for(;st<288;)F.lens[st++]=8;for(_(T,F.lens,0,288,K,0,F.work,{bits:9}),st=0;st<32;)F.lens[st++]=5;_(E,F.lens,0,32,pt,0,F.work,{bits:5}),W=!1}F.lencode=K,F.lenbits=9,F.distcode=pt,F.distbits=5}function Mt(F,st,R,St){var Q,tt=F.state;return tt.window===null&&(tt.wsize=1<<tt.wbits,tt.wnext=0,tt.whave=0,tt.window=new f.Buf8(tt.wsize)),St>=tt.wsize?(f.arraySet(tt.window,st,R-tt.wsize,tt.wsize,0),tt.wnext=0,tt.whave=tt.wsize):(St<(Q=tt.wsize-tt.wnext)&&(Q=St),f.arraySet(tt.window,st,R-St,Q,tt.wnext),(St-=Q)?(f.arraySet(tt.window,st,R-St,St,0),tt.wnext=St,tt.whave=tt.wsize):(tt.wnext+=Q,tt.wnext===tt.wsize&&(tt.wnext=0),tt.whave<tt.wsize&&(tt.whave+=Q))),0}l.inflateReset=Y,l.inflateReset2=V,l.inflateResetKeep=H,l.inflateInit=function(F){return j(F,15)},l.inflateInit2=j,l.inflate=function(F,st){var R,St,Q,tt,gt,lt,mt,z,G,ct,ot,at,Rt,Gt,Ot,Zt,Pt,Bt,ce,be,N,xt,_t,Z,q=0,et=new f.Buf8(4),At=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return C;(R=F.state).mode===12&&(R.mode=13),gt=F.next_out,Q=F.output,mt=F.avail_out,tt=F.next_in,St=F.input,lt=F.avail_in,z=R.hold,G=R.bits,ct=lt,ot=mt,xt=w;t:for(;;)switch(R.mode){case k:if(R.wrap===0){R.mode=13;break}for(;G<16;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(2&R.wrap&&z===35615){et[R.check=0]=255&z,et[1]=z>>>8&255,R.check=m(R.check,et,2,0),G=z=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&z)<<8)+(z>>8))%31){F.msg="incorrect header check",R.mode=30;break}if((15&z)!=8){F.msg="unknown compression method",R.mode=30;break}if(G-=4,N=8+(15&(z>>>=4)),R.wbits===0)R.wbits=N;else if(N>R.wbits){F.msg="invalid window size",R.mode=30;break}R.dmax=1<<N,F.adler=R.check=1,R.mode=512&z?10:12,G=z=0;break;case 2:for(;G<16;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(R.flags=z,(255&R.flags)!=8){F.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){F.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=z>>8&1),512&R.flags&&(et[0]=255&z,et[1]=z>>>8&255,R.check=m(R.check,et,2,0)),G=z=0,R.mode=3;case 3:for(;G<32;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}R.head&&(R.head.time=z),512&R.flags&&(et[0]=255&z,et[1]=z>>>8&255,et[2]=z>>>16&255,et[3]=z>>>24&255,R.check=m(R.check,et,4,0)),G=z=0,R.mode=4;case 4:for(;G<16;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}R.head&&(R.head.xflags=255&z,R.head.os=z>>8),512&R.flags&&(et[0]=255&z,et[1]=z>>>8&255,R.check=m(R.check,et,2,0)),G=z=0,R.mode=5;case 5:if(1024&R.flags){for(;G<16;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}R.length=z,R.head&&(R.head.extra_len=z),512&R.flags&&(et[0]=255&z,et[1]=z>>>8&255,R.check=m(R.check,et,2,0)),G=z=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(lt<(at=R.length)&&(at=lt),at&&(R.head&&(N=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),f.arraySet(R.head.extra,St,tt,at,N)),512&R.flags&&(R.check=m(R.check,St,at,tt)),lt-=at,tt+=at,R.length-=at),R.length))break t;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(lt===0)break t;for(at=0;N=St[tt+at++],R.head&&N&&R.length<65536&&(R.head.name+=String.fromCharCode(N)),N&&at<lt;);if(512&R.flags&&(R.check=m(R.check,St,at,tt)),lt-=at,tt+=at,N)break t}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(lt===0)break t;for(at=0;N=St[tt+at++],R.head&&N&&R.length<65536&&(R.head.comment+=String.fromCharCode(N)),N&&at<lt;);if(512&R.flags&&(R.check=m(R.check,St,at,tt)),lt-=at,tt+=at,N)break t}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;G<16;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(z!==(65535&R.check)){F.msg="header crc mismatch",R.mode=30;break}G=z=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),F.adler=R.check=0,R.mode=12;break;case 10:for(;G<32;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}F.adler=R.check=D(z),G=z=0,R.mode=11;case 11:if(R.havedict===0)return F.next_out=gt,F.avail_out=mt,F.next_in=tt,F.avail_in=lt,R.hold=z,R.bits=G,2;F.adler=R.check=1,R.mode=12;case 12:if(st===5||st===6)break t;case 13:if(R.last){z>>>=7&G,G-=7&G,R.mode=27;break}for(;G<3;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}switch(R.last=1&z,G-=1,3&(z>>>=1)){case 0:R.mode=14;break;case 1:if(yt(R),R.mode=20,st!==6)break;z>>>=2,G-=2;break t;case 2:R.mode=17;break;case 3:F.msg="invalid block type",R.mode=30}z>>>=2,G-=2;break;case 14:for(z>>>=7&G,G-=7&G;G<32;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if((65535&z)!=(z>>>16^65535)){F.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&z,G=z=0,R.mode=15,st===6)break t;case 15:R.mode=16;case 16:if(at=R.length){if(lt<at&&(at=lt),mt<at&&(at=mt),at===0)break t;f.arraySet(Q,St,tt,at,gt),lt-=at,tt+=at,mt-=at,gt+=at,R.length-=at;break}R.mode=12;break;case 17:for(;G<14;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(R.nlen=257+(31&z),z>>>=5,G-=5,R.ndist=1+(31&z),z>>>=5,G-=5,R.ncode=4+(15&z),z>>>=4,G-=4,286<R.nlen||30<R.ndist){F.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;G<3;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}R.lens[At[R.have++]]=7&z,z>>>=3,G-=3}for(;R.have<19;)R.lens[At[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,_t={bits:R.lenbits},xt=_(0,R.lens,0,19,R.lencode,0,R.work,_t),R.lenbits=_t.bits,xt){F.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Zt=(q=R.lencode[z&(1<<R.lenbits)-1])>>>16&255,Pt=65535&q,!((Ot=q>>>24)<=G);){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(Pt<16)z>>>=Ot,G-=Ot,R.lens[R.have++]=Pt;else{if(Pt===16){for(Z=Ot+2;G<Z;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(z>>>=Ot,G-=Ot,R.have===0){F.msg="invalid bit length repeat",R.mode=30;break}N=R.lens[R.have-1],at=3+(3&z),z>>>=2,G-=2}else if(Pt===17){for(Z=Ot+3;G<Z;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}G-=Ot,N=0,at=3+(7&(z>>>=Ot)),z>>>=3,G-=3}else{for(Z=Ot+7;G<Z;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}G-=Ot,N=0,at=11+(127&(z>>>=Ot)),z>>>=7,G-=7}if(R.have+at>R.nlen+R.ndist){F.msg="invalid bit length repeat",R.mode=30;break}for(;at--;)R.lens[R.have++]=N}}if(R.mode===30)break;if(R.lens[256]===0){F.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,_t={bits:R.lenbits},xt=_(T,R.lens,0,R.nlen,R.lencode,0,R.work,_t),R.lenbits=_t.bits,xt){F.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,_t={bits:R.distbits},xt=_(E,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,_t),R.distbits=_t.bits,xt){F.msg="invalid distances set",R.mode=30;break}if(R.mode=20,st===6)break t;case 20:R.mode=21;case 21:if(6<=lt&&258<=mt){F.next_out=gt,F.avail_out=mt,F.next_in=tt,F.avail_in=lt,R.hold=z,R.bits=G,y(F,ot),gt=F.next_out,Q=F.output,mt=F.avail_out,tt=F.next_in,St=F.input,lt=F.avail_in,z=R.hold,G=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Zt=(q=R.lencode[z&(1<<R.lenbits)-1])>>>16&255,Pt=65535&q,!((Ot=q>>>24)<=G);){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(Zt&&(240&Zt)==0){for(Bt=Ot,ce=Zt,be=Pt;Zt=(q=R.lencode[be+((z&(1<<Bt+ce)-1)>>Bt)])>>>16&255,Pt=65535&q,!(Bt+(Ot=q>>>24)<=G);){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}z>>>=Bt,G-=Bt,R.back+=Bt}if(z>>>=Ot,G-=Ot,R.back+=Ot,R.length=Pt,Zt===0){R.mode=26;break}if(32&Zt){R.back=-1,R.mode=12;break}if(64&Zt){F.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Zt,R.mode=22;case 22:if(R.extra){for(Z=R.extra;G<Z;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}R.length+=z&(1<<R.extra)-1,z>>>=R.extra,G-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Zt=(q=R.distcode[z&(1<<R.distbits)-1])>>>16&255,Pt=65535&q,!((Ot=q>>>24)<=G);){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if((240&Zt)==0){for(Bt=Ot,ce=Zt,be=Pt;Zt=(q=R.distcode[be+((z&(1<<Bt+ce)-1)>>Bt)])>>>16&255,Pt=65535&q,!(Bt+(Ot=q>>>24)<=G);){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}z>>>=Bt,G-=Bt,R.back+=Bt}if(z>>>=Ot,G-=Ot,R.back+=Ot,64&Zt){F.msg="invalid distance code",R.mode=30;break}R.offset=Pt,R.extra=15&Zt,R.mode=24;case 24:if(R.extra){for(Z=R.extra;G<Z;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}R.offset+=z&(1<<R.extra)-1,z>>>=R.extra,G-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){F.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(mt===0)break t;if(at=ot-mt,R.offset>at){if((at=R.offset-at)>R.whave&&R.sane){F.msg="invalid distance too far back",R.mode=30;break}Rt=at>R.wnext?(at-=R.wnext,R.wsize-at):R.wnext-at,at>R.length&&(at=R.length),Gt=R.window}else Gt=Q,Rt=gt-R.offset,at=R.length;for(mt<at&&(at=mt),mt-=at,R.length-=at;Q[gt++]=Gt[Rt++],--at;);R.length===0&&(R.mode=21);break;case 26:if(mt===0)break t;Q[gt++]=R.length,mt--,R.mode=21;break;case 27:if(R.wrap){for(;G<32;){if(lt===0)break t;lt--,z|=St[tt++]<<G,G+=8}if(ot-=mt,F.total_out+=ot,R.total+=ot,ot&&(F.adler=R.check=R.flags?m(R.check,Q,ot,gt-ot):h(R.check,Q,ot,gt-ot)),ot=mt,(R.flags?z:D(z))!==R.check){F.msg="incorrect data check",R.mode=30;break}G=z=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;G<32;){if(lt===0)break t;lt--,z+=St[tt++]<<G,G+=8}if(z!==(4294967295&R.total)){F.msg="incorrect length check",R.mode=30;break}G=z=0}R.mode=29;case 29:xt=1;break t;case 30:xt=-3;break t;case 31:return-4;case 32:default:return C}return F.next_out=gt,F.avail_out=mt,F.next_in=tt,F.avail_in=lt,R.hold=z,R.bits=G,(R.wsize||ot!==F.avail_out&&R.mode<30&&(R.mode<27||st!==4))&&Mt(F,F.output,F.next_out,ot-F.avail_out)?(R.mode=31,-4):(ct-=F.avail_in,ot-=F.avail_out,F.total_in+=ct,F.total_out+=ot,R.total+=ot,R.wrap&&ot&&(F.adler=R.check=R.flags?m(R.check,Q,ot,F.next_out-ot):h(R.check,Q,ot,F.next_out-ot)),F.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(ct==0&&ot===0||st===4)&&xt===w&&(xt=-5),xt)},l.inflateEnd=function(F){if(!F||!F.state)return C;var st=F.state;return st.window&&(st.window=null),F.state=null,w},l.inflateGetHeader=function(F,st){var R;return F&&F.state?(2&(R=F.state).wrap)==0?C:((R.head=st).done=!1,w):C},l.inflateSetDictionary=function(F,st){var R,St=st.length;return F&&F.state?(R=F.state).wrap!==0&&R.mode!==11?C:R.mode===11&&h(1,st,St,0)!==R.check?-3:Mt(F,st,St,St)?(R.mode=31,-4):(R.havedict=1,w):C},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,r,l){var f=o("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(T,E,w,C,k,M,I,D){var B,H,Y,V,j,K,pt,W,yt,Mt=D.bits,F=0,st=0,R=0,St=0,Q=0,tt=0,gt=0,lt=0,mt=0,z=0,G=null,ct=0,ot=new f.Buf16(16),at=new f.Buf16(16),Rt=null,Gt=0;for(F=0;F<=15;F++)ot[F]=0;for(st=0;st<C;st++)ot[E[w+st]]++;for(Q=Mt,St=15;1<=St&&ot[St]===0;St--);if(St<Q&&(Q=St),St===0)return k[M++]=20971520,k[M++]=20971520,D.bits=1,0;for(R=1;R<St&&ot[R]===0;R++);for(Q<R&&(Q=R),F=lt=1;F<=15;F++)if(lt<<=1,(lt-=ot[F])<0)return-1;if(0<lt&&(T===0||St!==1))return-1;for(at[1]=0,F=1;F<15;F++)at[F+1]=at[F]+ot[F];for(st=0;st<C;st++)E[w+st]!==0&&(I[at[E[w+st]]++]=st);if(K=T===0?(G=Rt=I,19):T===1?(G=h,ct-=257,Rt=m,Gt-=257,256):(G=y,Rt=_,-1),F=R,j=M,gt=st=z=0,Y=-1,V=(mt=1<<(tt=Q))-1,T===1&&852<mt||T===2&&592<mt)return 1;for(;;){for(pt=F-gt,yt=I[st]<K?(W=0,I[st]):I[st]>K?(W=Rt[Gt+I[st]],G[ct+I[st]]):(W=96,0),B=1<<F-gt,R=H=1<<tt;k[j+(z>>gt)+(H-=B)]=pt<<24|W<<16|yt|0,H!==0;);for(B=1<<F-1;z&B;)B>>=1;if(B!==0?(z&=B-1,z+=B):z=0,st++,--ot[F]==0){if(F===St)break;F=E[w+I[st]]}if(Q<F&&(z&V)!==Y){for(gt===0&&(gt=Q),j+=R,lt=1<<(tt=F-gt);tt+gt<St&&!((lt-=ot[tt+gt])<=0);)tt++,lt<<=1;if(mt+=1<<tt,T===1&&852<mt||T===2&&592<mt)return 1;k[Y=z&V]=Q<<24|tt<<16|j-M|0}}return z!==0&&(k[j+z]=F-gt<<24|64<<16|0),D.bits=Q,0}},{"../utils/common":41}],51:[function(o,r,l){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,r,l){var f=o("../utils/common"),h=0,m=1;function y(q){for(var et=q.length;0<=--et;)q[et]=0}var _=0,T=29,E=256,w=E+1+T,C=30,k=19,M=2*w+1,I=15,D=16,B=7,H=256,Y=16,V=17,j=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],pt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mt=new Array(2*(w+2));y(Mt);var F=new Array(2*C);y(F);var st=new Array(512);y(st);var R=new Array(256);y(R);var St=new Array(T);y(St);var Q,tt,gt,lt=new Array(C);function mt(q,et,At,Nt,ft){this.static_tree=q,this.extra_bits=et,this.extra_base=At,this.elems=Nt,this.max_length=ft,this.has_stree=q&&q.length}function z(q,et){this.dyn_tree=q,this.max_code=0,this.stat_desc=et}function G(q){return q<256?st[q]:st[256+(q>>>7)]}function ct(q,et){q.pending_buf[q.pending++]=255&et,q.pending_buf[q.pending++]=et>>>8&255}function ot(q,et,At){q.bi_valid>D-At?(q.bi_buf|=et<<q.bi_valid&65535,ct(q,q.bi_buf),q.bi_buf=et>>D-q.bi_valid,q.bi_valid+=At-D):(q.bi_buf|=et<<q.bi_valid&65535,q.bi_valid+=At)}function at(q,et,At){ot(q,At[2*et],At[2*et+1])}function Rt(q,et){for(var At=0;At|=1&q,q>>>=1,At<<=1,0<--et;);return At>>>1}function Gt(q,et,At){var Nt,ft,It=new Array(I+1),Lt=0;for(Nt=1;Nt<=I;Nt++)It[Nt]=Lt=Lt+At[Nt-1]<<1;for(ft=0;ft<=et;ft++){var kt=q[2*ft+1];kt!==0&&(q[2*ft]=Rt(It[kt]++,kt))}}function Ot(q){var et;for(et=0;et<w;et++)q.dyn_ltree[2*et]=0;for(et=0;et<C;et++)q.dyn_dtree[2*et]=0;for(et=0;et<k;et++)q.bl_tree[2*et]=0;q.dyn_ltree[2*H]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function Zt(q){8<q.bi_valid?ct(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function Pt(q,et,At,Nt){var ft=2*et,It=2*At;return q[ft]<q[It]||q[ft]===q[It]&&Nt[et]<=Nt[At]}function Bt(q,et,At){for(var Nt=q.heap[At],ft=At<<1;ft<=q.heap_len&&(ft<q.heap_len&&Pt(et,q.heap[ft+1],q.heap[ft],q.depth)&&ft++,!Pt(et,Nt,q.heap[ft],q.depth));)q.heap[At]=q.heap[ft],At=ft,ft<<=1;q.heap[At]=Nt}function ce(q,et,At){var Nt,ft,It,Lt,kt=0;if(q.last_lit!==0)for(;Nt=q.pending_buf[q.d_buf+2*kt]<<8|q.pending_buf[q.d_buf+2*kt+1],ft=q.pending_buf[q.l_buf+kt],kt++,Nt===0?at(q,ft,et):(at(q,(It=R[ft])+E+1,et),(Lt=K[It])!==0&&ot(q,ft-=St[It],Lt),at(q,It=G(--Nt),At),(Lt=pt[It])!==0&&ot(q,Nt-=lt[It],Lt)),kt<q.last_lit;);at(q,H,et)}function be(q,et){var At,Nt,ft,It=et.dyn_tree,Lt=et.stat_desc.static_tree,kt=et.stat_desc.has_stree,Vt=et.stat_desc.elems,fe=-1;for(q.heap_len=0,q.heap_max=M,At=0;At<Vt;At++)It[2*At]!==0?(q.heap[++q.heap_len]=fe=At,q.depth[At]=0):It[2*At+1]=0;for(;q.heap_len<2;)It[2*(ft=q.heap[++q.heap_len]=fe<2?++fe:0)]=1,q.depth[ft]=0,q.opt_len--,kt&&(q.static_len-=Lt[2*ft+1]);for(et.max_code=fe,At=q.heap_len>>1;1<=At;At--)Bt(q,It,At);for(ft=Vt;At=q.heap[1],q.heap[1]=q.heap[q.heap_len--],Bt(q,It,1),Nt=q.heap[1],q.heap[--q.heap_max]=At,q.heap[--q.heap_max]=Nt,It[2*ft]=It[2*At]+It[2*Nt],q.depth[ft]=(q.depth[At]>=q.depth[Nt]?q.depth[At]:q.depth[Nt])+1,It[2*At+1]=It[2*Nt+1]=ft,q.heap[1]=ft++,Bt(q,It,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(jt,rn){var ei,dn,Li,ve,Pe,hn,Ne=rn.dyn_tree,mi=rn.max_code,Pa=rn.stat_desc.static_tree,za=rn.stat_desc.has_stree,Di=rn.stat_desc.extra_bits,gi=rn.stat_desc.extra_base,kn=rn.stat_desc.max_length,yn=0;for(ve=0;ve<=I;ve++)jt.bl_count[ve]=0;for(Ne[2*jt.heap[jt.heap_max]+1]=0,ei=jt.heap_max+1;ei<M;ei++)kn<(ve=Ne[2*Ne[2*(dn=jt.heap[ei])+1]+1]+1)&&(ve=kn,yn++),Ne[2*dn+1]=ve,mi<dn||(jt.bl_count[ve]++,Pe=0,gi<=dn&&(Pe=Di[dn-gi]),hn=Ne[2*dn],jt.opt_len+=hn*(ve+Pe),za&&(jt.static_len+=hn*(Pa[2*dn+1]+Pe)));if(yn!==0){do{for(ve=kn-1;jt.bl_count[ve]===0;)ve--;jt.bl_count[ve]--,jt.bl_count[ve+1]+=2,jt.bl_count[kn]--,yn-=2}while(0<yn);for(ve=kn;ve!==0;ve--)for(dn=jt.bl_count[ve];dn!==0;)mi<(Li=jt.heap[--ei])||(Ne[2*Li+1]!==ve&&(jt.opt_len+=(ve-Ne[2*Li+1])*Ne[2*Li],Ne[2*Li+1]=ve),dn--)}})(q,et),Gt(It,fe,q.bl_count)}function N(q,et,At){var Nt,ft,It=-1,Lt=et[1],kt=0,Vt=7,fe=4;for(Lt===0&&(Vt=138,fe=3),et[2*(At+1)+1]=65535,Nt=0;Nt<=At;Nt++)ft=Lt,Lt=et[2*(Nt+1)+1],++kt<Vt&&ft===Lt||(kt<fe?q.bl_tree[2*ft]+=kt:ft!==0?(ft!==It&&q.bl_tree[2*ft]++,q.bl_tree[2*Y]++):kt<=10?q.bl_tree[2*V]++:q.bl_tree[2*j]++,It=ft,fe=(kt=0)===Lt?(Vt=138,3):ft===Lt?(Vt=6,3):(Vt=7,4))}function xt(q,et,At){var Nt,ft,It=-1,Lt=et[1],kt=0,Vt=7,fe=4;for(Lt===0&&(Vt=138,fe=3),Nt=0;Nt<=At;Nt++)if(ft=Lt,Lt=et[2*(Nt+1)+1],!(++kt<Vt&&ft===Lt)){if(kt<fe)for(;at(q,ft,q.bl_tree),--kt!=0;);else ft!==0?(ft!==It&&(at(q,ft,q.bl_tree),kt--),at(q,Y,q.bl_tree),ot(q,kt-3,2)):kt<=10?(at(q,V,q.bl_tree),ot(q,kt-3,3)):(at(q,j,q.bl_tree),ot(q,kt-11,7));It=ft,fe=(kt=0)===Lt?(Vt=138,3):ft===Lt?(Vt=6,3):(Vt=7,4)}}y(lt);var _t=!1;function Z(q,et,At,Nt){ot(q,(_<<1)+(Nt?1:0),3),(function(ft,It,Lt,kt){Zt(ft),ct(ft,Lt),ct(ft,~Lt),f.arraySet(ft.pending_buf,ft.window,It,Lt,ft.pending),ft.pending+=Lt})(q,et,At)}l._tr_init=function(q){_t||((function(){var et,At,Nt,ft,It,Lt=new Array(I+1);for(ft=Nt=0;ft<T-1;ft++)for(St[ft]=Nt,et=0;et<1<<K[ft];et++)R[Nt++]=ft;for(R[Nt-1]=ft,ft=It=0;ft<16;ft++)for(lt[ft]=It,et=0;et<1<<pt[ft];et++)st[It++]=ft;for(It>>=7;ft<C;ft++)for(lt[ft]=It<<7,et=0;et<1<<pt[ft]-7;et++)st[256+It++]=ft;for(At=0;At<=I;At++)Lt[At]=0;for(et=0;et<=143;)Mt[2*et+1]=8,et++,Lt[8]++;for(;et<=255;)Mt[2*et+1]=9,et++,Lt[9]++;for(;et<=279;)Mt[2*et+1]=7,et++,Lt[7]++;for(;et<=287;)Mt[2*et+1]=8,et++,Lt[8]++;for(Gt(Mt,w+1,Lt),et=0;et<C;et++)F[2*et+1]=5,F[2*et]=Rt(et,5);Q=new mt(Mt,K,E+1,w,I),tt=new mt(F,pt,0,C,I),gt=new mt(new Array(0),W,0,k,B)})(),_t=!0),q.l_desc=new z(q.dyn_ltree,Q),q.d_desc=new z(q.dyn_dtree,tt),q.bl_desc=new z(q.bl_tree,gt),q.bi_buf=0,q.bi_valid=0,Ot(q)},l._tr_stored_block=Z,l._tr_flush_block=function(q,et,At,Nt){var ft,It,Lt=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(kt){var Vt,fe=4093624447;for(Vt=0;Vt<=31;Vt++,fe>>>=1)if(1&fe&&kt.dyn_ltree[2*Vt]!==0)return h;if(kt.dyn_ltree[18]!==0||kt.dyn_ltree[20]!==0||kt.dyn_ltree[26]!==0)return m;for(Vt=32;Vt<E;Vt++)if(kt.dyn_ltree[2*Vt]!==0)return m;return h})(q)),be(q,q.l_desc),be(q,q.d_desc),Lt=(function(kt){var Vt;for(N(kt,kt.dyn_ltree,kt.l_desc.max_code),N(kt,kt.dyn_dtree,kt.d_desc.max_code),be(kt,kt.bl_desc),Vt=k-1;3<=Vt&&kt.bl_tree[2*yt[Vt]+1]===0;Vt--);return kt.opt_len+=3*(Vt+1)+5+5+4,Vt})(q),ft=q.opt_len+3+7>>>3,(It=q.static_len+3+7>>>3)<=ft&&(ft=It)):ft=It=At+5,At+4<=ft&&et!==-1?Z(q,et,At,Nt):q.strategy===4||It===ft?(ot(q,2+(Nt?1:0),3),ce(q,Mt,F)):(ot(q,4+(Nt?1:0),3),(function(kt,Vt,fe,jt){var rn;for(ot(kt,Vt-257,5),ot(kt,fe-1,5),ot(kt,jt-4,4),rn=0;rn<jt;rn++)ot(kt,kt.bl_tree[2*yt[rn]+1],3);xt(kt,kt.dyn_ltree,Vt-1),xt(kt,kt.dyn_dtree,fe-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,Lt+1),ce(q,q.dyn_ltree,q.dyn_dtree)),Ot(q),Nt&&Zt(q)},l._tr_tally=function(q,et,At){return q.pending_buf[q.d_buf+2*q.last_lit]=et>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&et,q.pending_buf[q.l_buf+q.last_lit]=255&At,q.last_lit++,et===0?q.dyn_ltree[2*At]++:(q.matches++,et--,q.dyn_ltree[2*(R[At]+E+1)]++,q.dyn_dtree[2*G(et)]++),q.last_lit===q.lit_bufsize-1},l._tr_align=function(q){ot(q,2,3),at(q,H,Mt),(function(et){et.bi_valid===16?(ct(et,et.bi_buf),et.bi_buf=0,et.bi_valid=0):8<=et.bi_valid&&(et.pending_buf[et.pending++]=255&et.bi_buf,et.bi_buf>>=8,et.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(o,r,l){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,r,l){(function(f){(function(h,m){if(!h.setImmediate){var y,_,T,E,w=1,C={},k=!1,M=h.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(h);I=I&&I.setTimeout?I:h,y={}.toString.call(h.process)==="[object process]"?function(Y){process.nextTick(function(){B(Y)})}:(function(){if(h.postMessage&&!h.importScripts){var Y=!0,V=h.onmessage;return h.onmessage=function(){Y=!1},h.postMessage("","*"),h.onmessage=V,Y}})()?(E="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",H,!1):h.attachEvent("onmessage",H),function(Y){h.postMessage(E+Y,"*")}):h.MessageChannel?((T=new MessageChannel).port1.onmessage=function(Y){B(Y.data)},function(Y){T.port2.postMessage(Y)}):M&&"onreadystatechange"in M.createElement("script")?(_=M.documentElement,function(Y){var V=M.createElement("script");V.onreadystatechange=function(){B(Y),V.onreadystatechange=null,_.removeChild(V),V=null},_.appendChild(V)}):function(Y){setTimeout(B,0,Y)},I.setImmediate=function(Y){typeof Y!="function"&&(Y=new Function(""+Y));for(var V=new Array(arguments.length-1),j=0;j<V.length;j++)V[j]=arguments[j+1];var K={callback:Y,args:V};return C[w]=K,y(w),w++},I.clearImmediate=D}function D(Y){delete C[Y]}function B(Y){if(k)setTimeout(B,0,Y);else{var V=C[Y];if(V){k=!0;try{(function(j){var K=j.callback,pt=j.args;switch(pt.length){case 0:K();break;case 1:K(pt[0]);break;case 2:K(pt[0],pt[1]);break;case 3:K(pt[0],pt[1],pt[2]);break;default:K.apply(m,pt)}})(V)}finally{D(Y),k=!1}}}}function H(Y){Y.source===h&&typeof Y.data=="string"&&Y.data.indexOf(E)===0&&B(+Y.data.slice(E.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,typeof vu<"u"?vu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(nd)),nd.exports}var OA=UA();const Bv=Hu(OA),Yr=i=>i.replace(/[/\\?%*:|"<>]/g,"-").trim()||"Unknown",BA=async i=>{const e=new Bv,o=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19),r=`${Yr(i.siteName)}_${o}`,l=e.folder(r),f=await HA(i);l==null||l.file(`${Yr(i.siteName)}_REPORT.kmz`,f);const h=`PROJECT: ${i.siteName}
UNIT: ${i.companyName}
DATE: ${new Date().toLocaleString()}
POLE COUNT: ${i.poles.length}`;l==null||l.file("PROJECT_SUMMARY.txt",h);const m=l==null?void 0:l.folder("POLES");for(const y of i.poles){const _=m==null?void 0:m.folder(Yr(y.name)),T=`POLE ID: ${y.name}
LAT: ${y.latitude}
LNG: ${y.longitude}
NOTES: ${y.notes||"None"}`;_==null||_.file("metadata.txt",T);for(let E=0;E<y.photos.length;E++){const w=y.photos[E],C=await ku(w.id);C&&(_==null||_.file(`PHOTO_${E+1}.jpg`,C))}}return e},HA=async i=>{const e=new Bv,o=e.folder("images");let r=`<?xml version="1.0" encoding="UTF-8"?><kml xmlns="http://www.opengis.net/kml/2.2"><Document><name>${i.siteName}</name>`;for(const l of i.poles){const f=Yr(l.name),h=l.photos.map((m,y)=>`<img src="images/${f}_IMG_${y+1}.jpg" width="400"/><br/>`).join("");r+=`<Placemark><name>${l.name}</name><description><![CDATA[${h}<p>${l.notes||""}</p>]]></description><Point><coordinates>${l.longitude},${l.latitude},${l.altitude||0}</coordinates></Point></Placemark>`;for(let m=0;m<l.photos.length;m++){const y=await ku(l.photos[m].id);y&&(o==null||o.file(`${f}_IMG_${m+1}.jpg`,y))}}return r+="</Document></kml>",e.file("doc.kml",r),await e.generateAsync({type:"blob"})},GA=async i=>{const o=await(await BA(i)).generateAsync({type:"blob"}),r=await o.arrayBuffer(),l=`${Yr(i.siteName)}_OSP_EXPORT.zip`;if("showSaveFilePicker"in window)try{const _=await(await window.showSaveFilePicker({suggestedName:l,types:[{description:"Project Archive",accept:{"application/zip":[".zip"]}}]})).createWritable();await _.write(r),await _.close();return}catch(y){if(y.name==="AbortError")return;console.warn("showSaveFilePicker failed or cancelled, trying share...",y)}const f=new File([r],l,{type:"application/zip"});if(navigator.canShare&&navigator.canShare({files:[f]}))try{await navigator.share({files:[f],title:`OSP Export: ${i.siteName}`,text:'Select "Save to Files" to choose your Documents folder.'});return}catch(y){if(y.name==="AbortError")return;console.error("Navigator share failed",y)}const h=URL.createObjectURL(o),m=document.createElement("a");m.href=h,m.download=l,document.body.appendChild(m),m.click(),document.body.removeChild(m),setTimeout(()=>URL.revokeObjectURL(h),1e3)},id="osp_survey_pro_v4_state",qA=()=>{const[i,e]=bt.useState(!1),[o,r]=bt.useState(navigator.onLine),l=bt.useRef(!1),f=bt.useRef(!1),h=bt.useRef(null),m=()=>({id:crypto.randomUUID(),siteName:"ACTIVE OSP PROJECT",companyName:"FIELD OPERATIONS",groupName:"SURVEY GROUP 1",poles:[]}),[y,_]=bt.useState(m()),[T,E]=bt.useState(null),[w,C]=bt.useState(null),[k,M]=bt.useState(!1),[I,D]=bt.useState(!1),[B,H]=bt.useState("map"),[Y,V]=bt.useState("saved"),[j,K]=bt.useState(!1),[pt,W]=bt.useState(!1),[yt,Mt]=bt.useState(!1),[F,st]=bt.useState(!1),[R,St]=bt.useState(null),[Q,tt]=bt.useState(!1),[gt,lt]=bt.useState(null),[mt,z]=bt.useState(!0);bt.useEffect(()=>{h.current=y},[y]),bt.useEffect(()=>{const Pt=()=>r(!0),Bt=()=>r(!1);return window.addEventListener("online",Pt),window.addEventListener("offline",Bt),()=>{window.removeEventListener("online",Pt),window.removeEventListener("offline",Bt)}},[]);const G=bt.useCallback(async()=>{const Pt=await Ov();tt(Pt.active),lt(Pt.daysLeft),z(!1)},[]),ct=bt.useCallback(async()=>{const Pt=await F_();St(Pt)},[]);bt.useEffect(()=>{G(),hT().then(st),ct();const Pt=setInterval(ct,1e4);return()=>clearInterval(Pt)},[G,ct]),bt.useEffect(()=>{(async()=>{try{const Bt=await pT(id);Bt&&Bt.id&&(f.current=!0,_(Bt),V("saved"))}catch(Bt){console.error("Storage Load Error:",Bt)}finally{l.current=!0}})()},[]),bt.useEffect(()=>{if(l.current){if(f.current){f.current=!1;return}V("unsaved");const Pt=setTimeout(async()=>{V("saving");try{await Zm(id,y),V("saved"),ct()}catch(Bt){console.error("Local Save Error:",Bt),V("unsaved")}},400);return()=>clearTimeout(Pt)}},[y,ct]),bt.useEffect(()=>{const Pt=()=>{Y!=="saved"&&h.current&&Zm(id,h.current)};return window.addEventListener("beforeunload",Pt),()=>window.removeEventListener("beforeunload",Pt)},[Y]),bt.useEffect(()=>{if(!navigator.geolocation)return;const Pt=navigator.geolocation.watchPosition(Bt=>{C({lat:Bt.coords.latitude,lng:Bt.coords.longitude,accuracy:Bt.coords.accuracy,altitude:Bt.coords.altitude||void 0})},Bt=>console.error("GPS Error:",Bt),{enableHighAccuracy:!0,maximumAge:0,timeout:2e4});return()=>navigator.geolocation.clearWatch(Pt)},[]);const ot=bt.useCallback((Pt,Bt,ce)=>{if(isNaN(Pt)||!isFinite(Pt))return;const be=crypto.randomUUID();_(N=>({...N,poles:[...N.poles,{id:be,name:`POLE-${(N.poles.length+1).toString().padStart(3,"0")}`,latitude:Pt,longitude:Bt,altitude:ce,timestamp:new Date().toISOString(),photos:[],notes:""}]})),E(be)},[]),at=(Pt,Bt)=>{_(ce=>({...ce,poles:ce.poles.map(be=>be.id===Pt?{...be,...Bt}:be)}))},Rt=Pt=>{_(Bt=>{const ce=[...Bt.poles];return Pt.forEach(({id:be,updates:N})=>{const xt=ce.findIndex(_t=>_t.id===be);xt!==-1&&(ce[xt]={...ce[xt],...N})}),{...Bt,poles:ce}})},Gt=bt.useCallback(Pt=>{_(Bt=>({...Bt,poles:Bt.poles.filter(ce=>!Pt.includes(ce.id))})),T&&Pt.includes(T)&&E(null)},[T]),Ot=async()=>{if(!Q){Mt(!0);return}if(y.poles.length===0)return alert("No data to export.");M(!0);try{await GA(y),D(!0),setTimeout(()=>{alert(`Sync Successful!
Project package written to local storage.`)},500)}catch(Pt){if(console.error("Export Error:",Pt),Pt.name==="AbortError")return;alert("Sync Failed: "+(Pt.message||"Check storage permissions."))}finally{setTimeout(()=>{M(!1),D(!1)},3e3)}};if(mt)return P.jsxs("div",{className:"h-screen bg-slate-900 flex flex-col items-center justify-center gap-6 text-center px-8",children:[P.jsx(bu,{className:"w-12 h-12 text-indigo-500 animate-spin"}),P.jsx("span",{className:"text-[10px] text-indigo-300 font-black uppercase tracking-[0.4em]",children:"Initializing Core..."})]});const Zt=y.poles.find(Pt=>Pt.id===T);return P.jsxs("div",{className:"flex flex-col h-screen bg-white overflow-hidden text-slate-900 font-sans",children:[(k||i)&&P.jsxs("div",{className:"fixed inset-0 z-[10000] bg-slate-950 flex flex-col items-center justify-center p-8 text-center animate-fade-in",children:[P.jsx("div",{className:"w-24 h-24 mb-10",children:P.jsx("div",{className:`w-full h-full rounded-[36px] flex items-center justify-center shadow-[0_0_40px_rgba(79,70,229,0.5)] transition-colors duration-500 ${I?"bg-emerald-600":"bg-indigo-600"}`,children:I?P.jsx(Ay,{className:"w-12 h-12 text-white"}):P.jsx(iS,{className:"w-12 h-12 text-white animate-bounce"})})}),P.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-widest mb-3",children:i?"PURGING DISK":I?"SYNC COMPLETE":"COMPILING ARCHIVE"}),P.jsx("p",{className:"text-indigo-400 text-[10px] font-black uppercase tracking-[0.4em]",children:i?"Clearing cache...":I?"Binary data written":"Building project package..."})]}),yt&&P.jsx(zA,{onActivated:()=>{G(),Mt(!1)},onOpenGenerator:()=>W(!0),onClose:()=>Mt(!1)}),pt&&P.jsx(PA,{onClose:()=>W(!1)}),j&&P.jsx("div",{className:"fixed inset-0 z-[9500] bg-white overflow-y-auto pt-[env(safe-area-inset-top)]",children:P.jsx(DA,{onClose:()=>K(!1)})}),P.jsxs("div",{className:"bg-slate-900 text-white px-4 pt-[calc(env(safe-area-inset-top)+10px)] pb-2.5 flex items-center justify-between text-[9px] font-black uppercase tracking-[0.2em] z-[6000] border-b app-border-dark shrink-0",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsxs("div",{className:"flex items-center gap-1.5 text-indigo-400",children:[P.jsx(N_,{className:"w-3.5 h-3.5"}),P.jsx("span",{children:"OSP PRO"})]}),P.jsx("div",{className:"flex items-center gap-1.5 border-l border-white/10 pl-3",children:o?P.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400",children:[P.jsx(AS,{className:"w-3 h-3"}),P.jsx("span",{children:"LIVE"})]}):P.jsxs("div",{className:"flex items-center gap-1.5 text-amber-500",children:[P.jsx(Iu,{className:"w-3 h-3"}),P.jsx("span",{children:"OFFLINE"})]})})]}),P.jsxs("div",{className:"flex items-center gap-4",children:[P.jsxs("div",{className:`hidden lg:flex items-center gap-1.5 ${R&&R.percent>90?"text-rose-500":"text-slate-500"}`,children:[P.jsx(sd,{className:"w-3 h-3"}),P.jsx("span",{children:R?`${(R.usage/(1024*1024*1024)).toFixed(1)}GB`:"--"})]}),P.jsxs("div",{className:`flex items-center gap-1.5 ${Q?"text-emerald-400":"text-amber-500"}`,children:[Q?P.jsx(Gu,{className:"w-3 h-3"}):P.jsx(qm,{className:"w-3 h-3"}),P.jsx("span",{children:Q?`${gt}D`:"FREE"})]}),P.jsxs("div",{className:`flex items-center gap-1.5 ${w?"text-blue-400":"text-red-500 animate-pulse"}`,children:[P.jsx(z_,{className:"w-3.5 h-3.5"}),P.jsxs("span",{children:["GPS ",w?"OK":"..."]})]})]})]}),P.jsxs("header",{className:"h-16 bg-white border-b app-border-light px-4 flex items-center justify-between shrink-0 z-[5000] shadow-sm",children:[P.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[P.jsx("div",{className:"w-10 h-10 bg-indigo-50 border border-indigo-100 rounded-xl flex items-center justify-center text-indigo-600 shadow-sm",children:P.jsx(Au,{className:"w-5 h-5"})}),P.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[P.jsx("input",{value:y.siteName,onChange:Pt=>_({...y,siteName:Pt.target.value.toUpperCase()}),className:"text-xs font-black text-slate-800 bg-transparent border-none focus:ring-0 p-0 truncate uppercase leading-tight",placeholder:"PROJECT NAME"}),P.jsx("div",{className:"flex items-center gap-1.5 mt-0.5",children:P.jsx("input",{value:y.companyName||"",onChange:Pt=>_({...y,companyName:Pt.target.value.toUpperCase()}),className:"text-[9px] font-black text-indigo-500 bg-transparent border-none focus:ring-0 p-0 truncate uppercase tracking-wider",placeholder:"OPERATIONS UNIT"})})]})]}),P.jsx("div",{className:"flex items-center gap-2",children:P.jsxs("button",{onClick:Ot,disabled:k,className:`px-4 py-2.5 rounded-xl text-[9px] font-black tracking-widest flex items-center gap-2 btn-active shadow-md disabled:opacity-50 transition-colors
              ${Q?"bg-slate-900 text-white":"bg-indigo-600 text-white"}
            `,children:[Q?P.jsx(qy,{className:"w-3.5 h-3.5 text-emerald-400"}):P.jsx(qm,{className:"w-3.5 h-3.5 text-white"}),P.jsx("span",{className:"hidden sm:inline",children:Q?"SYNC":"UNLOCK"})]})})]}),P.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[P.jsxs("aside",{className:`absolute inset-y-0 left-0 z-[4500] w-full md:w-96 bg-white border-r app-border-light flex flex-col transition-all duration-300 ${B==="list"?"translate-x-0":"-translate-x-full md:translate-x-0 shadow-2xl md:shadow-none"}`,children:[P.jsxs("div",{className:"p-6 flex flex-col border-b app-border-light bg-slate-50/50",children:[P.jsx("h2",{className:"font-black text-slate-800 uppercase tracking-widest text-[11px]",children:"Field Inventory"}),P.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase mt-1 tracking-widest",children:[y.poles.length," Poles Logged"]})]}),P.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:y.poles.length===0?P.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 gap-8 opacity-40 px-10",children:[P.jsx(Au,{className:"w-20 h-20"}),P.jsx("p",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-center leading-loose",children:"Tap satellite map to add survey points"})]}):y.poles.map(Pt=>{var Bt;return P.jsxs("button",{onClick:()=>{E(Pt.id),H("map")},className:`w-full p-5 rounded-[32px] text-left flex items-center gap-5 border transition-all btn-active ${T===Pt.id?"bg-indigo-50 border-indigo-200 ring-2 ring-indigo-500/10":"bg-white border-slate-100 shadow-sm"}`,children:[P.jsx("div",{className:"w-16 h-16 rounded-[24px] bg-slate-100 flex items-center justify-center shrink-0 overflow-hidden border-2 border-slate-200",children:(Bt=Pt.photos)!=null&&Bt[0]?P.jsx("img",{src:Pt.photos[0].thumbnail,className:"w-full h-full object-cover"}):P.jsx(Au,{className:"w-7 h-7 text-slate-300"})}),P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsx("p",{className:"font-black text-base truncate uppercase tracking-tighter text-slate-800",children:Pt.name}),P.jsxs("p",{className:"text-[10px] text-slate-400 monospaced font-bold mt-1.5",children:[Pt.latitude.toFixed(7),", ",Pt.longitude.toFixed(7)]})]})]},Pt.id)})})]}),P.jsx("main",{className:"flex-1 relative bg-slate-100 overflow-hidden",children:!i&&P.jsx(sT,{poles:y.poles,onMapClick:ot,onPoleUpdate:at,onMultiplePoleUpdate:Rt,onPolesDelete:Gt,selectedPoleId:T||void 0,userLocation:w,isActive:B==="map"&&!T})}),T&&Zt&&P.jsx("div",{className:"fixed inset-0 z-[5500] bg-slate-900/70 backdrop-blur-md flex items-end justify-center md:items-center",children:P.jsx("div",{className:"w-full h-[96vh] md:h-auto md:max-h-[88vh] md:w-[540px] bg-white bottom-sheet md:rounded-[48px] shadow-2xl overflow-hidden animate-slide-up",children:P.jsx(MA,{pole:Zt,siteName:y.siteName,companyName:y.companyName||"FIELD OPERATIONS",onUpdate:Pt=>at(T,Pt),onDelete:()=>Gt([T]),onClose:()=>E(null)})})})]}),P.jsxs("nav",{className:"md:hidden bg-white border-t app-border-light flex items-center justify-around px-6 z-[4900] pb-[env(safe-area-inset-bottom)] h-[calc(5rem+env(safe-area-inset-bottom))] shadow-[0_-10px_20px_rgba(0,0,0,0.03)] shrink-0",children:[P.jsxs("button",{onClick:()=>H("map"),className:`flex flex-col items-center gap-2 p-4 rounded-[24px] transition-all ${B==="map"?"text-indigo-600 bg-indigo-50 shadow-inner":"text-slate-400"}`,children:[P.jsx(eS,{className:"w-7 h-7"}),P.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Map"})]}),P.jsxs("button",{onClick:()=>H("list"),className:`flex flex-col items-center gap-2 p-4 rounded-[24px] transition-all ${B==="list"?"text-indigo-600 bg-indigo-50 shadow-inner":"text-slate-400"}`,children:[P.jsx(Ky,{className:"w-7 h-7"}),P.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Inventory"})]}),P.jsxs("button",{onClick:()=>K(!0),className:`flex flex-col items-center gap-2 p-4 rounded-[24px] transition-all ${j?"text-indigo-600 bg-indigo-50 shadow-inner":"text-slate-400"}`,children:[P.jsx(xy,{className:"w-7 h-7"}),P.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Manual"})]})]})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(i=>console.log("Service Worker Registered")).catch(i=>console.log("Service Worker Registration Failed",i))});const Hv=document.getElementById("root");if(!Hv)throw new Error("Could not find root element to mount to");const VA=dy.createRoot(Hv);VA.render(P.jsx(Ru.StrictMode,{children:P.jsx(qA,{})}));
